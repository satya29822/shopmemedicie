!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("_"),require("moment")):"function"==typeof define&&define.amd?define(["_","moment"],t):"object"==typeof exports?exports.components=t(require("_"),require("moment")):(e.app=e.app||{},e.app.components=t(e._,e.moment))}(window,function(e,t){return function(e){function t(t){for(var n,l,i=t[0],s=t[1],u=t[2],d=0,f=[];d<i.length;d++)l=i[d],r[l]&&f.push(r[l][0]),r[l]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(c&&c(t);f.length;)f.shift()();return o.push.apply(o,u||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],n=!0,i=1;i<a.length;i++){var s=a[i];0!==r[s]&&(n=!1)}n&&(o.splice(t--,1),e=l(l.s=a[0]))}return e}var n={},r={0:0},o=[];function l(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=n,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)l.d(a,n,function(t){return e[t]}.bind(null,n));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var c=s;return o.push([206,1]),a()}([,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmallNavigation=t.withValidation=t.WPInput=t.ValidationElements=t.Option=t.FormField=t.WPModal=t.Popover=t.UserSafetyOperations=t.SocialSharing=t.ResizableTextarea=t.PremiumLogo=t.MultiSelect=t.MoreOptionsButton=t.MenuOptions=t.Icon=t.FloatLabel=t.ConnectImage=t.Avatar=void 0;var n=a(160),r=_(a(365)),o=_(a(108)),l=_(a(366)),i=_(a(367)),s=_(a(32)),u=_(a(371)),c=_(a(372)),d=a(373),f=_(a(162)),p=_(a(375)),m=a(376),h=_(a(377)),g=_(a(378)),y=_(a(163)),v=_(a(379)),b=_(a(161)),w=_(a(164)),E=_(a(380));function _(e){return e&&e.__esModule?e:{default:e}}t.Avatar=r.default,t.ConnectImage=o.default,t.FloatLabel=l.default,t.Icon=s.default,t.MenuOptions=u.default,t.MoreOptionsButton=c.default,t.MultiSelect=d.MultiSelect,t.PremiumLogo=p.default,t.ResizableTextarea=m.ResizableTextarea,t.SocialSharing=h.default,t.UserSafetyOperations=g.default,t.Popover=n.Popover,t.WPModal=w.default,t.FormField=i.default,t.Option=f.default,t.ValidationElements=y.default,t.WPInput=b.default,t.withValidation=v.default,t.SmallNavigation=E.default},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectTrans=t.getStorageItem=t.setStorageItem=t.unsanitizeHTML=t.simpleShorten=t.sanitizeHTML=t.resizeCover=t.resize=t.promiseTimeout=t.profileBackground=t.pixelRatio=t.linkify=t.isClient=t.getIndexForPartId=t.getDisplayName=t.fromNow=t.formatStoryUrl=t.count=void 0;var n=a(385),r=a(386),o=a(387),l=a(388),i=a(389),s=a(166),u=a(167),c=a(170),d=a(390),f=a(391),p=a(111),m=a(392),h=a(168),g=a(393),y=a(169),v=a(394),b=a(395);t.count=n.count,t.formatStoryUrl=r.formatStoryUrl,t.fromNow=o.fromNow,t.getDisplayName=l.getDisplayName,t.getIndexForPartId=i.getIndexForPartId,t.isClient=s.isClient,t.linkify=u.linkify,t.pixelRatio=c.pixelRatio,t.profileBackground=d.profileBackground,t.promiseTimeout=f.promiseTimeout,t.resize=p.resize,t.resizeCover=m.resizeCover,t.sanitizeHTML=h.sanitizeHTML,t.simpleShorten=g.simpleShorten,t.unsanitizeHTML=y.unsanitizeHTML,t.setStorageItem=v.setStorageItem,t.getStorageItem=v.getStorageItem,t.injectTrans=b.injectTrans},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSetDocumentTitle=t.useGetUser=t.useTrans=t.useScrollDetection=t.useEventListener=t.useClickOutside=t.useDefaultValueOnce=void 0;var n=c(a(348)),r=c(a(349)),o=c(a(158)),l=c(a(350)),i=a(159),s=a(353),u=a(354);function c(e){return e&&e.__esModule?e:{default:e}}t.useDefaultValueOnce=n.default,t.useClickOutside=r.default,t.useEventListener=o.default,t.useScrollDetection=l.default,t.useTrans=i.useTrans,t.useGetUser=s.useGetUser,t.useSetDocumentTitle=u.useSetDocumentTitle},,,,,,,,,,,,,,,,,,,,function(t,a){t.exports=e},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toggleModal=function(e){return{type:n.TOGGLE_MODAL_VISIBLE,modalProps:e}};var n=a(150)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SET_STORY_INSIGHTS="SET_STORY_INSIGHTS",t.FAILED_FETCH_STORY_INSIGHTS="FAILED_FETCH_STORY_INSIGHTS",t.SET_INSIGHTS_PENDING_STATUS="SET_INSIGHTS_PENDING_STATUS",t.CONSTANTS={link:"Learn More"},t.INTRO={title:"Your Weekly Story Insights Report",date:"Data updated for the week on %s",welcome:"Welcome to the Weekly Story Insights Report, Beta",intro:"Ready to invest in your writing? Welcome to the beta of a new tool from Wattpad: The Story Insights Report! ",aboutReport:"You have been given exclusive, free access to this Report for a short period of time because we want to hear your opinion as a valued writer in the Wattpad community. Please remember that this is a beta tool, meaning it is not a finished product and we’re still working through bugs before launching it to the Wattpad community. We ask that you do not share information about this Story Insights Report with the Wattpad community.",strong:"The Story Insights Report will become a paid Wattpad feature in the near future.",feedback:"To share your feedback about this Report with us, please use this form:",emailText:", or send an email to",email:"danielle.the@wattpad.com"},t.WRITING_SCORE={title:"Writing Complexity Score",score:"You scored a %s",scale:"on a scale of simple (1) to complex (10)",aboutTitle:"About Writing Score",aboutDescription:"The Writing Complexity Score analyzes the patterns in grammar and sentence structure to provide insights on how simple or complex a story’s writing style is. Stories with higher scores tend to play with the craft of their writing more intensely than stories with lower complexity scores do.",understandingTitle:"Understanding your Score",understandingDescription:"Low versus High is not the same as bad versus good. If your Writing Complexity is low, that means your story will be more accessible to a younger audience. If your Writing Complexity is high, it likely won't be as accessible to that same audience - which might be what you're going for! This score isn't always a reflection on the quality of your writing.",link:"Learn More",exampleTitle:"Example Stories",examples:[{score:"10",name:"The Hobbit"},{score:"10",name:"Atonement"},{score:"10",name:"The Girl with the Dragon Tattoo"},{score:"10",name:"The Handmaid's Tale"},{score:"9",name:"Harry Potter and the Sorcerer's Stone"},{score:"9",name:"A Walk to Remember"},{score:"8",name:"The Fault in Our Stars"},{score:"7",name:"The Hitchhiker's Guide to the Galaxy"}]},t.READABILITY_SCORE={title:"Readability Score",aboutTitle:"About Readability Score",aboutDescription:"The Readability Score estimates the years of formal education a reader needs to understand the text the first time they read through it. In other words, this score gives you an indication of how diverse your vocabulary is. The older the age identified in the Readability Score, the more vibrant your vocabulary is.",understandingTitle:"Understanding your Score",understandingDescription:"A young age versus an older age for your Readability Score is not the same as bad versus good. If your Readability Score is young but you intended your audience to be young then you’ve achieved what you set out to do. If your Readability score is high but you intended your audience to be older, then you’ve also achieved what you wanted.",exampleTitle:"Example Stories",examples:[{score:"College Junior / Senior (Ages 20-22)",name:"Atonement"},{score:"College Junior / Senior (Ages 20-22)",name:"The Girl with the Dragon Tattoo"},{score:"College Junior / Senior (Ages 20-22)",name:"The Hitchhiker's Guide to the Galaxy"},{score:"College Freshman / Sophomore (Ages 18-20)",name:"A Walk to Remember"},{score:"High School Junior / Senior (Ages 16-18)",name:"The Handmaid's Tale"},{score:"High School Junior / Senior (Ages 16-18)",name:"The Fault in Our Stars"},{score:"High School Freshman / Sophomore (Ages 14-16)",name:"The Hobbit"},{score:"Middle & Elementary School (Ages 14 and under)",name:"Harry Potter and the Sorcerer's Stone"}]},t.READING_TIME={title:"Reading Time",section:"for the whole story",scale:"[based on an average reading time of 250 words per minute]",aboutTitle:"About Reading Time",aboutDescription:"This is the average time it would take for a reader to read through your entire story. This is based on reading averages in the general population. Below is also a break down of how long it would take the average reader to finish reading each of your chapters.",understandingTitle:"Understanding your Reading Time",understandingDescription:"Writers aim to have chapters of similar lengths. Ideally each chapter would take a similar amount of time for readers to read through. We’ve found that the sweet spot for chapter lengths on Wattpad is around 6 minutes (1,500 words) to 12 minutes (3,000 words).",headers:[{field:"title",header:"Story Part"},{field:"reading_time",header:"Reading Time Per Chapter"}]},t.SENTENCE_LENGTH={title:"Sentence Length",average:"Average sentence length",scaleAverage:"(aim for 15-20 words)",long:"Long sentences",scaleLong:"(sentences that are over 30 words)",aboutTitle:"About Sentence Length",aboutDescription:"Having varied sentence lengths in your story can allow for an interesting, dynamic reading experience. It's also a great way to impact the pacing of your story. If all your sentences are super short (or super long), the pacing might feel choppy (or long winded). Consider how the content within each chapter is structured.",understandingTitle:"Understanding your Sentence Length",understandingDescription:"Below you can see how many words you use on average per sentence for both your whole story, and for each chapter (in the table). Your average sentence length should be somewhere between 15 - 20 words. But remember writing is an art, not a science so if you are on the lower or higher end of that, that’s ok. If you fall too far outside that range your sentences may be too long or short on average, but take this as a recommendation.",headers:[{field:"title",header:"Story Part"},{field:"average_sent_length",header:"Average Sentence Length"},{field:"total_long_sent_count",header:"Number of Long Sentences Per Chapter"}]},t.ADVERB_USAGE={title:"Adverb Usage",aboutTitle:"About Adverb Usage",aboutDescription:"Adverbs modify the meaning of words and whole sentences. While adverbs are a nice way to refine meaning in your writing, they are often overused! Sometimes we write the same adverb without really thinking about it, or being purposeful as to why we're using it in our text. Most adverbs can be identified by the ending “ly”. Examples include words like quickly, very and unfortunately.",understandingTitle:"Understanding your Adverb Usage",understandingDescription:"The table below reveals what adverbs you’ve used in each chapter. It’s not about removing all adverbs from your text, but it’s about recognizing which ones you tend to use most (as often we write the same adverb without really thinking about it, or being purposeful as to why we're using it in our text).",headers:[{field:"title",header:"Story Part"},{field:"frequent_adverbs",header:"Adverbs Used Per Chapter"}]},t.SENTENCE_STARTERS={title:"Most Used Sentence Starter Words",aboutTitle:"About Sentence Starter Words",aboutDescription:"If you start your sentences with the same word, it takes away from your narrative. If you keep using it, it also makes your writing less dynamic and interesting to read. If you’ve noticed, the last three sentences were started by the word “If”. Already you can see how this takes away from the flow of writing.",understandingTitle:"Understanding your Sentence Starter Words",understandingDescription:"Below is a list of the most used sentences starter words per chapter. Don’t worry about having a unique word to start each sentence in a chapter. Instead simply try to minimize how often the first word in a sentence is used.",headers:[{field:"title",header:"Story Part"},{field:"frequent_leading_words",header:"Start Word Used"}]},t.OVERUSED_WORDS={title:"Overused Words",aboutTitle:"About Overused Words",aboutDescription:"Sometimes we love to use particular words in our writing. At times it’s because we love a word, at other times it’s because we’ve become lazy in our writing. The problem is that if we use the same words too much, we begin to sound repetitive. Example: “she’s a clumsy person”, “because she’s so clumsy” or “Suddenly she jumped”, and “he spoke suddenly”. If you keep using the same descriptor for a person or event, your narrative sounds less dynamic.",understandingTitle:"Understanding your Overused Words",understandingDescription:"Looking at the chart below, you’ll see a list of overused words within each story part. We’ve removed “glue words” like the, and, is, he, she - so you can see only words that you can avoid repeating.",headers:[{field:"title",header:"Story Part"},{field:"overused_words",header:"Overused Words Per Chapter"}]},t.NO_INSIGHTS={header:"Something new is coming to Wattpad",para1:"We’re working on building a new paid feature that will unlock actionable insights about your own writing: The Story Insights Report. An addition to Writer Analytics, the Story Insights Report will offer analytical assessment of your writing using Wattpad’s own data and Story DNA machine learning.",link:"See what this report will look like here."},t.FAQ_QUESTIONS=[{question:"How is the Story Insights Report generated?",answer:"The Story Insights Report is generated using a machine-learning algorithm unique to Wattpad. The algorithm evaluates your story against Watty winners, Paid Stories and Wattpad Books, to provide a Writing Complexity Score and Readability Score. It also scours over your story to highlight Reading Time, Sentence Length and Adverb Usage by chapter, while giving you benchmarks for each of these metrics, therefore simplifying your editing process and enabling you to improve both the quality and success of your writing."},{question:"How often can I purchase the Story Insights Report?",answer:"You can purchase one Story Insights Report for one story in a single order. If you wish to purchase the report for multiple stories, you will need to place a separate order for each report. We recommend re-ordering the report on the same story once you have made significant edits or additions to your story, or incorporated the feedback from your initial report in order to see your score improve over time."},{question:"Can I only run the report on completed stories?",answer:"The Story Insights Report can be run on any length of story, but is most beneficial to run on stories that comprise a minimum of three chapters with at least 1,000 words in each chapter."},{question:"How do I save my Story Insights Report?",answer:"To save your report, tap the Print icon on the Story Insights tab, followed by “Save as PDF” in the “Destination” dropdown."},{question:"Is the report customized for the genre of my story?",answer:"The machine-learning algorithm, which forms the basis of the Story Insights Report, has been designed for all possible genres, no matter how niche they might be. It is also important to note that the Story Insights tool compares your story to multiple levels of writing, including but not limited to Watty winners, Paid Stories, and Wattpad Books, in order to present highly objective insights that can help take any genre and level of story to new heights."},{question:"How often is it recommended to run the report to improve my writing?",answer:"We recommend running the report each time you make significant edits to your story. This may include writing new chapters, editing the writing style, or incorporating the feedback shared in your previous Story Insights Report.Running the report with a repeated frequency upon making major edits will allow you to compare your progress over time, bring focus to areas of improvement and help you develop overall as a writer. In addition, it will fuel the potential of your stories to embark on the path to paid programs on Wattpad and beyond."},{question:"How are scores used by Wattpad?",answer:"Your scores are completely confidential and are currently not used internally or externally by Wattpad for any assessment or commercial purposes."},{question:"Does my score affect my chances of participating in the Watty Awards or Paid Stories program?",answer:"Your scores are completely confidential and are currently not being used for assessment of your potential to participate in programs such as the Watty Awards or Paid Stories."},{question:"Does the Story Insights report check for spelling and grammar?",answer:"The Story Insights Report does not check spelling and grammar for you. It focuses on more unique metrics which are not available within common word processing tools."},{question:"How is machine learning better than a human editor checking my story?",answer:"Using a machine-learning algorithm, in the form of the Wattpad Story Insights tool, to assess your writing has three main advantages over a human editor:The algorithm provides objective feedback by comparing your story to thousands of published stories across genres and at all levels, whether they are renowned published works, Watty winners, Paid Stories or Booker Prize winners, to name a few.The feedback received is entirely confidential, and not shared with anyone other than the writer. This is great for writers who do not feel comfortable sharing their story with friends and family or a professional editor to get feedback.Machine-learning enables us to provide you with feedback in a far more cost-effective way than if you were to hire a professional editor to help you improve your story. We know you already have the potential for success, let us help you take your writing to the next level."},{question:"Is there a limit on how many times I can run the report?",answer:"There is no limit on the number of times you can purchase the report on a single story. We recommend re-purchasing the report once you have made edits to your story and only after having already received and reviewed the previous report you ordered, so that you can save it to compare your progress over time."},{question:"Why is my payment for the Story Insights report unsuccessful?",answer:"Insert Scenarios"},{question:"How long does it take for the Story Insights report to be generated?",answer:"It takes 24-48 hours for the Story Insights Report to be generated. We will notify you once your report is available."},{question:"Does a low score mean I am a bad writer?",answer:"A low score should not be directly inferred as an indication that you are a good or bad writer. For example, if you are intentionally writing for a younger audience, your writing style may have a lower score due to a lack of complexity in sentence structure and vocabulary - which is perfectly acceptable if you feel this is most appropriate for your intended audience."},{question:"Is my report confidential?",answer:"Yes, your report is completely confidential and will not be accessible to anyone else on Wattpad."},{question:"Is my score going to be visible to anyone else on my profile?",answer:"Your score is completely confidential and only visible to you once you are securely logged in to your account."},{question:"What is the benefit of running the report on multiple stories?",answer:"Each story you write is likely unique in terms of its composition, intended audience, genre, plot complexity and writing style. Therefore, the report you receive on one story cannot necessarily be generalised as feedback for other stories you have written, as it is highly specific to the content of a single story. If you wish to improve multiple stories, we recommend running the report on each story to get customised feedback. Whether you run the report on a single story or multiple stories, rest assured the feedback you receive will help you view your story from a fresh perspective, and improve your writing skills over time."},{question:"What is Wattpad’s refund policy for the Story Insights Report?",answer:"We do not offer refunds for purchases of the Story Insights Report. Before making your purchase, we recommend that you:View the Sample Report so you have a good understanding of the type of insights you will receive on your storyChoose a story which has at least 3 chapters of 1,000 words each in order to get meaningful insights"}]},,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=d(o),i=d(a(1)),s=a(11),u=d(a(368)),c=d(a(369));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),r(t,[{key:"render",value:function(){var e=this;if(this.props.onClick)throw new Error("onClick event defined on an icon. Please wrap the icon with a button.");var t=this.props,a=t.iconName,r=t.name,o=t.height,i=t.color,s=t.className,d=(t.ff,t.size),f=t.strokeWidth,p=t.boxX,m=t.boxY,h=t.viewBox,g=t.fill,y=t.passthroughProps;if(r){if(u.default[r])return l.default.createElement("svg",n({width:d,height:d,viewBox:p+" "+m+" "+h+" "+h,fill:g?c.default[i]:"none",stroke:c.default[i],strokeWidth:f,"aria-hidden":"true",strokeLinecap:"round",strokeLinejoin:"round",className:s},y),l.default.createElement("g",{dangerouslySetInnerHTML:{__html:u.default[r]}}));throw"Icon "+r+" doesn't exist"}if(window.wattpad.utils.modernizr("fontface"))return l.default.createElement("span",n({className:"fa "+a+" fa-"+i+" "+s,"aria-hidden":"true",style:{fontSize:o+"px"},ref:function(t){e.elementRef=t}},y));var v="/img/icons/"+i+"/"+a.substr(3)+".png";return l.default.createElement("img",n({className:"fa "+a+" fallback "+s,style:{height:o+"px",width:"auto"},src:v,alt:"icon "+a.substr(3),ref:function(t){e.elementRef=t}},y))}}]),t}();f.defaultProps={className:"",ff:"",color:"wp-neutral-1",size:"14",height:"14",strokeWidth:"2",boxX:"0",boxY:"0",viewBox:"24"},f.propTypes={name:i.default.string,iconName:i.default.oneOf(["fa-alert","fa-archive","fa-attach","fa-badge-ambassador","fa-badge-blank","fa-badge-cc","fa-badge-heart","fa-badge-promoted","fa-badge-rating","fa-badge-verified","fa-bold","fa-buy","fa-camera","fa-caret","fa-categories","fa-centered","fa-check","fa-circle-empty","fa-circle-filled","fa-clock","fa-code","fa-comment","fa-comment-count","fa-copyright","fa-creative-commons","fa-dedicate","fa-double-image","fa-down","fa-down-small","fa-edit","fa-facebook","fa-facebook-official","fa-facebook-square","fa-flag","fa-follow","fa-following","fa-following-request","fa-format","fa-group","fa-home","fa-ic_reading_list","fa-image","fa-inbox","fa-info","fa-instagram","fa-italic","fa-justified","fa-left","fa-left-aligned","fa-left-small","fa-library","fa-link","fa-list","fa-list-add","fa-loading","fa-location","fa-lock","fa-mention","fa-menu","fa-minus","fa-mobile","fa-more","fa-mute","fa-pin","fa-pinterest","fa-pinterest-square","fa-plus","fa-public-domain","fa-ranking","fa-reading-list","fa-redo","fa-refresh","fa-remove","fa-remove-alt","fa-right","fa-right-aligned","fa-right-small","fa-search","fa-settings","fa-share","fa-single-image","fa-stats","fa-story","fa-trash","fa-tumblr","fa-tumblr-square","fa-twitter","fa-twitter-square","fa-underline","fa-undo","fa-unlock","fa-unmute","fa-up","fa-up-small","fa-user","fa-video","fa-view","fa-vote","fa-vote-alt","fa-warning","fa-website","fa-image-warning"]),color:i.default.oneOf(["wp-neutral-1","wp-neutral-2","wp-base-1-dark","wp-base-2-dark","wp-error-1","wp-warning-01","wp-errorbackground","wp-neutral-2","wp-base-2-dark","wp-neutral-3","wp-lighterror","wp-lighterteal","wp-neutral-3","wp-neutral-3","wp-lightteal","wp-neutral-2","wp-neutral-3","wp-base-1","wp-neutral-2","wp-success","wp-base-2","wp-neutral-2","wp-base-1-dark","wp-neutral-5"]).isRequired,size:i.default.oneOfType([i.default.string,i.default.number]),height:i.default.string.isRequired,className:i.default.string,ff:i.default.string,strokeWidth:i.default.string,boxX:i.default.oneOfType([i.default.string,i.default.number]),boxY:i.default.oneOfType([i.default.string,i.default.number]),viewBox:i.default.oneOfType([i.default.string,i.default.number]),fill:i.default.bool,passthroughProps:i.default.object};var p=(0,s.connect)(function(e){return{ff:e.userData.ff}},{})(f);t.default=p},,,,,,,,,,,,,,,,,,,,,,,,,function(e,a){e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(0)),o=i(a(1)),l=i(a(7));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this,t={backgroundColor:this.props.bgColor,color:this.props.color};return this.props.active&&(t={color:this.props.bgColor,backgroundColor:"#FFFFFF",borderColor:this.props.bgColor}),r.default.createElement("button",{className:(0,l.default)("tag-item",{active:this.props.active}),style:t,onClick:function(t){return e.props.clickHandler(t,e.props.name)},onKeyDown:function(t){return e.props.clickHandler(t,e.props.name)}},this.props.name)}}]),t}();t.default=s,s.defaultProps={clickHandler:function(){}},s.propTypes={clickHandler:o.default.func,bgColor:o.default.string,color:o.default.string,active:o.default.bool,name:o.default.string.isRequired}},,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR=t.UNMUTE=t.MUTE=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return n({},e,{mutedUsers:t.mutedUsers,hasLoaded:!0});case l:return n({},e,{mutedUsers:e.mutedUsers.concat([t.name])});case i:return n({},e,{mutedUsers:e.mutedUsers.filter(function(e){return e!=t.name})});default:return e}},t.muteUser=function(e){var t="/apiv2/ignoreuser?id="+e+"&action=ignore_user";return function(a){return Promise.resolve($.ajax({url:t,type:"POST"})).then(function(){a({type:l,name:e}),a({type:r.TOGGLE_TOAST_VISIBLE,toastProps:{className:"mute",body:wattpad.utils.trans("%s is muted. You can unmute them at any time from their profile.",e)}})}).catch(function(e){var t=void 0;try{var n=e.responseJSON.code;467===n&&(t=e.responseJSON.message)}catch(e){}throw wattpad.utils.showToast(t,{type:"dismissable"}),a({type:s}),e})}},t.unmuteUser=function(e){var t="/apiv2/ignoreuser?id="+e+"&action=unignore_user";return function(a){var n=Promise.resolve($.ajax({url:t,type:"POST"}));return n.then(function(){a({type:i,name:e}),a({type:r.TOGGLE_TOAST_VISIBLE,toastProps:{className:"unmute",body:wattpad.utils.trans("%s is unmuted. You can mute them at any time from their profile.",e)}})}).catch(function(e){var t=e.responseJSON.message;throw wattpad.utils.showToast(t,{type:"dismissable"}),a({type:s}),e})}},t.initializeMutedUsers=function(e){var t="/apiv2/ignoreuser?id="+e+"&action=get_ignored_web";return function(e,a){if(!a().profileData.hasLoaded){var n=Promise.resolve($.ajax({url:t,type:"POST"}));return n.then(function(t){e({type:o,mutedUsers:t.list.map(function(e){return e.NAME})})}).catch(function(t){var a=t.responseJSON.message;throw wattpad.utils.showToast(a,{type:"dismissable"}),e({type:s}),t})}}};var r=a(67),o="USER/SET_MUTED_USERS",l=t.MUTE="USER/MUTE",i=t.UNMUTE="USER/UNMUTE",s=t.ERROR="USER/ERROR",u={mutedUsers:[],hasLoaded:!1}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.toggleToast=function(e){return{type:r,toastProps:e}};var r=t.TOGGLE_TOAST_VISIBLE="TOGGLE_TOAST_VISIBLE",o={toastProps:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r:return n({},e,{toastProps:e.toastProps?null:t.toastProps});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(0)),o=i(a(1)),l=a(3);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.toggleTable=function(){a.state.expanded?(a.setState({tableSize:a.state.dataLength>=a.state.minTableSize?a.state.minTableSize:a.state.dataLength}),a.setState({expanded:!1})):(a.setState({tableSize:a.state.dataLength}),a.setState({expanded:!0}))},a.state={dataLength:a.props.parts.length,minTableSize:4,tableSize:a.props.parts.length>=4?4:a.props.parts.length,expanded:!1,numCols:Object.keys(a.props.parts[0]).length},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"buildHeader",value:function(){return this.props.headers.map(function(e){return r.default.createElement("td",{key:e.header},e.header)})}},{key:"buildUrl",value:function(e){return"/myworks/"+this.props.storyId+"/write/"+e}},{key:"buildTable",value:function(){var e=this;return this.props.storyParts.slice(0,this.state.tableSize).map(function(t){var a=e.props.parts.find(function(e){return e.id===t.id});if(null!=a)return r.default.createElement("tr",{className:"dashboard-part",key:"dashboard-part-"+t.id},r.default.createElement("td",null,r.default.createElement("a",{href:e.buildUrl(t.id),target:"_blank"},t.title)),e.props.headers.map(function(t){if("title"!==t.field){var n=a[t.field];return r.default.createElement("td",{className:t.field,key:a.id+"-"+t.field},r.default.createElement("div",null,e.insertCellValue(t.field,n)))}}))})}},{key:"insertCellValue",value:function(e,t){if(void 0!==this.props.formatter&&null!=this.props.formatter){var a=this.props.formatter.find(function(t){return t.field===e});if(a)return a.format(t)}return t}},{key:"buildToggleButton",value:function(){if(!(this.props.parts.length<4))return this.state.expanded?r.default.createElement("td",{className:"dashboard-show-more",colSpan:this.state.numCols},r.default.createElement("button",{className:"btn-no-background",onClick:this.toggleTable.bind(this)},"Less",r.default.createElement(l.Icon,{id:"dashboard-table-arrow",iconName:"fa-up",height:"12",color:"wp-neutral-2"}))):r.default.createElement("td",{className:"dashboard-show-more",colSpan:this.state.numCols},r.default.createElement("button",{className:"btn-no-background",onClick:this.toggleTable.bind(this)},"More",r.default.createElement(l.Icon,{id:"dashboard-table-arrow",iconName:"fa-down",height:"12",color:"wp-neutral-2"})))}},{key:"render",value:function(){return r.default.createElement("div",{className:"dashboard-partsTableContainer"},r.default.createElement("table",{className:"dashboard-partsTable"},r.default.createElement("tbody",null,r.default.createElement("tr",{className:"dashboard-table-header"},this.buildHeader()),this.buildTable(),r.default.createElement("tr",{className:"dashboard-show-more-row"},this.buildToggleButton()))))}}]),t}();s.defaultProps={formattingFunction:function(e){return e}},s.propTypes={storyId:o.default.string.isRequired,parts:o.default.array.isRequired,storyParts:o.default.array.isRequired,headers:o.default.array.isRequired,formatter:o.default.array},t.default=s},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.CURRENCY_ID="wp1",t.DEDUCTING_ANIMATION_DELAY=2e3,t.SUBTRACTING_ANIMATION_DELAY=2200,t.COIN_TRANSITION_DELAY=400,t.SET_WALLET_BALANCE="set_wallet_balance",t.BUYING_CONTENT="buying_content",t.BOUGHT_CONTENT="bought_content",t.WALLET_ANIMATION_STEP="animation_step",t.WALLET_STATES={DEFAULT:"default",COIN:"coin",DEDUCTING:"deducting",SUBTRACTING:"subtracting"},t.ONBOARDING_SLIDES=function(e){return[{title:e("Introducing Paid Stories"),content:e("Thank writers for creating the stories you love by monetarily supporting them."),imageUrl:"paid-content/lifting-hand.png"},{title:e("Continue exploring free stories"),content:e("Millions of stories on Wattpad will always be free to read. Promise."),imageUrl:"paid-content/free-stories.png"},{title:e("Be the first to support writers"),content:e("Unlocking Paid Stories with Coins supports your favorite writers"),imageUrl:"paid-content/currency.png",learnMoreLink:"https://www.wattpad.com/paidstories/"},{title:e("Premium subscribers get bonus Coins"),content:e("Only Wattpad Premium subscribers are rewarded with bonus Coins with every Wattpad Coin pack purchase"),imageUrl:"paid-content/treasure-chest.png",learnMoreLink:"https://premium.wattpad.com/",showToPremiumOnly:!0}]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case d:return r({},e,{isLoading:!0});case f:var a=y.data.award_category,n=y.hasSubmitted;if(t.data.contests){var o=t.data.contests.find(function(e){return"wattys2019"===e.name});o&&(n=!0,a=o.award_category)}return r({},y,{isLoading:!1,hasCheckedSubmission:!0,hasSubmitted:n,data:{id:t.data.id||y.data.id,award_category:a,target_audience:t.data.target_audience||y.data.target_audience,mature_themes:t.data.mature_themes||y.data.mature_themes,plot_summary:t.data.plot_summary||y.data.plot_summary,logline:t.data.logline||y.data.logline,opportunities:t.data.opportunities||y.data.opportunities},language:t.storyData.language&&t.storyData.language.id,cover:t.storyData.cover,title:t.storyData.title});case p:return r({},e,{data:r({},e.data,t.data),isLoading:!1,hasCheckedSubmission:!0});case h:return r({},e,{hasCheckedSubmission:!0,hasSubmitted:t.status});case m:return r({},e,{isLoading:!1});case g:return r({},e,{hasAddedWattysTag:!0});default:return e}},t.fetchContestForm=function(e){return function(t,a){var r="/v5/contests/"+e+"?fields=target_audience,logline,mature_themes,plot_summary,award_category,opportunities,contests",o="/api/v3/stories/"+e+"?fields=cover,title,language";return a().contestForm.isLoading||t({type:d}),Promise.all([Promise.resolve($.get(r)),Promise.resolve($.get(o))]).then(function(e){var a=n(e,2),r=a[0],o=a[1];t({type:f,data:r,storyData:o})})}},t.setContestForm=function(e,t){return function(){var a=u(regeneratorRuntime.mark(function a(n){var r,o,i,s,u,c,f,h,y;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r="/v5/contests",o="/apiv2/editstorytags",i="/api/v3/stories/"+e+"?fields=tags,parts",n({type:d}),a.prev=4,a.next=7,Promise.resolve($.ajax({url:r,type:"POST",data:JSON.stringify(t),dataType:"json",headers:{"Content-Type":"application/json"}}));case 7:a.next=17;break;case 9:a.prev=9,a.t0=a.catch(4),s=wattpad.utils.trans("Sorry, something went wrong. Please try again.");try{400===a.t0.status&&("InvalidParam"===a.t0.responseJSON.error.error_type||"RequiredParamMissing"===a.t0.responseJSON.error.error_type)&&a.t0.responseJSON.error.fields.length>0?(s+=" [fields = ",a.t0.responseJSON.error.fields.forEach(function(e,t){s+=e+(t!==a.t0.responseJSON.error.fields.length-1?", ":"")}),s+="]"):401===a.t0.status&&"PermissionDenied"===a.t0.responseJSON.error.error_type&&(s+=wattpad.utils.trans("You do not have permission to modify this story"))}catch(e){}throw new window.app.views.ErrorToast({message:s},{type:"dismissable"}).render(),n({type:m}),a.t0;case 17:return n({type:p,data:{award_category:t.award_category}}),a.next=20,Promise.resolve($.get(i));case 20:if(u=a.sent,c=u.tags,f=u.parts,h="wattys2019",y=!1,!(-1===c.indexOf(h)&&f&&f.length>0)){a.next=36;break}return a.prev=26,a.next=29,Promise.resolve($.post(o,{request_type:"add",tag_value:h,story_id:f[0].id}));case 29:n((0,l.addStoryTag)({id:h,name:h,active:!0,className:"wattys-tag"})),n({type:g}),y=!0,a.next=36;break;case 34:a.prev=34,a.t1=a.catch(26);case 36:return n(v(!0)),a.abrupt("return",y);case 38:case"end":return a.stop()}},a,this,[[4,9],[26,34]])}));return function(e){return a.apply(this,arguments)}}()},t.openContestForm=function(e){return function(t){t((0,s.toggleModal)({component:function(){return o.default.createElement(i.ContestForm,{closeModal:function(){return t((0,s.toggleModal)())},storyId:e})},disableClose:!0,animate:!1,className:"modal-contest"}))}},t.setContestFormSubmissionStatus=v,t.fetchContestFormSubmissionStatus=function(e){return function(){var t=u(regeneratorRuntime.mark(function t(a){var n,r,o,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="/v5/contests/"+e+"?fields=contests",t.next=3,Promise.resolve($.get(n));case 3:r=t.sent,o=r.contests,l=!1,o&&o.find(function(e){return"wattys2019"===e.name})&&(l=!0),a({type:h,status:l});case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()};var o=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),l=a(77),i=a(152),s=a(27);function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var l=t[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}var c="CONTEST_FORM",d=c+"/REQUEST",f=c+"/FETCH",p=c+"/SET",m=c+"/ERROR",h=c+"/SUBMITTED_SET",g=c+"/ADDED_WATTYS_TAG",y={isLoading:!0,hasCheckedSubmission:!1,hasSubmitted:!1,hasAddedWattysTag:!1,cover:"",title:"",language:1,data:{id:null,target_audience:"",mature_themes:[],plot_summary:"",logline:{subject:"",description:"",action:"",outcome:""},award_category:"",opportunities:[]}};function v(e){return function(t){t({type:h,status:e})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function r(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case o:return n({},e,t.tags);case l:return n({},e,{tags:[].concat(r(e.tags),[t.tag])});case i:var a=e.tags.findIndex(function(e){return e.name===t.tag});return n({},e,{tags:[].concat(r(e.tags.slice(0,a)),r(e.tags.slice(a+1)))});default:return e}},t.addStoryTag=function(e){return function(t){t({type:l,tag:e})}},t.setStoryTags=function(e){return function(t){t({type:o,tags:e})}},t.removeStoryTag=function(e){return function(t){t({type:i,tag:e})}};var o="STORY_TAGS/SET",l="STORY_TAGS/ADD",i="STORY_TAGS/REMOVE",s={tags:[]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserContext=t.I18nContext=void 0;var n=a(351),r=a(352);t.I18nContext=n.I18nContext,t.UserContext=r.UserContext},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case u:return n({},e,{badges:[],messages:[],offset:0,total:0,scrollToMessageId:-1,isActive:!1,isLoading:!0,isBlockingCurrentUser:!1,isBlockedByCurrentUser:!1});case c:return n({},e,{isLoadingMore:!0});case d:var a=[].concat(o(t.messages.slice().reverse()),o(e.messages)),l=void 0;return l=t.isLoadMore?e.messages[0].id:a.length>0?a[a.length-1].id:-1,n({},e,{isLoading:!1,isLoadingMore:!1,isActive:t.isActive,scrollToMessageId:l,messages:a,badges:t.badges||[],offset:e.offset+t.messages.length,total:t.total,isBlockingCurrentUser:t.isBlockingCurrentUser,isBlockedByCurrentUser:t.isBlockedByCurrentUser});case m:case f:return n({},h);case p:return n({},e,{isDeleting:!0});case i:return n({},e,{isPosting:!0});case s:return n({},e,{isPosting:!1,messages:[].concat(o(e.messages),[t.message]),scrollToMessageId:t.message?t.message.id:-1,offset:e.offset+1,total:e.total+1});case r.MUTE:return n({},e,{isBlockedByCurrentUser:!0});case r.UNMUTE:return n({},e,{isBlockedByCurrentUser:!1});case r.ERROR:return n({},e,{isLoading:!1});default:return e}},t.loadConversation=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a="/api/v3/users/"+g()+"/inbox/"+e+"?offset="+t;return function(e){var n=Promise.resolve($.get(a)),r=t>0;return e(r?{type:c}:{type:u}),n.then(function(t){e({type:d,messages:t.messages,badges:t.badges,isActive:t.isActive,total:t.total,isLoadMore:r,isBlockingCurrentUser:t.isBlockingCurrentUser,isBlockedByCurrentUser:t.isBlockedByCurrentUser})}).catch(function(){return e({type:d,messages:[],total:0})})}},t.postMessage=function(e,t){var a=g(),n="/api/v3/users/"+a+"/inbox/"+e;return function(r){var o={sender:a,recipient:e,body:t.body},l=Promise.resolve($.post(n,o));return r({type:i}),l.then(function(e){return r({type:s,message:e})}).catch(function(){var e=new window.app.views.ErrorToast({message:wattpad.utils.trans("Sorry, something went wrong. Please try again.")},{type:"dismissable"});e.render()})}},t.deleteConversation=function(e){var t="/api/v3/users/"+g()+"/inbox/"+e;return function(e){var a=Promise.resolve($.ajax({url:t,type:"DELETE"}));return e({type:p}),a.finally(function(){return e({type:m})})}},t.resetConversation=function(){return function(e){e({type:f})}};var r=a(66);function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var l="CONVERSATION",i=l+"/POST_MESSAGE_REQUESTED",s=l+"/POST_MESSAGE",u=l+"/LOAD_REQUESTED",c=l+"/LOAD_MORE_REQUESTED",d=l+"/LOAD",f=l+"/RESET",p=l+"/DELETE_REQUESTED",m=l+"/DELETE",h={isActive:!1,isLoading:!0,isLoadingMore:!1,isDeleting:!1,isPosting:!1,messages:[],badges:[],scrollToMessageId:-1,total:0,offset:0,isBlockingCurrentUser:!1,isBlockedByCurrentUser:!1};var g=function(){return wattpad.utils.currentUser().get("username")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TAG_NUM_COLOURS=1,t.TAG_BG_COLOURS=["#eeeeee"],t.TAG_TEXT_COLOURS=["#6f6f6f"],t.NUM_PREMIUM_THEMES=12,t.DEFAULT_PREMIUM_THEME=5,t.DEFAULT_THEME=6,t.PREMIUM_COOKIE="premium-theme",t.THEME_ID_NAME={1:"olive",2:"plum",3:"watermelon",4:"blue",5:"water",6:"orange",7:"turquoise",8:"grey",9:"red",10:"purple",11:"royal",12:"denim"},t.MOCK_PREMIUM_PLANS=[{name:"1 Month",price:5.99,monthly_price:5.99,tax:.59,period:"Monthly",tag:null,sku:"1_MONTH_WP_Premium"},{name:"6 Months",price:29.99,monthly_price:4.99,tax:2.99,period:"Bi-annually",tag:null,sku:"wp_premium_6_months"},{name:"12 Months",price:52.99,monthly_price:4.42,tax:5.29,period:"Yearly",tag:"Popular",sku:"wp_premium_1_year"}],t.COVER_SIZES=[64,80,100,128,144,160,176,200,208,256,288,352,368,416,512]},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.WATTPAD_USER_COUNT=80;t.HOW_WATTPAD_WORKS_STEPS=function(e){return[{number:1,title:e("Create"),description:e("Share your unique voice and original story on Wattpad. Find the writing resources you need to craft a story only you can tell."),stat:{count:e("50+"),title:e("Writing Resources")}},{number:2,title:e("Build"),description:e("Establish a global fan base as your story gains readership and momentum. Connect with other like-minded writers through storytelling."),stat:{count:e("%s <span>MILLION</span>",n),title:e("Readers")}},{number:3,title:e("Amplify"),description:e("Gain Wattpad Star status and get your story published or adapted into film or television with Wattpad Books and Wattpad Studios!"),stat:{count:e("1000+"),title:e("Story deals")}}]},t.LINKS_SECTIONS=function(e){return[{title:e("Get Discovered"),id:"GetDiscovered",links:function(e){return[{name:e("Writing Contests"),description:e("Enter writing contests to get published, win awards, and partner with global brands."),img:"/landing/writing-contests.png",url:"https://www.wattpad.com/go/writing-contests/",id:"contests"},{name:e("The Wattys"),description:e("Wattpad’s annual awards program committed to celebrating the best stories around the world."),img:"/landing/wattys_avatar.png",url:"https://wattys.wattpad.com",id:"wattys"},{name:e("Wattpad Picks"),description:e("Get featured on our hand-picked reading list."),img:"/landing/wp-picks.png",url:"https://www.wattpad.com/featured/551324301",id:"picks"}]}(e)},{title:e("Get Connected"),id:"GetConnected",links:function(e){return[{name:e("WattCon"),description:e("Wattpad’s premier annual writers’ conference offers support, mentorship, and career-oriented programming, to connect the Wattpad writer community, hone their craft, and grow their careers."),img:"/landing/wattcon.png",url:"https://wattcon.wattpad.com/",id:"wattcon"},{name:e("Community"),description:e("Join Wattpad Community to discuss shared interests and topics with other readers and writers."),img:"/landing/community.png",url:"https://www.wattpadwriters.com/",id:"community"},{name:e("Get Social"),description:e("Connect with other passionate readers & writers, comment directly in stories as you read them, and support writers as they create and share their original stories."),img:"/landing/get-social.png",id:"social"}]}(e)}]},t.CAROUSEL_SLIDES=[{quoteText:"Working with Wattpad Studios is like a dream. Not only do they care about your success, but also staying true to your vision.",author:"KARA BARBIERI (@PANDEAN)",about:"Kara Barbieri is a twenty-two year old author with a love for the weird and mystic. Her debut novel, WHITE STAG, will be published by Wednesday Books/Macmillan in January 2019.",cover:"/landing/white-stag.png",url:"/story/51067091-white-stag-permafrost-1",id:"white_stag"},{quoteText:"When I joined Wattpad, I gained a second family who were as passionate about reading and writing as I am.",author:"ALI NOVAK (@FALLZSWIMMER)",about:"Ali Novak is a Wisconsin native and a graduate of the University of Wisconsin-Madison's creative writing program. She started writing her debut novel My Life with the Walter Boys when she was only fifteen. Since then, her work has received more than 150 million hits online and My Life with the Walter Boys has been optioned for television by Komixx Entertainment and Sony Pictures Television.",cover:"/landing/walter-boys.png",url:"/story/80479-my-life-with-the-walter-boys-wattpad-version",id:"walter_boys"},{quoteText:"Being a Wattpad Star is the foundation for everything I do as a writer, from the behind the scenes wrangling to the big, game-changing projects.",author:"BEN SOBIECK (@BENSOBIECK)",about:"Benjamin Sobieck is a Wattpad Star and editor of “The Writer’s Guide to Wattpad,” published in August 2018 by Writer’s Digest Books and featuring contributions by 23 Wattpad Stars, ambassadors, and staff. His stories on Wattpad, such as “When the Black-Eyed Children Knock,” have drawn more than 1.5 million reads.",cover:"/landing/black-eye.png",url:"/story/59324321-black-eye-confessions-of-a-fake-psychic-detective",id:"black_eye"},{quoteText:"Having been active on Wattpad for several  years, I knew it would be the perfect platform for a thriller with lots of cliffhangers for readers to discuss. Teen horror is my passion, so I can’t wait to be able to share Light as a Feather with other horror aficionados on Hulu.",author:"ZOE AARSEN (@ZAARSENIST)",about:"Zoe Aarsen is a graphic designer and copywriter. Her first paranormal YA novel, Light as a Feather, Stiff as a Board, is being published by Simon & Schuster and turned into a television series on Hulu.",cover:"/landing/feather.png",url:"/story/5949534-light-as-a-feather-stiff-as-a-board",id:"light_as_a_feather"},{quoteText:"The Wattpad Stars Program gave me opportunities I never thought possible. It connected me to a world that I had only imagined. I don’t know how else to say it. It changed my life!",author:"ISABELLE RONIN (@ISABELLERONIN)",about:"Chasing Red was one of 2016’s most-read stories on Wattpad -- and that was just the beginning for this Winnipeg-Manitoba-based writer. In a single year, her explosive hit has racked up over 127 million reads on Wattpad. Newly edited and expanded, the book was split into two and hit bookstore shelves in 2017.",cover:"/landing/chasing-red.png",url:"/story/18024139-chasing-red",id:"chasing_red"}]},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case r:return n({},e,{popoverProps:t.popoverProps});case o:return n({},e,{popoverProps:{}});default:return e}},t.openPopover=function(e){return function(t,a){var n=a().popover.popoverProps.triggerRef;n!==e.triggerRef?t({type:r,popoverProps:e}):t({type:o})}},t.closePopover=function(){return function(e){e({type:o})}};var r="POPOVER/OPEN",o="POPOVER/CLOSE",l={popoverProps:{}}},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=l(a(0)),o=l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.name,a=e.title,o=e.className,l=e.id,i=e.height,s=e.width,u=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["name","title","className","id","height","width"]);return r.default.createElement("img",n({src:"/img/"+t,alt:a,className:o,id:l,height:i,width:s},u))};i.propTypes={name:o.default.string,title:o.default.string,className:o.default.string,id:o.default.string,height:o.default.string,width:o.default.string},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var l=t[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l:return n({},e,{featuredList:t.featuredList});case i:return n({},e,{paidStoriesTags:t.tags,hasTagsLoaded:!0});case s:return n({},e,{paidStoriesListByTag:t.paidStoriesListByTag||e.paidStoriesListOffset,isLoadingPaidStories:!1,paidStoriesListOffset:t.paidStoriesListOffset||e.paidStoriesListOffset});case u:return n({},e,{isLoadingPaidStories:!0});default:return e}},t.loadFeaturedList=function(){var e=parseInt(wattpad.language,10)||1,t=wattpad.supportedLangs.find(function(t){return t.id===e}),a=void 0;t&&(a=t.code);var n=null;JSON.parse(wattpad.newCurationProfiles).forEach(function(e){e.code===a&&(n=e.username)});var o="/api/v3/users/"+n+"/lists";return function(){var e=r(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.resolve($.get(o));case 3:a=e.sent,t({type:l,featuredList:a.lists}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:l,featuredList:[]});case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()},t.loadPaidStoriesList=function(){return function(){var e=r(regeneratorRuntime.mark(function e(t,a){var r,o,l,c,d,f,p,m,h,g,y;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=a().catalog,o=r.paidStoriesListOffset,l=r.isLoadingPaidStories,c=r.paidStoriesListByTag,d=r.hasTagsLoaded,f=r.paidStoriesTags,p=d&&o===f.length,!l&&!p){e.next=9;break}return e.abrupt("return");case 9:if(t({type:u}),d){e.next=22;break}return e.prev=11,e.next=14,Promise.resolve($.get("/v4/paid_stories/tags"));case 14:m=e.sent,f=m.tags,t({type:i,tags:f}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),t({type:i,tags:[]});case 22:if(h=[],g=Math.min(o+4,f.length),f&&f.length>0)for(y=o;y<g;y++)f[y]&&h.push(Promise.resolve($.get("/v4/paid_stories/tags/:tag?limit=-1&fields=stories(id,cover,title,tags,isPaywalled),tag".replace(":tag",f[y]))));return e.prev=25,e.next=28,Promise.all(h);case 28:e.sent.forEach(function(e){c[e.tag]=e.stories}),t({type:s,paidStoriesListByTag:n({},c),paidStoriesListOffset:o+4}),e.next=36;break;case 33:e.prev=33,e.t1=e.catch(25),t({type:s});case 36:case"end":return e.stop()}},e,this,[[11,19],[25,33]])}));return function(t,a){return e.apply(this,arguments)}}()};var o="CATALOG",l=o+"/LOAD_FEATURED_LIST",i=o+"/LOAD_PAID_STORIES_TAGS",s=o+"/LOAD_PAID_STORIES_LIST",u=o+"/IS_LOADING_PAID_STORIES",c={featuredList:[],paidStoriesTags:[],paidStoriesListByTag:{},paidStoriesListOffset:0,isLoadingPaidStories:!1,hasTagsLoaded:!1}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case i:return n({},f,{filter:t.filter});case s:return n({},e,{filter:t.filter,isLoadingMore:!0});case c:return n({},e,{isLoading:!1,isLoadingMore:!1,threads:[].concat(o(e.threads),o(t.threads)),offset:e.offset+t.threads.length,total:t.total});case u:return n({},e,{isLoading:!1,isLoadingMore:!1,threads:[].concat(o(t.threads)),offset:t.threads.length,total:t.total});case d:return n({},f);case r.MUTE:var a=e.threads.map(function(e){var a=e.user.name===t.name;return a&&(e.user.isBlockedByCurrentUser=!0),e});return n({},e,{threads:a});case r.UNMUTE:var l=e.threads.map(function(e){var a=e.user.name===t.name;return a&&(e.user.isBlockedByCurrentUser=!1),e});return n({},e,{threads:l});case r.ERROR:return n({},e,{isLoading:!1});default:return e}},t.loadThreads=function(e){var t=e.filter,a=void 0===t?"":t,n=e.offset,r=void 0===n?0:n,o="/api/v3/users/"+p()+"/inbox?filter="+a+"&limit="+m+"&offset="+r;return function(e){var t=Promise.resolve($.get(o)),n=r>0;return e(n?{type:s,filter:a}:{type:i,filter:a}),t.then(function(t){return e({type:n?c:u,threads:t.threads,total:t.total,filter:a})}).catch(function(){return e({type:u,threads:[],filter:a})})}},t.resetThreads=function(){return function(e){e({type:d})}};var r=a(66);function o(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var l="THREADS",i=l+"/LOAD_REQUESTED",s=l+"/LOAD_MORE_REQUESTED",u=l+"/LOAD",c=l+"/LOAD_MORE",d=l+"/RESET",f={isLoading:!0,isLoadingMore:!1,threads:[],filter:"",total:0,offset:0};var p=function(){return wattpad.utils.currentUser().get("username")},m=10},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(26)),r=a(170);t.resize=function(e,t,a,o,l,i,s,u){var c=void 0,d=!!l&&l[0];return e&&t&&"string"==typeof t&&o&&isFinite(String(a))?((0,r.pixelRatio)(2.5,i,s,u)?(a*=3,d=!!l&&l[2],d=l?l[1]:l):(0,r.pixelRatio)(1.5,i,s,u)&&(a*=2,d=!!l&&l[1]),(c=n.default.find(e,function(e){return e+(!1!==d?Math.floor(e/d):0)>=a},void 0))||(c=n.default.reduce(e,function(e,t){return Math.abs(t-a)<Math.abs(e-a)?t:e})),t.replace(o,"$1"+c+"$3$4")):""}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserBadge=void 0;var n=l(a(0)),r=l(a(1)),o=a(3);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.name,a=e.size,r=void 0;return e.allowedBadges.indexOf(t)>-1&&("staff"===t?r=t:"verified"===t?r=t:"star"===t?r=t:"ambassador"===t&&(r=t)),r?n.default.createElement(o.Icon,{name:r,size:a,viewBox:20}):null}i.defaultProps={size:"16",allowedBadges:["star","verified","staff","ambassador"]},i.propTypes={name:r.default.string.isRequired,size:r.default.string.isRequired,allowedBadges:r.default.array},t.UserBadge=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ToastUI=t.Toast=void 0;var n=u(a(0)),r=u(a(1)),o=a(159),l=u(a(7)),i=a(11),s=a(67);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.toggleToast,a=e.toastProps;a=a||{};var r=(0,o.useTrans)().trans,i=a,s=i.className,u=i.body;if(u){var c=(0,l.default)("toast",s);return n.default.createElement("div",{className:c},n.default.createElement("div",{className:"toast-content"},n.default.createElement("p",null,u),n.default.createElement("button",{className:"btn-no-background",onClick:t},r("OK"))))}return null};c.propTypes={toastProps:r.default.shape({body:r.default.string,className:r.default.string}),toggleToast:r.default.func};var d=(0,i.connect)(function(e){return{toastProps:e.toast.toastProps}},{toggleToast:s.toggleToast})(c);t.Toast=d,t.ToastUI=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=s(n),o=s(a(1)),l=s(a(178)),i=s(a(180));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.sectionType,a=e.heading,o=e.subheading,s=e.stories,u=e.isPromoted,c=e.index,d=e.windowWidth,f=e.wasSeen,p=e.setPosition,m=e.storiesToShow,h=e.storyWidth,g=e.page,y=e.withDivider,v=void 0===y||y,b=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e=b.current.getBoundingClientRect();p(c,t,e.top+window.scrollY,e.bottom+window.scrollY)},[c,t,p]),null!==s&&0!==s.length?r.default.createElement("div",{className:"story-swimlane module",ref:b},r.default.createElement("div",{className:"module-content"},r.default.createElement(i.default,{heading:a,sectionType:t,subheading:o,isPromoted:u}),r.default.createElement(l.default,{sectionType:t,stories:s,windowWidth:d,index:c,wasSeen:f,storiesToShow:m,storyWidth:h,page:g}),v&&r.default.createElement("hr",{className:"module-divider"}))):null};u.propTypes={heading:o.default.string,index:o.default.number.isRequired,isPromoted:o.default.bool,sectionType:o.default.string.isRequired,setPosition:o.default.func.isRequired,subheading:o.default.string,stories:o.default.array.isRequired,wasSeen:o.default.bool,windowWidth:o.default.number,storiesToShow:o.default.number,storyWidth:o.default.number,page:o.default.string,withDivider:o.default.bool},t.default=u},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(7)),o=s(a(1)),l=s(a(0)),i=a(3);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),n(t,[{key:"render",value:function(){var e=this,t="wattys-tag"===this.props.className?"wp-neutral-5":"wp-neutral-2";return l.default.createElement("button",{className:(0,r.default)("tag-item with-icon",{active:this.props.active},this.props.className),onClick:function(t){return e.props.clickHandler(t,e.props.name)},onKeyDown:function(t){return e.props.clickHandler(t,e.props.name)}},l.default.createElement("span",null,this.props.name),this.props.active?this.props.noRemoveIcon?null:l.default.createElement(i.Icon,{iconName:"fa-remove",height:"12",color:t}):l.default.createElement(i.Icon,{iconName:"fa-plus",height:"12",color:t}))}}]),t}();t.default=u,u.defaultProps={clickHandler:function(){}},u.propTypes={active:o.default.bool,noRemoveIcon:o.default.bool,className:o.default.string,name:o.default.string.isRequired,clickHandler:o.default.func}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(7)),r=u(a(1)),o=u(a(0)),l=a(3),i=a(5),s=a(6);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=(0,s.useTrans)().trans,a=e.backgroundUrl,r=e.username,u=e.name,c=e.highlight_colour,f=e.numFollowers,p=e.avatar,m=e.numStoriesPublished,h=e.numLists,g=e.onUnmute,y=e.className,v=void 0;return v=a?{backgroundImage:"url( '"+(0,i.profileBackground)(a,1920)+"' )"}:{backgroundColor:c},o.default.createElement("div",{id:"profile-header",className:(0,n.default)("profile-layout",y)},o.default.createElement("header",{style:v,className:"background background-lg"},o.default.createElement("div",{className:"avatar avatar-profile center-block"},p?o.default.createElement(l.Avatar,{avatar:p,username:r}):o.default.createElement(l.ConnectImage,{name:"avatar/empty.png",width:"96",height:"96"})),o.default.createElement("h1",{className:"profile-name h3","aria-label":t("%s's profile",u||r)},u||r),g&&o.default.createElement("button",{className:"unmute-button",onClick:g},t("Unmute")),o.default.createElement(d,{numStoriesPublished:m,numFollowers:f,numLists:h})))},d=function(e){var t=e.numStoriesPublished,a=e.numFollowers,n=e.numLists,r=(0,s.useTrans)().ngettext;return o.default.createElement("div",{className:"row header-metadata"},o.default.createElement("div",{className:"col-xs-4"},o.default.createElement("p",null,void 0!==t?(0,i.count)(t):"-"),o.default.createElement("p",null,r("Work","Works",t||0))),o.default.createElement("div",{className:"col-xs-4"},o.default.createElement("p",null,void 0!==n?n:"-"),o.default.createElement("p",null,r("Reading List","Reading Lists",n||0))),o.default.createElement("div",{className:"col-xs-4"},o.default.createElement("p",{className:"followers-count"},void 0!==a?(0,i.count)(a):"-"),o.default.createElement("p",null,r("Follower","Followers",a||0))))};c.propTypes={username:r.default.string,backgroundUrl:r.default.string,avatar:r.default.string,highlight_colour:r.default.string,numStoriesPublished:r.default.number,numLists:r.default.number,numFollowers:r.default.number,name:r.default.string,onUnmute:r.default.func,className:r.default.string},c.defaultProps={avatar:"",username:""},d.propTypes={numStoriesPublished:r.default.number,numFollowers:r.default.number,numLists:r.default.number},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,[]),a=(0,o.useTrans)().trans;return r.default.createElement(l.ConnectImage,n({name:"/paid-content/coin-icon.svg",className:"coin-icon",alt:a("Coin")},t))};var r=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),o=a(6),l=a(3)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Wallet=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(11),o=a(115),l=p(a(7)),i=p(a(1)),s=p(a(0)),u=a(3),c=a(5),d=a(75),f=p(a(118));function p(e){return e&&e.__esModule?e:{default:e}}var m=t.Wallet=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.wallet,a=e.purchase,n=e.onWalletClick,r=e.trans,i=e.ngettext,p=t.amount,m=t.animationStep,h=a.amountSpent,g=(0,l.default)("wallet");if(m===d.WALLET_STATES.COIN)return g=(0,l.default)("coin-solo",g),s.default.createElement("button",{className:g},s.default.createElement(f.default,null));if(m===d.WALLET_STATES.DEDUCTING)return g=(0,l.default)("deducting",g),s.default.createElement("button",{className:g},s.default.createElement("div",{className:"deducting-icon"},s.default.createElement(u.ConnectImage,{name:"/icons/spinner.svg",className:"fa-spin",alt:r("Spinner"),height:"24",width:"24"})),s.default.createElement("span",{className:"num-coins"},r("Deducting")));if(m===d.WALLET_STATES.SUBTRACTING){g=(0,l.default)("subtracting",g);var y=void 0;return y=a.buyingPart?i("-%s Coin for next part","-%s Coins for next part",h):i("-%s Coin for story","-%s Coins for story",h),y=(0,o.sprintf)(y,h),s.default.createElement("button",{className:g},s.default.createElement("div",{className:"coin-container"},s.default.createElement(f.default,null)),s.default.createElement("span",{className:"num-coins"},y))}var v=p<1e4?p:(0,c.count)(p);return g=(0,l.default)("default",g),s.default.createElement("button",{onClick:n,className:g},s.default.createElement(f.default,null),s.default.createElement("span",{className:"num-coins divider-right"},v),s.default.createElement("div",{className:"get-coins"},s.default.createElement(u.Icon,{iconName:"fa-plus",height:"12",color:"wp-neutral-1"})))}}]),t}();m.propTypes={wallet:i.default.shape({amount:i.default.number.isRequired,animationStep:i.default.string.isRequired}).isRequired,purchase:i.default.shape({amountSpent:i.default.number.isRequired,buyingPart:i.default.bool}).isRequired,trans:i.default.func.isRequired,ngettext:i.default.func.isRequired,onWalletClick:i.default.func};t.default=(0,r.connect)(function(e){return{wallet:e.wallet,purchase:e.purchase}},{})((0,c.injectTrans)(m))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TOGGLE_MODAL_VISIBLE="TOGGLE_MODAL_VISIBLE"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.fetchPaidContentMetadata=function(e,t){return function(a,n){var o=n(),l=o.paidMetadata;if(void 0!==l.stories[e])return Promise.resolve();var i=t.join(",");return Promise.resolve($.get("/v5/story/"+e+"/paid-content/metadata",{parts:i})).then(function(t){a({type:r,storyId:e,metadata:t})})}},t.cacheBustPaidContentMetadata=function(e,t){return{type:o,storyId:e,partIds:t}},t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{parts:{},stories:{}},t=arguments[1];switch(t.type){case r:var a=t.metadata,l=t.storyId,i=a.story,s=a.parts,u=s.reduce(function(e,t){return e[t.id]=t,e},{}),c=e.stories,d=e.parts;return n({},e,{stories:n({},c,function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a;return e}({},l,i)),parts:n({},d,u)});case o:var f=t.storyId,p=t.partIds,m=_.omit(e.stories,f),h=_.omit(e.parts,p);return n({},e,{stories:m,parts:h});default:return e}};var r="PAID_CONTENT_METADATA/SET",o="PAID_CONTENT_METADATA/CLEAR"},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Form=t.ContestFormUI=t.ContestForm=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(11),l=g(a(7)),i=g(a(1)),s=a(0),u=g(s),c=a(157),d=a(76),f=a(355),p=a(3),m=a(381),h=a(6);function g(e){return e&&e.__esModule?e:{default:e}}function y(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var v=100,b=3500,w=200,E=function(e){return encodeURI(e).split(/%..|./).length-1};function _(e){var t=e.submitForm,a=e.closeModal,o=e.isStandalonePage,i=e.storyId,d=e.setContestForm,m=e.formState,g=(0,h.useTrans)().trans,_=m.data,S=(0,s.useState)(_),N=r(S,2),O=N[0],C=N[1],k=(0,s.useState)(!1),P=r(k,2),M=P[0],R=P[1];function I(e){var t=void 0,a=e.target,r=a.name;t=a.checked?[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(O.opportunities),[r]):O.opportunities.filter(function(e){return e!==r}),C(n({},O,{opportunities:t}))}function j(e){var t=e.target,a=t.name,r=t.value;C(n({},O,y({},a,r)))}function x(e){var t=e.target,a=t.name,r=t.value;C(n({},O,{logline:n({},O.logline,y({},a,r))}))}(0,s.useEffect)(function(){C(_)},[_]);var L={rule:function(e){return e.length>0},errorMessage:function(){return g("This field is required.")}},A=function(e){return{rule:function(t){return E(t)<=e},errorMessage:function(){return g("This field has to contain less than %s characters.",e)}}},q=m.hasSubmitted,U=m.isLoading,D=q||U,B=(new Date).getTime()<new Date("2 Aug 2019 00:00:00 GMT-0400").getTime(),W="poetry"===O.award_category,F=!D&&(W||O.logline.subject&&E(O.logline.subject)<=w&&O.logline.description&&E(O.logline.description)<=w&&O.logline.action&&E(O.logline.action)<=w&&O.logline.outcome&&E(O.logline.outcome)<=w&&O.award_category&&O.target_audience&&O.plot_summary&&E(O.plot_summary)>=v&&E(O.plot_summary)<=b)&&M,H=[{name:g("Sex"),id:"sex"},{name:g("Language"),id:"language"},{name:g("Violence"),id:"violence"},{name:g("Drug Use"),id:"drug_use"},{name:g("Other"),id:"other"},{name:g("Self-harm"),id:"self-harm"}],G={fanfiction:g("Fanfiction"),fantasy:g("Fantasy"),historical_fiction:g("Historical Fiction"),horror_and_paranormal:g("Horror & Paranormal"),literary_fiction:g("Literary Fiction"),mystery_and_thriller:g("Mystery & Thriller"),narrative_nonfiction:g("Non-Fiction"),new_adult:g("New Adult"),poetry:g("Poetry"),romance:g("Romance"),science_fiction:g("Science Fiction"),young_adult:g("Young Adult")},V=g("Thank you for your interest in the 2019 Watty Awards. In order to be considered for this year’s awards, complete the following submission form."),Y=[];return m.data.mature_themes&&m.data.mature_themes.length>0&&1!==m.data.mature_themes.length&&"none"!==m.data.mature_themes[0]&&(Y=m.data.mature_themes.map(function(e){return H.find(function(t){return t.id===e})})),u.default.createElement("div",{id:"contest-form"},u.default.createElement("form",null,u.default.createElement("div",{className:(0,l.default)("overflow-container",{disabled:U})},u.default.createElement(c.ContestFormHeader,{subtitle:V}),u.default.createElement("div",{className:"form-content"},!B&&u.default.createElement("div",{className:"already-submitted-box",dangerouslySetInnerHTML:{__html:g("The 2019 Watty Awards are now closed. Thanks for your participation!")}}),q&&u.default.createElement("div",{className:"already-submitted-box",dangerouslySetInnerHTML:{__html:g("You are viewing your submission for the ‘<strong>%s</strong>’ category in the 2019 Watty Awards. Changes cannot be made.",G[m.data.award_category])}}),u.default.createElement("h4",null,g("Award Category")+"*"),u.default.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:g('Select the award category you wish to be considered for. Stories that do not fit under any of the categories listed below will not be eligible to win. For full eligibility criteria, refer to <a target="_blank" rel="noopener noreferrer" href=%s>Rules and Regulations.</a>',"https://www.wattpad.com/story/189317031")}}),u.default.createElement(f.FormValidation,{validationRules:[L]},function(e){var t=e.ref,a=e.errorMessage,n=e.className;return u.default.createElement(u.default.Fragment,null,u.default.createElement("select",{ref:t,value:O.award_category,name:"award_category",disabled:D,className:(0,l.default)("form-element full-width",n),onChange:j},u.default.createElement("option",{value:"",disabled:!0},g("Select a category")),u.default.createElement("option",{value:"fanfiction"},g("Fanfiction")),u.default.createElement("option",{value:"fantasy"},g("Fantasy")),u.default.createElement("option",{value:"historical_fiction"},g("Historical Fiction")),u.default.createElement("option",{value:"horror_and_paranormal"},g("Horror & Paranormal")),1===m.language&&u.default.createElement("option",{value:"literary_fiction"},g("Literary Fiction")),u.default.createElement("option",{value:"mystery_and_thriller"},g("Mystery & Thriller")),1===m.language&&u.default.createElement("option",{value:"narrative_nonfiction"},g("Non-Fiction")),u.default.createElement("option",{value:"new_adult"},g("New Adult")),u.default.createElement("option",{value:"poetry"},g("Poetry")),u.default.createElement("option",{value:"romance"},g("Romance")),u.default.createElement("option",{value:"science_fiction"},g("Science Fiction")),u.default.createElement("option",{value:"young_adult"},g("Young Adult"))),a&&u.default.createElement("div",{className:"error-text"},a))}),u.default.createElement("div",{className:"inline-row"},u.default.createElement("div",{className:"flex-part"},u.default.createElement("h4",null,g("Mature Themes")),u.default.createElement("div",{className:"subtitle small"},g("Select the themes that your story contains"),".")),u.default.createElement(p.MultiSelect,{disabled:D,getItems:function(e){var t=e.toLowerCase();return t?H.filter(function(e){return e.name.toLowerCase().includes(t)}):H},defaultSelectedItems:Y,isLoading:U,placeholder:g("None"),handleChange:function(e){C(n({},O,{mature_themes:e.map(function(e){return e.id})}))}})),u.default.createElement(f.FormValidation,{validationRules:[L]},function(e){var t=e.ref,a=e.errorMessage,n=e.className;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"inline-row"},u.default.createElement("div",{className:"flex-part"},u.default.createElement("h4",null,g("Target Audience")+"*"),u.default.createElement("div",{className:"subtitle small"},g("Tell us what age group your story is intended for."))),u.default.createElement("div",null,u.default.createElement("select",{ref:t,value:O.target_audience,name:"target_audience",disabled:D,className:(0,l.default)("form-element",n),onChange:j},u.default.createElement("option",{value:"",disabled:!0},g("Select an audience")),u.default.createElement("option",{value:"8-13"},g("Middle Grade (8-12 years old)")),u.default.createElement("option",{value:"13-18"},g("Young Adult (13-18 years old)")),u.default.createElement("option",{value:"18-25"},g("New Adult (18-24 years old)")),u.default.createElement("option",{value:"25+"},g("Adult (25+ years old)"))),a&&u.default.createElement("div",{className:"error-text"},a))))}),!W&&u.default.createElement(u.default.Fragment,null,u.default.createElement("h4",null,g("Logline")+"*"),u.default.createElement("div",{style:{marginBottom:0},className:"subtitle"},g("Give us a one-sentence description of your story that conveys the dramatic narrative and hook. Please input your logline in the structure below.")),u.default.createElement("div",{className:"subtitle",dangerouslySetInnerHTML:{__html:g("Ex. “Cleopatra, <strong>a</strong> zombified ruler of Egypt, <strong>has to</strong> resist the temptation of eating Mark Antony, <strong>in order to</strong> not change the course of Egypt's future.”")}}),u.default.createElement("div",{className:"column-flex"},u.default.createElement(f.FormValidation,{validationRules:[L,A(w)]},function(e){var t=e.ref,a=e.errorMessage,n=e.className;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"inline-row"},u.default.createElement("span",null),u.default.createElement("input",{ref:t,className:(0,l.default)("form-element",n),name:"subject",disabled:D,onChange:x,value:O.logline.subject,placeholder:g("Character name")}),","),a&&u.default.createElement("div",{className:"error-text"},a))}),u.default.createElement(f.FormValidation,{validationRules:[L,A(w)]},function(e){var t=e.ref,a=e.errorMessage,n=e.className;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"inline-row"},u.default.createElement("span",null,g("a")),u.default.createElement("input",{ref:t,className:(0,l.default)("form-element",n),name:"description",onChange:x,disabled:D,value:O.logline.description,placeholder:g("Character description")}),","),a&&u.default.createElement("div",{className:"error-text"},a))}),u.default.createElement(f.FormValidation,{validationRules:[L,A(w)]},function(e){var t=e.ref,a=e.errorMessage,n=e.className;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"inline-row"},u.default.createElement("span",null,g("has to")),u.default.createElement("input",{ref:t,className:(0,l.default)("form-element",n),name:"action",onChange:x,disabled:D,value:O.logline.action,placeholder:g("Action")}),","),a&&u.default.createElement("div",{className:"error-text"},a))}),u.default.createElement(f.FormValidation,{validationRules:[L,A(w)]},function(e){var t=e.ref,a=e.errorMessage,n=e.className;return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:"inline-row"},u.default.createElement("span",null,g("in order to")),u.default.createElement("input",{ref:t,className:(0,l.default)("form-element",n),name:"outcome",onChange:x,disabled:D,value:O.logline.outcome,placeholder:g("Result")}),"."),a&&u.default.createElement("div",{className:"error-text"},a))}))),!W&&u.default.createElement(u.default.Fragment,null,u.default.createElement("h4",null,g("Plot Summary")+"*"),u.default.createElement("div",{className:"subtitle"},g("A plot summary should be approximately 500 words and written in third person. It should identify the major characters, key moments of action, and how the story ends (including spoilers).")),u.default.createElement(f.FormValidation,{validationRules:[L,function(e){return{rule:function(t){return E(t)>=e},errorMessage:function(){return g("This field has to contain more than %s characters.",e)}}}(v),A(b)]},function(e){var t=e.ref,a=e.errorMessage,n=e.className;return u.default.createElement(u.default.Fragment,null,u.default.createElement("textarea",{ref:t,style:{height:200,marginBottom:5},className:(0,l.default)("form-element",n,"full-width"),name:"plot_summary",value:O.plot_summary,disabled:D,onChange:j}),a&&u.default.createElement("div",{style:{marginBottom:0},className:"error-text"},a),u.default.createElement(T,{value:O.plot_summary,limit:b}))})),u.default.createElement("h4",null,g("Opportunities")),u.default.createElement("div",{className:"subtitle"},g("We want to know your other aspirations on our platform! This information will help us determine other opportunities for you and your story that you would be interested in.")),u.default.createElement("div",{className:"subtitle black"},g("I would like my story to be considered for...")),1===m.language&&u.default.createElement("div",{className:"checkbox-group"},u.default.createElement("input",{checked:O.opportunities.indexOf("stars")>-1,name:"stars",type:"checkbox",disabled:D,onChange:I})," ",u.default.createElement("div",null,g("Wattpad Stars"))),1===m.language&&u.default.createElement("div",{className:"checkbox-group"},u.default.createElement("input",{checked:O.opportunities.indexOf("paid_stories")>-1,name:"paid_stories",type:"checkbox",disabled:D,onChange:I})," ",u.default.createElement("div",null,g("Wattpad Paid Stories"))),u.default.createElement("div",{className:"checkbox-group"},u.default.createElement("input",{checked:O.opportunities.indexOf("publishings")>-1,name:"publishings",type:"checkbox",disabled:D,onChange:I})," ",u.default.createElement("div",null,g("Wattpad publishing opportunities, including Wattpad Books"))),u.default.createElement("div",{className:"checkbox-group"},u.default.createElement("input",{checked:O.opportunities.indexOf("entertainment")>-1,name:"entertainment",type:"checkbox",disabled:D,onChange:I})," ",u.default.createElement("div",null,g("Wattpad entertainment opportunities, including film and television"))),u.default.createElement("div",{className:"checkbox-group"},u.default.createElement("input",{disabled:D,checked:1===m.language?O.opportunities.indexOf("entertainment")>-1&&O.opportunities.indexOf("stars")>-1&&O.opportunities.indexOf("publishings")>-1&&O.opportunities.indexOf("paid_stories")>-1:O.opportunities.indexOf("entertainment")>-1&&O.opportunities.indexOf("publishings")>-1,type:"checkbox",onChange:function(e){var t=e.target.checked,a=["publishings","entertainment"];1===m.language&&(a.push("stars"),a.push("paid_stories")),C(n({},O,{opportunities:t?a:[]}))}})," ",u.default.createElement("div",null,g("All available opportunities with Wattpad"))),u.default.createElement("hr",null),u.default.createElement("div",{className:"checkbox-group"},u.default.createElement("input",{disabled:D,name:"confirmLegal",checked:q||M,type:"checkbox",onChange:function(e){var t=e.target.checked;return R(t)}})," ",u.default.createElement("div",{dangerouslySetInnerHTML:{__html:g('<a target="_blank" rel="noopener noreferrer" href=%s>I confirm that I\'ve read, understood, and agree to the contest rules and regulations.</a>',"https://a.wattpad.com/image/wattys%202019%20contest%20official%20rules%20&%20regulations.pdf")}})),u.default.createElement("div",{className:"subtitle small",style:{marginTop:10,marginBottom:20}},g("Ready to hit submit? Please note that once you’ve submitted your story, you won’t be able to resubmit the same one, so make sure your story is Wattys ready. This information will be kept confidential and is for internal purposes only.")))),o&&q?null:u.default.createElement("div",{className:"btn-container"},u.default.createElement("button",{type:"button",onClick:function(e){e.preventDefault(),e.stopPropagation(),0===O.mature_themes.length&&(O.mature_themes=["none"]),"poetry"===O.award_category&&(delete O.plot_summary,delete O.logline),O.contests=[{name:"wattys2019",award_category:O.award_category}],d(i,O).then(function(e){t(e)})},disabled:!F,className:"btn btn-orange"},g("Submit")),!o&&u.default.createElement("button",{type:"button",onClick:a,className:"btn"},g("Cancel")))))}function T(e){var t=e.value,a=e.limit;return u.default.createElement("div",{className:"counter"},u.default.createElement("span",{className:(0,l.default)({danger:E(t)>a})},E(t)),"/",a)}T.propTypes={value:i.default.string,limit:i.default.number},_.propTypes={submitForm:i.default.func.isRequired,closeModal:i.default.func.isRequired,isStandalonePage:i.default.bool.isRequired,fetchContestForm:i.default.func,setContestForm:i.default.func,storyId:i.default.string,formState:i.default.shape({isLoading:i.default.bool.isRequired,hasSubmitted:i.default.bool.isRequired,data:i.default.shape({target_audience:i.default.string.isRequired,mature_themes:i.default.arrayOf(i.default.string).isRequired,plot_summary:i.default.string.isRequired,award_category:i.default.string.isRequired,logline:i.default.shape({subject:i.default.string.isRequired,description:i.default.string.isRequired,action:i.default.string.isRequired,outcome:i.default.string.isRequired}).isRequired,opportunities:i.default.arrayOf(i.default.string).isRequired}),language:i.default.number})};var S=function(e){var t=e.success,a=e.hasAddedWattysTag,n=e.isStandalonePage,o=e.closeModal,l=e.storyId,i=e.formState,c=e.fetchContestForm,d=e.setContestForm;(0,s.useEffect)(function(){l&&c(l)},[l,c]);var f=(0,s.useState)("form"),p=r(f,2),h=p[0],g=p[1];return"success"===h||t?u.default.createElement(m.SubmissionSuccess,{hasAddedWattysTag:a,isStandalonePage:n,formState:i,closeModal:o}):u.default.createElement(_,{storyId:l,closeModal:o,formState:i,setContestForm:d,isStandalonePage:n,submitForm:function(e){n?window.location.href="/contests/wattys2019?storyId="+l+"&success=true&hasAddedWattysTag="+e:g("success")}})};S.defaultProps={success:!1,isStandalonePage:!1,closeModal:function(){},storyId:""},S.propTypes={formState:i.default.object,fetchContestForm:i.default.func,setContestForm:i.default.func,closeModal:i.default.func,success:i.default.bool,hasAddedWattysTag:i.default.bool,isStandalonePage:i.default.bool,storyId:i.default.string};var N=(0,o.connect)(function(e){return{formState:n({},e.contestForm)}},{fetchContestForm:d.fetchContestForm,setContestForm:d.setContestForm})(S);t.ContestForm=N,t.ContestFormUI=S,t.Form=_},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContestFormHeader=void 0;var n=l(a(1)),r=l(a(0)),o=a(6);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.subtitle,a=(0,o.useTrans)().trans;return r.default.createElement("div",{className:"form-header"},r.default.createElement("h2",{dangerouslySetInnerHTML:{__html:a("the<span class='bolded'>wattys</span>2019")}}),r.default.createElement("div",{className:"subtitle"},t))}i.propTypes={subtitle:n.default.string.isRequired},t.ContestFormHeader=i},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=a(0);t.default=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=(0,n.useRef)();(0,n.useEffect)(function(){o.current=a},[a]),(0,n.useEffect)(function(){if(r&&r.addEventListener){var e=function(e){return o.current(e)};return r.addEventListener(t,e),function(){r.removeEventListener(t,e)}}},[t,r])}}).call(this,a(21))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useTrans=function(){return(0,n.useContext)(r.I18nContext)};var n=a(0),r=a(78)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopoverUI=t.Popover=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(11),l=a(556),i=p(a(1)),s=a(0),u=p(s),c=p(a(65)),d=a(6),f=a(106);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=e.popoverProps,a=e.closePopover,o=t.triggerRef,i=t.component,f=t.passthroughProps,p=void 0===f?{}:f,m=(0,s.useState)(),h=r(m,2),g=h[0],y=h[1];return(0,d.useClickOutside)(g,function(e){o&&(e===o.current||o.current.contains(e)||a())}),o&&i?c.default.createPortal(u.default.createElement(l.Popper,n({className:"react-popover",innerRef:function(e){return y(e)},referenceElement:o.current},p),function(e){var t=e.placement,n=e.ref,r=e.style,o=e.arrowProps;return u.default.createElement("div",{className:"react-popover-content",ref:n,style:r,"data-placement":t},i&&i({closePopover:a}),p.showArrow&&u.default.createElement("div",{className:"react-popover-arrow",ref:o.ref,style:o.style}))}),document.querySelector("#react-popover")):null}m.propTypes={popoverProps:i.default.shape({triggerRef:i.default.object,component:i.default.func,passthroughProps:i.default.object}).isRequired};var h=(0,o.connect)(function(e){return{popoverProps:n({},e.popover.popoverProps)}},{closePopover:f.closePopover})(m);t.Popover=h,t.PopoverUI=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=d(r),l=a(6),i=d(a(7)),s=d(a(32)),u=d(a(1)),c=a(370);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.inputType,a=e.name,u=e.id,d=e.label,f=e.onBlur,p=e.autofocus,m=e.showVisibilityToggle,h=(0,l.useTrans)().trans,g=(0,i.default)("form-control","enable","input-lg",{"custom-select":"select"===t,"custom-select-lg":"select"===t}),y=(0,r.useState)("password"),v=n(y,2),b=v[0],w=v[1];switch(t){case"select":return o.default.createElement("div",{className:"birthday-dropdowns"},o.default.createElement("select",{id:u,className:g,name:a,defaultValue:"",onBlur:f,required:!0},(0,c.generateDropdownItems)(a)),o.default.createElement("span",{className:"dropdown-arrow"},o.default.createElement(s.default,{iconName:"fa-caret",height:"20"})));case"password":return o.default.createElement("div",{className:"password-container"},o.default.createElement("input",{type:b,id:u,className:g,name:a,placeholder:d,autoFocus:p,onBlur:f}),m&&o.default.createElement("button",{className:"password-show btn-no-background",onClick:function(e){e.preventDefault(),e.stopPropagation(),w("text"===b?"password":"text")}},h("text"===b?"Hide":"Show")));default:return o.default.createElement("input",{type:t,id:u,className:g,name:a,placeholder:d,autoFocus:p,onBlur:f})}};f.propTypes={inputType:u.default.string,name:u.default.string,id:u.default.string,label:u.default.string,onBlur:u.default.func,autofocus:u.default.bool,showVisibilityToggle:u.default.bool},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(1));function o(e){return e&&e.__esModule?e:{default:e}}var l=function(e){var t=e.value,a=e.label;return n.default.createElement("option",{value:t,key:t},a||t)};l.propTypes={value:r.default.oneOfType([r.default.string,r.default.array]),label:r.default.string},t.default=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=i(r),l=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){return!1===this.props.isValid&&"month"!==this.props.name&&"day"!==this.props.name&&"year"!==this.props.name?o.default.createElement("div",{className:"error-msg"}," ",this.props.errorMessage," "):null}}]),t}();s.propTypes={name:l.default.string,isValid:l.default.bool,errorMessage:l.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=f(r),l=a(11),i=f(a(1)),s=f(a(7)),u=f(a(32)),c=a(27),d=a(6);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=e.toggleModal,a=e.modalProps,l=a=a||{},i=l.className,c=l.component,f=l.disableClose,p=void 0!==f&&f,m=l.hideClose,h=void 0!==m&&m,g=l.animate,y=void 0===g||g,v=l.onCloseModal,b=void 0===v?function(){}:v,w=(0,r.useState)(null),E=n(w,2),_=E[0],T=E[1];(0,d.useClickOutside)(_,function(){c&&!p&&(t(),b())});var S=(0,r.useCallback)(function(e){p||"Escape"===(e.key||e.keyCode)&&(t(),b())},[p,t,b]);return(0,r.useEffect)(function(){return window.addEventListener("keydown",S),function(){window.removeEventListener("keydown",S)}},[S]),c?o.default.createElement("div",{className:(0,s.default)("wp-modal","modal-container",i)},o.default.createElement("div",{ref:function(e){return T(e)},className:(0,s.default)("modal-content",{animate:y})},!p&&!h&&o.default.createElement("button",{className:"btn-no-style",onClick:function(){t(),b()}},o.default.createElement(u.default,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),c&&c({toggleModal:t}))):null}p.propTypes={toggleModal:i.default.func.isRequired,modalProps:i.default.shape({className:i.default.string,component:i.default.func,disableClose:i.default.bool,hideClose:i.default.bool,animate:i.default.bool,onCloseModal:i.default.func})};var m=(0,l.connect)(function(e){return{modalProps:e.modal.modalProps}},{toggleModal:c.toggleModal})(p);t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FETCH_HOME_MODULES="FETCH_HOME_MODULES",t.RECEIVE_SECTION_POSITION="RECEIVE_SECTION_POSITION",t.SECTION_VIEWED="SECTION_VIEWED",t.ERROR="ERROR",t.CLEAR_ERROR="CLEAR_ERROR",t.CALL_TRACKING_URLS="CALL_TRACKING_URLS",t.errorTypes={fetchFailed:"FETCH_FAILED"}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.isClient=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(26));var r=r||e;t.isClient=function(){return!n.default.isUndefined(n.default.get(r,"wattpad.utils"))}}).call(this,a(21))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linkify=void 0;var n=a(168),r=a(169);t.linkify=function(e,t){var a=/((?![/.#])(?:^|\W))@([\S-]+)/gi,o=/(http(s)?:\/\/[^\s]+)/gi,l=/(?:^|\W)#([^\s?/]+)/gi,i='$1<a class="on-user-mention" href="/user/$2">@$2</a>',s='<a href="$1" rel="nofollow" target="_blank">$1</a>',u=' <a href="/tags/$1" class="on-navigate">#$1</a>';switch((t=t||{}).hash&&t.hash.sanitization&&(t.sanitization=t.hash.sanitization),t.sanitization=t.sanitization||"sanitize",t.doTags=!1!==t.doTags,t.doUrl=!1!==t.doUrl&&"unsanitize"!==t.sanitization,t.doMention=!1!==t.doMention,t.sanitization){case"sanitize":e=(0,n.sanitizeHTML)(e);break;case"unsanitize":e=(0,r.unsanitizeHTML)(e)}return t.doMention&&(e=e.replace(a,i)),t.doUrl&&(e=e.replace(o,s)),t.doTags&&(e=e.replace(l,u)),e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sanitizeHTML=function(e){return e&&"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.unsanitizeHTML=function(e){return e&&"string"==typeof e?e.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"'):e}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var a=a||e;t.pixelRatio=function e(t,n,r,o){var l=a?a.devicePixelRatio:n;if(!t)return l||(e(3)?3:e(2)?2:e(1.5)?1.5:e(1)?1:0);if(l&&l>0)return l>=t;var i=(a?a.matchMedia:r)||(a?a.msMatchMedia:o);return!(!i||!i(t="only all and (min--moz-device-pixel-ratio:"+t+")").matches&&!i(t.replace("-moz-","")).matches)}}).call(this,a(21))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(0)),o=a(3),l=a(6);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.direction,a=e.threshold,n=e.total,i=e.offset,s=e.isLoading,u=e.isDisabled,c=e.onLoad,d=(0,l.useTrans)().trans;return(0,l.useScrollDetection)({direction:t,threshold:a,onThreshold:function(){u||i===n||c(i)}}),s?r.default.createElement("div",{className:"load-more-container"},r.default.createElement(o.ConnectImage,{name:"/icons/spinner.svg",className:"fa-spin load-more",title:d("Spinner"),height:"24",width:"24"})):null}s.defaultProps={direction:"down",threshold:200},s.propTypes={direction:n.default.string.isRequired,threshold:n.default.number.isRequired,total:n.default.number.isRequired,offset:n.default.number.isRequired,isLoading:n.default.bool.isRequired,isDisabled:n.default.bool.isRequired,onLoad:n.default.func.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThreadControlUI=t.ThreadControl=void 0;var n=p(a(0)),r=p(a(1)),o=a(11),l=a(3),i=a(79),s=a(66),u=a(27),c=p(a(173)),d=p(a(174)),f=a(6);function p(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=e.isLoading,a=e.activeThread,r=e.isBlockedByCurrentUser,o=e.muteUser,i=e.deleteConversation,s=e.unmuteUser,u=e.toggleModal,p=(0,f.useTrans)().trans;return n.default.createElement("div",null,!t&&n.default.createElement(l.UserSafetyOperations,{username:a,isBlockedByCurrentUser:r,onMuteUser:function(){var e=function(){return n.default.createElement(c.default,{username:a,toggleModal:u,muteUser:o})};e.displayName="MuteModal",u({className:"mute-modal",hideClose:!0,component:e})},onUnmuteUser:function(){var e=function(){return n.default.createElement(d.default,{username:a,toggleModal:u,onUnmute:s})};e.displayName="UnmuteModal",u({className:"mute-modal",hideClose:!0,component:e})},onDeleteConversation:function(){confirm(p("Delete all messages between you and %s?",a))&&i(a).then(function(){"/inbox"===window.location.pathname?window.location.reload():window.app.router.navigate("/inbox",{trigger:!0})})},onReportUser:function(){var e=a;window.location.href="/help/report?author="+encodeURIComponent(e)+"&comment="}}))}m.propTypes={activeThread:r.default.string.isRequired,isLoading:r.default.bool.isRequired,deleteConversation:r.default.func.isRequired,isBlockedByCurrentUser:r.default.bool.isRequired,muteUser:r.default.func.isRequired,unmuteUser:r.default.func.isRequired,toggleModal:r.default.func};var h=(0,o.connect)(null,{deleteConversation:i.deleteConversation,muteUser:s.muteUser,unmuteUser:s.unmuteUser,toggleModal:u.toggleModal})(m);t.ThreadControl=h,t.ThreadControlUI=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=i(a(1)),o=a(6),l=i(a(7));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.username,a=e.toggleModal,r=e.muteUser,i=(0,o.useTrans)().trans,s=i("This account will not be able to follow you, send you messages, post on your profile or comment on your stories."),u=(0,l.default)("btn btn-orange",{"on-mute-user":void 0===r});return n.default.createElement("div",{className:"mute-modal-content"},n.default.createElement("h3",{className:"mute-modal-title"},i("Mute %s",t)),n.default.createElement("p",null,s),n.default.createElement("div",{className:"confirm-buttons"},n.default.createElement("button",{className:"btn-gray cancel-mute",onClick:a},i("Cancel")),n.default.createElement("button",{className:u,onClick:function(){a(),r&&r(t)}},i("Mute"))))};s.propTypes={username:r.default.string.isRequired,toggleModal:r.default.func.isRequired,muteUser:r.default.func},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(0)),o=i(a(1)),l=a(5);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.username,a=e.onUnmute,n=e.trans,o=e.toggleModal,l=n("This account will now be able to follow you, send you messages, post on your profile and comment on your stories.");return r.default.createElement("div",{className:"mute-modal-content"},r.default.createElement("h3",{className:"mute-modal-title"},n("Unmute %s",t)),r.default.createElement("p",null,l),r.default.createElement("div",{className:"confirm-buttons"},r.default.createElement("button",{className:"cancel-mute",onClick:o},n("Cancel")),r.default.createElement("button",{className:"btn btn-orange",onClick:function(){o(),a(t)}},n("Unmute"))))}}]),t}();s.defaultProps={onUnmuteUser:function(){},toggleModal:function(){}},s.propTypes={username:o.default.string.isRequired,trans:o.default.func,onUnmute:o.default.func,toggleModal:o.default.func},t.default=(0,l.injectTrans)(s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(1)),o=i(a(0)),l=a(5);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCheckboxChange=function(){var e=!a.state.checked;a.setState({checked:e}),a.props.onCheckboxChange(a.props.name,e)},"checkbox"===a.props.type&&(a.state={checked:a.props.value}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.trans,a=e.label,n=e.value,r=e.name,i=e.type,s=e.icon,u=e.children;return o.default.createElement("div",null,o.default.createElement("div",{className:"col-xs-5 account-label"},o.default.createElement("label",{htmlFor:r,className:"profile-label"},t(a)),s),o.default.createElement("div",{className:"col-xs-7 account-value"},"text"===i&&o.default.createElement("input",{type:"text",name:r,id:r,defaultValue:(0,l.sanitizeHTML)(n)}),"checkbox"===i&&o.default.createElement("input",{type:"checkbox",name:r,id:r,value:this.state.checked,defaultChecked:this.state.checked,onChange:this.onCheckboxChange}),u))}}]),t}();s.propTypes={trans:r.default.func.isRequired,label:r.default.string,value:r.default.any,name:r.default.string,type:r.default.string,icon:r.default.node,children:r.default.oneOfType([r.default.arrayOf(r.default.node),r.default.node]),onCheckboxChange:r.default.func},t.default=(0,l.injectTrans)(s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchHomeSections=function(e,t,a){return function(r){((0,n.isClient)()?Promise.resolve($.get("/v5/home")):e.get("/v5/home",{},t,a)).then(function(e){r({type:o.FETCH_HOME_MODULES,sections:e.sections}),r(l())}).catch(function(){r({type:o.ERROR,error:{errorType:o.errorTypes.fetchError,errorMessage:"fetching home modules failed"}})})}},t.receiveSectionPosition=function(e,t,a,n){return{type:o.RECEIVE_SECTION_POSITION,info:{index:e,type:t,top:a,bottom:n}}},t.sectionViewed=function(e){return{type:o.SECTION_VIEWED,index:e}},t.clearError=l,t.callTrackingUrls=function(e){return function(t){r.default.each(e,function(e){$.get(e)}),t({type:o.CALL_TRACKING_URLS})}};var n=a(5),r=function(e){return e&&e.__esModule?e:{default:e}}(a(26)),o=a(165);function l(){return function(e){e({type:o.CLEAR_ERROR})}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(3),o=a(6);t.default=function(){var e=(0,o.useTrans)().trans;return n.default.createElement("div",{className:"promoted-indicator"},n.default.createElement(r.Icon,{name:"promoted",className:"promoted-icon",size:"25",color:"wp-base-1",boxX:"-5",boxY:"-5"}),n.default.createElement("p",null,e("Promoted")))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=f(a(83)),l=f(a(1)),i=a(0),s=f(i),u=a(3),c=f(a(435)),d=f(a(179));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var m=function(e){var t=e.sectionType,a=e.stories,l=e.index,f=e.windowWidth,m=e.wasSeen,h=e.storiesToShow,g=void 0===h?5:h,y=e.storyWidth,v=void 0===y?200:y,b=e.page,w=!1;f<=960&&(g=2.5,w=!0,v=105);var E=(0,d.default)(parseInt(app.get("language"),10)),_=(0,i.useState)([]),T=r(_,2),S=T[0],N=T[1];(0,i.useEffect)(function(){if(m){var e=Math.min(Math.round(g),a.length);a.slice(0,e).map(function(e,a){O(e.id,e.source,l,a,t)}),N([].concat(p(S),p(a.slice(0,e).map(function(e,t){return t}))))}},[m]);var O=function(e,t,a,n,r){window.te.push("event","story",null,null,"view",{storyid:e,page:b,algo_source:t,position:a,offset:n,type:r})};return null!==a&&0!==a.length?s.default.createElement("div",{className:"story-carousel"},s.default.createElement("div",E?{dir:"ltr",className:"carousel-container rtl-adjust"}:{className:"carousel-container"},s.default.createElement(o.default,{afterSlide:m?function(e){var n=Math.min(e+Math.round(g),a.length);a.slice(e,n).map(function(a,n){S.includes(e+n)||O(a.id,a.source,l,e+n,t)}),N([].concat(p(S),p(a.slice(e,n).map(function(t,a){return e+a}))))}:function(){},enableKeyboardControls:!0,frameOverflow:w?"visible":"hidden",heightMode:"max",slidesToShow:g,slidesToScroll:"auto",initialHeight:"1",renderCenterRightControls:5===g&&a.length>5?function(e){return function(e,t,a){return e!==a-g||E?s.default.createElement("button",{className:"next-btn",onClick:t},s.default.createElement(u.Icon,{name:"arrowCircleRight",size:"40",alt:"next",strokeWidth:"2.25"})):null}(e.currentSlide,e.nextSlide,e.slideCount)}:null,renderCenterLeftControls:5===g&&a.length>5?function(e){return function(e,t){return 0!==e||E?s.default.createElement("button",{className:"prev-btn",onClick:t},s.default.createElement(u.Icon,{name:"arrowCircleLeft",size:"40",alt:"previous",strokeWidth:"2.25"})):null}(e.currentSlide,e.previousSlide)}:null,renderBottomCenterControls:null,wrapAround:E},a.map(function(e,a){return s.default.createElement(c.default,n({},e,{sectionType:t,index:l,offset:a,width:v,key:e.id+"-"+a,page:b}))})))):null};m.propTypes={sectionType:l.default.string.isRequired,stories:l.default.array.isRequired,index:l.default.number.isRequired,wasSeen:l.default.bool,windowWidth:l.default.number,storiesToShow:l.default.number,storyWidth:l.default.number,page:l.default.string},t.default=m},function(e,t,a){"use strict";e.exports=function(e){switch(e){case 16:case 17:case 31:case 48:return!0;default:return!1}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=i(a(1)),o=i(a(177)),l=a(436);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.heading,a=e.subheading,r=e.item,i=e.isPromoted,s=void 0;return s="paid"===e.sectionType?n.default.createElement(l.PaidIndicator,null):n.default.createElement(n.default.Fragment,null,!0===i&&n.default.createElement(o.default,null),r&&r.url&&r.name&&n.default.createElement("a",{href:r.url},r.name)),n.default.createElement("div",{className:"module-header"},n.default.createElement("div",{className:"left-section"},n.default.createElement("div",{className:"heading"},n.default.createElement("h3",null,t)),n.default.createElement("div",{className:"subheading"},n.default.createElement("h4",null,a))),s&&n.default.createElement("div",{className:"right-section"},s))};s.propTypes={heading:r.default.string.isRequired,subheading:r.default.string,item:r.default.object,isPromoted:r.default.bool,sectionType:r.default.string},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=c(a(0)),l=c(a(1)),i=c(a(26)),s=c(a(58)),u=a(5);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"tagClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaItem:click",e)}},{key:"numNotShownClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagMetaNumNotShown:click",e)}},{key:"formatTags",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;if(i.default.isEmpty(e))return{};var a=i.default.clone(e),n={tags:[],numNotShown:Math.max(a.length-t,0)},r=null;if(a.length<=t)i.default.each(a,function(e){n.tags.push({id:e,name:e})});else for(;n.tags.length<t;)r=a.splice(Math.floor(Math.random()*a.length),1)[0],n.tags.push({id:r,name:r});return n}},{key:"render",value:function(){var e=this,t=this.props,a=t.trans,r=t.tagMeta,l=this.formatTags(r.tags,r.numShown),i=r.storyId||null,u=null;return l.numNotShown&&(u=o.default.createElement("span",{className:"num-not-shown"+(i?" on-story-preview":""),"data-story-id":i,onClick:this.numNotShownClickHandler,onKeyDown:this.numNotShownClickHandler,role:"button",tabIndex:"0"},a("+%s more",l.numNotShown))),l.tags&&l.tags.length>0?o.default.createElement("div",{className:"tag-meta clearfix"},o.default.createElement("ul",{className:"tag-items"},l.tags.map(function(t){return o.default.createElement("li",{key:t.id},o.default.createElement(s.default,n({},t,{clickHandler:e.tagClickHandler})))})),u):null}}]),t}();d.propTypes={tagMeta:l.default.shape({tags:l.default.arrayOf(l.default.string).isRequired,storyId:l.default.string,numShown:l.default.number}).isRequired,trans:l.default.func.isRequired},t.default=(0,u.injectTrans)(d)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=c(a(0)),l=c(a(1)),i=a(80),s=c(a(58)),u=c(a(116));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.tagClickHandler=function(e,t){n.props.onTagClicked&&n.props.onTagClicked(t),window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagGridItem:click",e)},d(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this,t=this.props.tagGridTags.tags,a=this.props.tagGridTags.withIcon||!1;return t&&t.length>0?o.default.createElement("div",{className:"tag-grid clearfix"},o.default.createElement("ul",{className:"tag-items"},t.map(function(t,r){return a?o.default.createElement("li",{key:t.id},o.default.createElement(u.default,n({},t,{clickHandler:e.tagClickHandler}))):o.default.createElement("li",{key:t.id},o.default.createElement(s.default,n({bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler})))}))):null}},{key:"getNextTagColor",value:function(e,t){var a=e%i.TAG_NUM_COLOURS;return"bg"===t?i.TAG_BG_COLOURS[a]:i.TAG_TEXT_COLOURS[a]}}]),t}();t.default=f,f.propTypes={tagGridTags:l.default.object.isRequired,onTagClicked:l.default.func}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finishPaidContentPurchase=t.markPaidContentPurchaseSuccessful=t.startPaidContentPurchase=t.fetchWalletBalance=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(26)),r=a(5),o=a(75);t.fetchWalletBalance=function(e,t,a,l){var i="/v5/users/"+e+"/wallet";return function(e){return((0,r.isClient)()?Promise.resolve($.get(i)):t.get(i,{},a,l)).then(function(t){var a=n.default.find(t,{id:o.CURRENCY_ID});a&&e({type:o.SET_WALLET_BALANCE,amount:a.amount})}).catch(function(e){console.log("Failed to fetch wallet balance",e)})}},t.startPaidContentPurchase=function(e,t){return function(a){return a({type:o.BUYING_CONTENT,price:e,partId:t}),a({type:o.WALLET_ANIMATION_STEP,step:o.WALLET_STATES.COIN}),setTimeout(function(){a({type:o.WALLET_ANIMATION_STEP,step:o.WALLET_STATES.DEDUCTING})},o.COIN_TRANSITION_DELAY),(0,r.promiseTimeout)(o.DEDUCTING_ANIMATION_DELAY)}},t.markPaidContentPurchaseSuccessful=function(){return function(e){return e({type:o.WALLET_ANIMATION_STEP,step:o.WALLET_STATES.SUBTRACTING}),(0,r.promiseTimeout)(o.SUBTRACTING_ANIMATION_DELAY)}},t.finishPaidContentPurchase=function(){return function(e){return e({type:o.WALLET_ANIMATION_STEP,step:o.WALLET_STATES.COIN}),setTimeout(function(){e({type:o.BOUGHT_CONTENT})},o.COIN_TRANSITION_DELAY),(0,r.promiseTimeout)(o.COIN_TRANSITION_DELAY)}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=u(r),l=u(a(7)),i=u(a(1)),s=a(6);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=(0,r.useState)(!1),a=n(t,2),i=a[0],u=a[1],c=(0,r.useState)(null),d=n(c,2),f=d[0],p=d[1];return(0,s.useClickOutside)(f,function(){return u(!1)}),o.default.createElement("div",{id:e.id,ref:function(e){return p(e)},className:(0,l.default)("dropdown",{visible:i})},o.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),u(!i)}},e.label,o.default.createElement("span",{className:"caret"})),i?e.children:null)};c.propTypes={id:i.default.string,label:i.default.string,children:i.default.object},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.linkClicked=function(e,t){wattpad.utils.pushEvent({category:"new_landing",action:"click:"+e}),t&&window.open(t,"_blank")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Container=void 0;var n=l(a(0)),r=l(a(1)),o=l(a(7));function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.leftPart,a=e.rightPart,r=e.className;return n.default.createElement("div",{className:(0,o.default)("container content",r)},t,a)}i.propTypes={leftPart:r.default.object.isRequired,rightPart:r.default.object.isRequired,className:r.default.string},t.Container=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(a(1)),r=a(0),o=f(r),l=f(a(188)),i=f(a(484)),s=f(a(190)),u=f(a(7)),c=a(3),d=a(5);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,c.withValidation)(c.FormField),h=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,d=Array(r),f=0;f<r;f++)d[f]=arguments[f];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),n.render=function(){var e=n.props,t=e.source,a=e.formType,r=e.model,d=e.title,f=e.subtitle,p=e.trans,h=n.props.nextURL||"/home",g="/signup?nextUrl="+h,y=p("writer"===(t?t.split("_")[0]:"")?"Start Writing":"Start Reading"),v="new_landing_"+t,b=p("Be part of a global community of readers and writers, all connected through the power of story."),w=p("By clicking below, you agree to Wattpad's <a href='/terms'>Terms of Service</a> and <a href='/privacy'>Privacy Policy</a>."),E=(0,u.default)("signup-form",{sidebar:"sidebar"===a});return o.default.createElement("div",{id:"authentication",className:E},"sidebar"===a?null:d?o.default.createElement("h1",null,d):o.default.createElement("h1",null,p("Join Wattpad")),f?o.default.createElement("h2",{dangerouslySetInnerHTML:{__html:f}}):o.default.createElement("p",null,b),o.default.createElement("div",{className:"panel-body"},o.default.createElement("form",{id:"signupForm",action:g,method:"POST"},o.default.createElement(s.default,null),o.default.createElement("span",{className:"hr-with-text"},o.default.createElement("div",{className:"horizontal-line"}),o.default.createElement("span",{className:"or"}," OR "),o.default.createElement("div",{className:"horizontal-line"})),o.default.createElement("input",{type:"hidden",name:"signup-from",value:v}),o.default.createElement("input",{type:"hidden",name:"form-type",value:a||""}),o.default.createElement("div",{className:"input-group-vertical"},o.default.createElement(m,{name:"username",label:p("Username"),form:"signup",inputType:"text",autofocus:!0,validationModel:r,showLabel:!0}),o.default.createElement(m,{name:"email",label:p("E-mail"),form:"signup",inputType:"text",validationModel:r,showLabel:!0}),o.default.createElement(m,{name:"password",label:p("Password"),form:"signup",inputType:"password",validationModel:r,showLabel:!0,showVisibilityToggle:!0}),o.default.createElement("div",{className:"birthday-info"},o.default.createElement("span",{className:"birthday-title"},p("Birthday")),o.default.createElement(c.Icon,{iconName:"fa-info",height:"16",color:"wp-neutral-1",className:"on-dob-hover tool-tip","data-tip":p("We ask for your date of birth so you can have the right Wattpad experience for your age.")}),o.default.createElement(l.default,null)),o.default.createElement("div",{className:"row birthday-fields"},o.default.createElement(i.default,{validationModel:r}))),o.default.createElement("span",{className:"policy-agreement",dangerouslySetInnerHTML:{__html:w}}),o.default.createElement("input",{type:"submit",className:"btn btn-left-align btn-orange btn-block enable",value:y})),o.default.createElement("p",null,p("Already a Wattpad member?")," ",o.default.createElement("a",{className:"login on-navigate",href:"/login"},p("Sign in."))),o.default.createElement("div",{className:"password-forgot"},o.default.createElement("a",{className:"on-navigate ",href:"/forgot?nextUrl="+h},p("Forgot password?")))))},p(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),t}();h.propTypes={model:n.default.object,nextURL:n.default.string,source:n.default.string,formType:n.default.string,title:n.default.string,subtitle:n.default.string,trans:n.default.func.isRequired},t.default=(0,d.injectTrans)(h)},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=u(a(1)),o=a(0),l=u(o),i=a(3),s=a(5);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props.trans;return l.default.createElement("div",{className:"signin-buttons"},l.default.createElement("button",{className:"btn btn-left-align btn-facebook btn-block "},l.default.createElement(i.Icon,{iconName:"fa-facebook-official",height:"24",color:"wp-neutral-5"}),l.default.createElement("span",null,l.default.createElement("span",{className:"auth-btn"},e("Facebook")))),l.default.createElement("button",{className:"btn btn-right-align btn-google btn-block"},l.default.createElement(i.ConnectImage,{name:"/shared/google_login_color.png",title:"Google Login",width:"24",className:"google-login-logo"}),l.default.createElement("span",null,l.default.createElement("span",{className:"auth-btn"},e("Google")))))}}]),t}();c.propTypes={trans:r.default.func.isRequired},t.default=(0,s.injectTrans)(c)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(1)),r=a(0),o=u(r),l=a(3),i=a(5),s=u(a(190));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.render=function(){var e=n.props.trans,t=n.props.nextURL||"/home",a=n.props.notice,r=n.props.msg,i=n.props.model,u="/login?nextUrl="+t;return o.default.createElement("div",{id:"authentication-panel",className:"login-form"},o.default.createElement("p",null,e("Sign in to Wattpad")),o.default.createElement("div",{className:"panel-body"},o.default.createElement(s.default,null),o.default.createElement("span",{className:"hr-with-text"},o.default.createElement("div",{className:"horizontal-line"}),o.default.createElement("span",{className:"or"}," OR "),o.default.createElement("div",{className:"horizontal-line"})),o.default.createElement("form",{id:"signup-form",action:u,method:"POST"},o.default.createElement("div",{className:"input-group-vertical"},o.default.createElement(l.FormField,{name:"username",label:e("Username or Email"),form:"login",inputType:"text",validationModel:i,showLabel:!0}),o.default.createElement(l.FormField,{name:"password",label:e("Password"),form:"login",inputType:"password",showVisibilityToggle:!0,validationModel:i,showLabel:!0})),o.default.createElement("input",{type:"submit",className:"btn btn-lg btn-left-align btn-orange btn-block enable",value:e("Log in")})),o.default.createElement("div",{className:"password-forgot"},o.default.createElement("a",{className:"on-navigate ",href:"/forgot?nextUrl="+t},e("Forgot password?"))),r&&o.default.createElement("div",{className:"alert alert-danger",role:"alert"},o.default.createElement(l.Icon,{iconName:"fa-info",height:"16",color:"wp-lighterror"}),r),a&&o.default.createElement("div",{className:"alert alert-info",role:"alert"},o.default.createElement(l.Icon,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}),a)),o.default.createElement("footer",{className:"signup-link"},o.default.createElement("span",null,e("Don't have an account? "),o.default.createElement("a",{href:t},e("Sign up")))))},c(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),t}();d.propTypes={model:n.default.object,nextURL:n.default.string,trans:n.default.func.isRequired,notice:n.default.string,msg:n.default.string},t.default=(0,i.injectTrans)(d)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=l(a(0)),o=l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){return r.default.createElement("div",{className:"contest",style:{backgroundImage:"url('"+this.props.image+"')"}},r.default.createElement("article",null,r.default.createElement("h4",null,this.props.name),r.default.createElement("p",null,this.props.description),r.default.createElement("a",{href:this.props.contestLink,target:"_blank",rel:"noopener noreferrer",className:"btn btn-wattpad"},r.default.createElement("span",{className:"glyphicon glyphicon-chevron-right"})," ",this.props.customCta)))}}]),t}();i.propTypes={name:o.default.string,contestLink:o.default.string,customCta:o.default.string,description:o.default.string,image:o.default.string},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.SECTION_INTROS=function(e){return[e("To get the best Wattpad experience, we want to know a bit about you!"),e("So you like to write! What best describes you as a writer?")]},t.READER_OR_WRITER_OPTIONS=function(e){return{reader:{message:e("I like to read"),icon:"read"},writer:{message:e("I like to write"),icon:"write"},reader_writer:{message:e("I like both"),icon:"both"}}},t.WRITER_MOTIVATION_OPTIONS=function(e){return{fun:e("I mostly write for fun"),researching:e("I'm exploring opportunities for my work(s)"),pursuing_career:e("I'm pursuing a career as a writer"),professional:e("I am a professional writer"),none:e("Not quite any of these...")}},t.FINISHED_NOVEL_OPTIONS=function(e){return{yes:e("Yes"),almost:e("Almost"),no:e("No")}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.sendWriterOnboardingEvents=function(e){var t=e.user_type,a=e.writer_stage,n=e.finished_story;t&&window.te.push("event","onboarding","user_type",null,"complete",{type:t}),void 0!==a&&(null===a?window.te.push("event","onboarding","writer_stage",null,"skip"):window.te.push("event","onboarding","writer_stage",null,"complete",{type:a})),a&&void 0!==n&&(null===n?window.te.push("event","onboarding","finished_story",null,"skip"):window.te.push("event","onboarding","finished_story",null,"complete",{type:n}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fetchStoryInsights=function(e){var t="/v5/stories/"+e+"/insights";return function(e){var a=Promise.resolve($.get(t));return a.then(function(t){e(function(e){return{type:n.SET_STORY_INSIGHTS,insights:e,areInsights:!0}}(t))}).catch(function(){e({type:n.FAILED_FETCH_STORY_INSIGHTS,insights:null,areInsights:!1})})}},t.fetchInsightsPendingStatus=function(e){return function(e){var t=Promise.resolve({isPending:!0});return t.then(function(t){var a=t.isPending;e(function(e){return{type:n.SET_INSIGHTS_PENDING_STATUS,isPending:e}}(a))})}};var n=a(28)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insertExamples=s;var n=l(a(1)),r=l(a(0)),o=a(28);function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.writingScore;return r.default.createElement("div",{id:"writing-score-section",className:"dashboard-section"},r.default.createElement("div",{className:"title"},o.WRITING_SCORE.title),r.default.createElement("br",null),r.default.createElement("div",{className:"result"},r.default.createElement("div",null,o.WRITING_SCORE.score.replace("%s",t)),r.default.createElement("div",{className:"tagline"},o.WRITING_SCORE.scale)),r.default.createElement("br",null),r.default.createElement("div",{className:"examples"},r.default.createElement("div",{className:"subtitle"},o.WRITING_SCORE.exampleTitle),s(o.WRITING_SCORE.examples)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.WRITING_SCORE.aboutTitle),r.default.createElement("div",{className:"description"},o.WRITING_SCORE.aboutDescription)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.WRITING_SCORE.understandingTitle),r.default.createElement("div",{className:"description"},o.WRITING_SCORE.understandingDescription),r.default.createElement("a",{className:"link",href:"https://www.wattpad.com/735592279-wattpad-story-insights-report-guide-writing",target:"_blank"}," ",o.WRITING_SCORE.link)))};function s(e){return e.map(function(e){return r.default.createElement("div",{className:"example",key:e.name},e.score," - ",e.name)})}i.propTypes={writingScore:n.default.number.isRequired},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogHeader=void 0;var n=a(11),r=f(a(1)),o=a(0),l=f(o),i=f(a(7)),s=a(3),u=a(109),c=a(106),d=a(6);function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=e.title,a=e.subtitle,n=e.loadFeaturedList,r=e.featuredList,u=e.openPopover,c=e.readingList,f=(0,o.useRef)(null),p=(0,d.useTrans)().trans;a=a||p("Check out the latest and greatest stories hand-picked by our team"),(0,o.useEffect)(function(){n()},[n]);return t?l.default.createElement("header",{className:"catalog-header right-icon"},l.default.createElement("button",{disabled:0===r.length,className:"btn-no-style list-title",onClick:function(){r.length>0&&u({component:function(){return l.default.createElement("div",{className:"react-popover-list"},l.default.createElement("a",{className:(0,i.default)("on-navigate react-popover-item",{selected:!c}),href:"/catalog/paidstories"},p("Paid Stories")),r.map(function(e){return l.default.createElement("a",{key:e.id,className:(0,i.default)("on-navigate react-popover-item",{selected:c&&e.id===c.id}),href:"/featured/"+e.id},e.name)}))},triggerRef:f})},"aria-label":p("Show featured list"),ref:f},l.default.createElement("h1",null,t),l.default.createElement(s.Icon,{name:"chevDown",size:24})),l.default.createElement("h2",{className:"subtitle"},a)):null}p.propTypes={title:r.default.string,subtitle:r.default.string,loadFeaturedList:r.default.func,featuredList:r.default.array,openPopover:r.default.func,readingList:r.default.object};var m=(0,n.connect)(function(e){return{featuredList:e.catalog.featuredList}},{loadFeaturedList:u.loadFeaturedList,openPopover:c.openPopover})(p);t.CatalogHeader=m},,,,,,,,,function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogHeader=t.Catalog=t.CommentItem=t.TagpagePaidStoriesContainer=t.LoginForm=t.SignupForm=t.CanvaButton=t.ProfileMoreOptionsButton=t.StoryError404=t.UserError404=t.Toast=t.MutedProfile=t.ProfileHeader=t.Home=t.WriterInsightsCTA=t.WriterAnalyticsNavBar=t.WriterDashboard=t.createStore=t.actions=t.WPModal=t.ImageAppealFlow=t.showBuyCoinsModal=t.showPaidOnboardingModal=t.BannedImageMessaging=t.QuestsWrapper=t.OnboardingWriterJourney=t.StoryTags=t.ContestForm=t.ContestBanner=t.ContestListItem=t.ContestList=t.LandingPage=t.Inbox=t.withRedux=t.UserSettingsModal=t.UserSettings=t.StoryItem=t.BrowseStoryItem=t.Icon=t.SocialSharing=t.WalletWithOnboarding=t.Wallet=t.StoryPaywallModal=t.StoryPartPaywall=t.ThemeSettings=t.LargePromoBanner=t.TagItemWithIcon=t.TagItem=t.TagMeta=t.TagGrid=t.TagCarousel=t.Avatar=t.MenuOptions=t.MenuModal=t.ExternalCoverUpload=t.AnnouncementModal=t.ReactRoot=void 0,a(207),a(208),a(213),a(214),a(215),a(216),a(217),a(218),a(219),a(220),a(221),a(223),a(224),a(225),a(226),a(227),a(229),a(230),a(231),a(232),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(244),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(260),a(261),a(262),a(263),a(264),a(266),a(267),a(268),a(269),a(270),a(272),a(273),a(274),a(275),a(276),a(277),a(278),a(279),a(280),a(281),a(97),a(282),a(283),a(284),a(285),a(286),a(287),a(288),a(289),a(290),a(291),a(292),a(293),a(294),a(295),a(296),a(298),a(299),a(300),a(301),a(302),a(303),a(304),a(305),a(306),a(307),a(308),a(309),a(310),a(311),a(312),a(313),a(314),a(315),a(316);de(a(317));var n=de(a(321)),r=de(a(384)),o=de(a(396)),l=a(397),i=de(a(415)),s=de(a(416)),u=de(a(417)),c=de(a(418)),d=a(3),f=de(a(425)),p=de(a(441)),m=a(442),h=de(a(443)),g=de(a(182)),y=de(a(181)),v=de(a(58)),b=de(a(116)),w=de(a(444)),E=a(445),_=de(a(446)),T=de(a(117)),S=de(a(447)),N=a(113),O=de(a(448)),C=de(a(449)),k=de(a(450)),P=de(a(451)),M=de(a(455)),R=de(a(119)),I=de(a(456)),j=a(457),x=a(458),L=de(a(459)),A=a(485),q=a(486),U=de(a(487)),D=de(a(192)),B=a(488),W=a(489),F=de(a(490)),H=de(a(493)),G=de(a(496)),V=de(a(497)),Y=de(a(498)),z=de(a(509)),K=a(510),$=de(a(187)),J=de(a(191)),Q=a(183),Z=a(151),X=a(76),ee=a(176),te=a(77),ae=a(79),ne=a(110),re=a(66),oe=a(67),le=de(a(511)),ie=de(a(513)),se=a(515),ue=de(a(0)),ce=de(a(65));function de(e){return e&&e.__esModule?e:{default:e}}var fe={fetchWalletBalance:Q.fetchWalletBalance,fetchPaidContentMetadata:Z.fetchPaidContentMetadata,cacheBustPaidContentMetadata:Z.cacheBustPaidContentMetadata,fetchHomeSections:ee.fetchHomeSections,clearError:ee.clearError,openContestForm:X.openContestForm,setStoryTags:te.setStoryTags,resetConversation:ae.resetConversation,resetThreads:ne.resetThreads,initializeMutedUsers:re.initializeMutedUsers,toggleToast:oe.toggleToast,callTrackingUrls:ee.callTrackingUrls};t.ReactRoot=o.default,t.AnnouncementModal=i.default,t.ExternalCoverUpload=le.default,t.MenuModal=s.default,t.MenuOptions=d.MenuOptions,t.Avatar=d.Avatar,t.TagCarousel=h.default,t.TagGrid=g.default,t.TagMeta=y.default,t.TagItem=v.default,t.TagItemWithIcon=b.default,t.LargePromoBanner=w.default,t.ThemeSettings=_.default,t.StoryPartPaywall=P.default,t.StoryPaywallModal=M.default,t.Wallet=R.default,t.WalletWithOnboarding=I.default,t.SocialSharing=d.SocialSharing,t.Icon=d.Icon,t.BrowseStoryItem=p.default,t.StoryItem=m.StoryItem,t.UserSettings=c.default,t.UserSettingsModal=u.default,t.withRedux=r.default,t.Inbox=l.Inbox,t.LandingPage=L.default,t.ContestList=U.default,t.ContestListItem=D.default,t.ContestBanner=A.ContestBanner,t.ContestForm=q.ContestForm,t.StoryTags=W.StoryTags,t.OnboardingWriterJourney=F.default,t.QuestsWrapper=H.default,t.BannedImageMessaging=G.default,t.showPaidOnboardingModal=j.showPaidOnboardingModal,t.showBuyCoinsModal=x.showBuyCoinsModal,t.ImageAppealFlow=V.default,t.WPModal=d.WPModal,t.actions=fe,t.createStore=n.default,t.WriterDashboard=Y.default,t.WriterAnalyticsNavBar=z.default,t.WriterInsightsCTA=K.WriterInsightsCTA,t.Home=f.default,t.ProfileHeader=T.default,t.MutedProfile=S.default,t.Toast=N.Toast,t.UserError404=C.default,t.StoryError404=k.default,t.ProfileMoreOptionsButton=O.default,t.CanvaButton=E.CanvaButton,t.SignupForm=$.default,t.LoginForm=J.default,t.TagpagePaidStoriesContainer=ie.default,t.CommentItem=B.CommentItem,t.Catalog=se.Catalog,t.CatalogHeader=se.CatalogHeader;var pe=pe||e;pe.React=ue.default,pe.ReactDOM=ce.default}).call(this,a(21))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.createStore)(o.default,e,(0,n.compose)((0,n.applyMiddleware)(r.default),i.__REDUX_DEVTOOLS_EXTENSION__?i.__REDUX_DEVTOOLS_EXTENSION__():function(e){return e}))};var n=a(120),r=l(a(325)),o=l(a(326));function l(e){return e&&e.__esModule?e:{default:e}}var i=i||e}).call(this,a(21))},,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(120),r=y(a(327)),o=y(a(106)),l=a(328),i=y(a(151)),s=y(a(76)),u=y(a(109)),c=y(a(110)),d=y(a(79)),f=y(a(77)),p=a(382),m=y(a(383)),h=y(a(66)),g=y(a(67));function y(e){return e&&e.__esModule?e:{default:e}}var v=(0,n.combineReducers)({userData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments[1].type,e},appData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments[1].type,e},deviceData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments[1].type,e},wallet:l.wallet,purchase:l.purchase,threads:c.default,conversation:d.default,paidMetadata:i.default,modal:r.default,popover:o.default,contestForm:s.default,storyTags:f.default,homeSections:p.homeSections,storyInsights:m.default,profileData:h.default,toast:g.default,catalog:u.default});t.default=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(150),o={modalProps:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments[1];switch(t.type){case r.TOGGLE_MODAL_VISIBLE:return n({},e,{modalProps:e.modalProps?null:t.modalProps});default:return e}}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.purchase=t.wallet=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(75);t.wallet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{amount:0,animationStep:r.WALLET_STATES.DEFAULT,id:r.CURRENCY_ID},t=arguments[1];switch(t.type){case r.SET_WALLET_BALANCE:return n({},e,{amount:t.amount});case r.WALLET_ANIMATION_STEP:return n({},e,{animationStep:t.step});case r.BOUGHT_CONTENT:return n({},e,{animationStep:r.WALLET_STATES.DEFAULT});default:return e}},t.purchase=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPurchasing:!1,amountSpent:0,buyingPart:!1},t=arguments[1];switch(t.type){case r.BUYING_CONTENT:return n({},e,{amountSpent:t.price,isPurchasing:!0,buyingPart:!!t.partId});case r.BOUGHT_CONTENT:return n({},e,{isPurchasing:!1,amountSpent:0});default:return e}}},,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0);t.default=function(e){var t=e.isLoading,a=e.onSetDefault,r=(0,n.useRef)(!1),o=(0,n.useRef)();(0,n.useEffect)(function(){o.current=a},[a]),(0,n.useEffect)(function(){r.current||t||(o.current(),r.current=!0),t&&(r.current=!1)},[t,r])}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a(1));function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},a=(0,n.useRef)();(0,n.useEffect)(function(){a.current=t},[t]),(0,n.useEffect)(function(){if(e){var t=function(t){e&&e.contains(t.target)||a.current(t.target)};return document.addEventListener("mousedown",t),function(){document.removeEventListener("mousedown",t)}}},[e])}o.propTypes={handleClickOutside:r.default.func.isRequired,ref:r.default.object.isRequired},t.default=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(a(158));t.default=function(e){var t=e.onThreshold,a=e.direction,o=void 0===a?"down":a,l=e.threshold,i=void 0===l?0:l,s=(0,n.useRef)(),u=(0,n.useRef)(0);(0,n.useEffect)(function(){s.current=t},[t]),(0,r.default)("scroll",function(){var e=function(e){var t,a=window.pageYOffset||document.documentElement.scrollTop;return t=a>e.current?"down":"up",e.current=a>0?a:0,t}(u);"down"===o&&"down"===e&&window.innerHeight+window.scrollY>=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight||0)-i?s.current():"up"===o&&"up"===e&&window.pageYOffset<=i&&s.current()})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.I18nContext=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)).default.createContext({trans:function(e){return e},ngettext:function(e){return e}});t.I18nContext=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserContext=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)).default.createContext({});t.UserContext=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useGetUser=function(){return(0,n.useContext)(r.UserContext)};var n=a(0),r=a(78)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSetDocumentTitle=void 0;var n=a(0);t.useSetDocumentTitle=function(e){(0,n.useEffect)(function(){window.document.title=e},[e])}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormValidation=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(a(26)),o=a(0),l=a(6);t.FormValidation=function(e){var t=e.children,a=e.validationRules,i=(0,o.useRef)(null),s=(0,o.useState)(null),u=n(s,2),c=u[0],d=u[1];return(0,l.useEventListener)("blur",function(){var e=i.current.value,t=void 0;r.default.each(a,function(a){if(!a.rule(e))return t=a.errorMessage,!1}),t?d(t):c&&d(null)},i.current),t({ref:i,errorMessage:c,className:c?"error-field":""})}},,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=l(a(0)),o=l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props.avatar,t=this.props.username;return r.default.createElement("img",{src:e,"aria-hidden":"true",alt:t})}}]),t}();t.default=i,i.propTypes={avatar:o.default.string.isRequired,username:o.default.string.isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(0)),o=i(a(1)),l=i(a(7));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChange=function(e){e.preventDefault(),a.props.onChange(e.target.value,a.props.id)},a.onBlur=function(e){a.setState({hasBlurred:!0}),a.props.onBlur(e)},a.state={hasBlurred:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.id,a=e.labelText,n=e.type,o=e.required,i=e.value,s=e.pattern,u=e.onFocus,c=e.onInvalid,d=e.classes,f=e.placeholder,p=e.autoFocus,m=this.state.hasBlurred,h="float-label-container "+d,g=(0,l.default)({empty:!i,hasBlurred:m});return r.default.createElement("div",{className:h},r.default.createElement("input",{className:g,id:t,onChange:this.onChange,placeholder:f,pattern:s,type:n,required:o,value:i,onBlur:this.onBlur,onFocus:u,onInvalid:c,autoFocus:p}),r.default.createElement("label",{htmlFor:t},a))}}]),t}();t.default=s,s.defaultProps={type:"text",required:!1,onChange:function(){},onBlur:function(){},onInvalid:function(){},onFocus:function(){},placeholder:"",classes:"",autoFocus:!1},s.propTypes={id:o.default.string.isRequired,labelText:o.default.string.isRequired,value:o.default.string.isRequired,type:o.default.string,pattern:o.default.string,onChange:o.default.func,onBlur:o.default.func,onInvalid:o.default.func,onFocus:o.default.func,classes:o.default.string,placeholder:o.default.string,required:o.default.bool,autoFocus:o.default.bool}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=u(n),o=u(a(7)),l=u(a(1)),i=u(a(161)),s=u(a(163));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,u=Array(l),f=0;f<l;f++)u[f]=arguments[f];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),n.render=function(){var e,t=n.props,a=t.autofocus,l=t.className,u=t.errorMessage,d=t.form,f=t.hasValidation,p=t.inputType,m=t.isValid,h=t.label,g=t.name,y=t.onBlur,v=t.showLabel,b=t.showVisibilityToggle,w=d+"-"+g,E=(0,o.default)("form-group","has-feedback",(c(e={},l,!!l),c(e,"valid",!0===m),c(e,"invalid",!1===m),e));return r.default.createElement("div",{className:E,"data-attr":g},v&&r.default.createElement("span",{className:"form-label"},h," "),r.default.createElement("label",{className:"control-label sr-only",htmlFor:w},h),r.default.createElement(i.default,{inputType:p,name:g,id:w,label:h,onBlur:y,autofocus:a,showVisibilityToggle:b}),f&&r.default.createElement(s.default,{isValid:m,errorMessage:u,name:g}))},d(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,n.Component),t}();f.propTypes={autofocus:l.default.bool,className:l.default.string,form:l.default.string,hasValidation:l.default.bool,inputType:l.default.string,isValid:l.default.bool,label:l.default.string,errorMessage:l.default.string,name:l.default.string,onBlur:l.default.func,showLabel:l.default.bool,showVisibilityToggle:l.default.bool},t.default=f},function(e,t,a){"use strict";e.exports={home:'<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline>',library:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-library" transform="translate(3.000000, 3.000000)" fill="#6F6F6F"><path d="M17.4,0 C17.9522847,-1.01453063e-16 18.4,0.44771525 18.4,1 L18.4,17 C18.4,17.5522847 17.9522847,18 17.4,18 L17,18 C16.4477153,18 16,17.5522847 16,17 L16,1 C16,0.44771525 16.4477153,1.01453063e-16 17,0 L17.4,0 Z M12.4,0 C12.9522847,-1.01453063e-16 13.4,0.44771525 13.4,1 L13.4,17 C13.4,17.5522847 12.9522847,18 12.4,18 L12,18 C11.4477153,18 11,17.5522847 11,17 L11,1 C11,0.44771525 11.4477153,1.01453063e-16 12,0 L12.4,0 Z M6.33618624,0.254903754 L6.72255657,0.358431372 C7.25602267,0.501373184 7.57260516,1.04971014 7.42966335,1.58317624 L3.28855863,17.0379895 C3.14561682,17.5714556 2.59727986,17.8880381 2.06381376,17.7450962 L1.67744343,17.6415686 C1.14397733,17.4986268 0.827394836,16.9502899 0.970336648,16.4168238 L5.11144137,0.962010536 C5.25438318,0.428544432 5.80272014,0.111961943 6.33618624,0.254903754 Z" id="Combined-Shape"></path></g></g>',create:'<g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g class="nav-create" transform="translate(2.000000, 2.000000)" stroke="#6F6F6F" stroke-width="2"><g id="edit-2" stroke-linecap="round" stroke-linejoin="round"><path d="M15,1 C15.7145312,0.285468802 16.7559831,0.00641259763 17.7320508,0.267949159 C18.7081186,0.52948572 19.4705143,1.29188142 19.7320508,2.26794918 C19.9935874,3.24401693 19.7145312,4.28546882 19,5 L5.5,18.5 L0,20 L1.5,14.5 L15,1 Z" id="Path"></path></g><path d="M2.5,14.5 L5.5,17.5" id="Line-3" stroke-linecap="square"></path></g></g>',notifications:'<path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 0 1-3.46 0"></path>',profile:'<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle>',chevDown:'<polyline points="6 9 12 15 18 9"></polyline>',chevUp:'<polyline points="18 15 12 9 6 15"></polyline>',chevLeft:'<polyline points="15 18 9 12 15 6"></polyline>',chevRight:'<polyline points="9 18 15 12 9 6"></polyline>',close:'<line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line>',closeCircle:"",search:'<circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>',settings:'<circle cx="12" cy="12" r="3"></circle><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"></path>',add:'<line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line>',remove:'<line x1="5" y1="12" x2="19" y2="12"></line>',more:'<circle cx="12" cy="12" r="1"></circle><circle cx="19" cy="12" r="1"></circle><circle cx="5" cy="12" r="1"></circle>',follow:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><line x1="20" y1="8" x2="20" y2="14"></line><line x1="23" y1="11" x2="17" y2="11"></line>',following:'<path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="8.5" cy="7" r="4"></circle><polyline points="17 11 19 13 23 9"></polyline>',dropdownCaret:"",arrowCircleRight:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 16 16 12 12 8"></polyline><line x1="8" y1="12" x2="16" y2="12"></line>',arrowCircleLeft:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 8 8 12 12 16"></polyline><line x1="16" y1="12" x2="8" y2="12"></line>',arrowLeft:'<line x1="19" y1="12" x2="5" y2="12"></line><polyline points="12 19 5 12 12 5"></polyline>',arrowRight:'<line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline>',refresh:"",circle:"",report:'<path d="M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z"></path><line x1="4" y1="22" x2="4" y2="15"></line>',history:'<circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline>',trash:'<polyline points="3 6 5 6 21 6"></polyline><path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>',drag:'<line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>',share:'<circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>',comment:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',save:'<path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"></path><polyline points="17 21 17 13 7 13 7 21"></polyline><polyline points="7 3 7 8 15 8"></polyline>',edit:'<path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>',mute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><line x1="23" y1="9" x2="17" y2="15"></line><line x1="17" y1="9" x2="23" y2="15"></line>',unmute:'<polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"></polygon><path d="M15.54 8.46a5 5 0 0 1 0 7.07"></path>',success:'<path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline>',filter:'<line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line>',attach:'<path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>',archive:'<polyline points="21 8 21 21 3 21 3 8"></polyline><rect x="1" y="3" width="22" height="5"></rect><line x1="10" y1="12" x2="14" y2="12"></line>',textFormat:"",picture:'<rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline>',video:'<polygon points="23 7 16 12 23 17 23 7"></polygon><rect x="1" y="5" width="15" height="14" rx="2" ry="2"></rect>',hideKeyboard:"",link:'<path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>',brightnessUp:"",brightnessDown:"",reply:"",embed:"",camera:"",lock:"",unlock:"",timeout:"",readingList:"",underline:"",bold:"",italic:"",textAlignRight:"",textAlignCenter:"",textAlignLeft:"",commentMeta:'<path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>',views:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle>',votes:'<polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>',parts:'<line x1="8" y1="6" x2="21" y2="6"></line><line x1="8" y1="12" x2="21" y2="12"></line><line x1="8" y1="18" x2="21" y2="18"></line><line x1="3" y1="6" x2="3" y2="6"></line><line x1="3" y1="12" x2="3" y2="12"></line><line x1="3" y1="18" x2="3" y2="18"></line>',notifDedicate:'<path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path>',notifStoryUpdate:'<path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"></path><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"></path>',notifFeedMessage:"",warning:"","warning-triangle":'<path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line>',info:"",copyright:"",publicDomain:"",creativeCommons:"",location:"",stats:"",staff:' <g id="Staff---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -227.000000)">\n      <g id="ic_badge_verified" transform="translate(1147.000000, 227.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      </g>\n      <path d="M1154.11212,241.7 C1155.77292,241.7 1156.00632,239.785105 1157.14045,238.07578 C1157.09856,238.686857 1157.13746,239.227533 1157.26314,239.599248 C1157.75689,241.066395 1159.45659,241.179036 1160.22864,239.689361 C1161.31788,237.588608 1161.62909,237.092989 1162.72731,235.580785 C1163.45148,234.581097 1162.61061,233.936228 1161.63807,234.400872 C1161.13834,234.640234 1160.32739,235.234414 1159.31595,236.498808 C1159.4925,235.538545 1159.44462,233.910884 1157.97235,234.003813 C1157.19432,234.051685 1156.18587,234.879595 1154.80935,237.00006 C1154.92307,235.808883 1154.96795,234.964076 1154.41735,234.521961 C1154.0403,234.21783 1153.15155,234.102373 1152.6189,234.752874 C1152.08325,235.409008 1151.95757,236.687481 1152.01144,238.03354 C1152.11617,240.852377 1153.17549,241.7 1154.11212,241.7 Z" id="Logo-path" fill="#FFFFFF"></path>\n  </g>\n</g>',ambassador:'<g id="Amb-badge" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Badges" transform="translate(-35.000000, -206.000000)">\n      <g id="ic_badge_verified" transform="translate(35.000000, 206.000000)">\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Path" fill="#FFFFFF"></path>\n          <path d="M19.64,8.645 L18.419,6.513 L17.774,4.142 C17.521,3.209 16.792,2.48 15.859,2.226 L13.487,1.581 L11.355,0.36 C10.935,0.12 10.467,0 10,0 C9.533,0 9.065,0.12 8.646,0.36 L6.513,1.581 L4.141,2.226 C3.208,2.48 2.48,3.208 2.226,4.141 L1.581,6.513 L0.36,8.646 C-0.12,9.485 -0.12,10.515 0.36,11.355 L1.581,13.487 L2.226,15.86 C2.48,16.792 3.209,17.521 4.142,17.774 L6.513,18.419 L8.645,19.64 C9.065,19.88 9.533,20 10,20 C10.467,20 10.935,19.88 11.355,19.64 L13.487,18.419 L15.859,17.774 C16.792,17.521 17.521,16.792 17.774,15.859 L18.419,13.487 L19.64,11.355 C20.12,10.515 20.12,9.485 19.64,8.645 L19.64,8.645 Z" id="Verified-Account" fill="#FF6122"></path>\n          <g id="Group-3" transform="translate(5.000000, 6.000000)" fill="#FFFFFF">\n              <path d="M9.78065737,1.78094955 C9.35444338,0.694861133 8.31740847,-0.012577196 7.16968296,0.000169440589 C6.33637761,0.00279374812 5.5446272,0.373570912 5,1.01615136 C4.45500506,0.373570912 3.66362239,0.00279374812 2.83031704,0.000169440589 C1.68295927,-0.012577196 0.645924361,0.694861133 0.219342627,1.78094955 C-0.225626252,2.85466623 0.0192905027,4.09671349 0.837150656,4.91137353 L4.73890256,8.88907394 C4.88195454,9.03641006 5.11473578,9.03678496 5.25889098,8.89132335 L5.26109744,8.88907394 L9.16284934,4.91137353 C9.9807095,4.09671349 10.2256263,2.85466623 9.78065737,1.78094955" id="Fill-1"></path>\n          </g>\n      </g>\n  </g>\n</g>',verified:'<g id="Verifier---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -299.000000)">\n      <path d="M1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1165.419,305.513 Z" id="Path" fill="#FFFFFF"></path>\n      <path d="M1166.64,307.645 L1165.419,305.513 L1164.774,303.142 C1164.521,302.209 1163.792,301.48 1162.859,301.226 L1160.487,300.581 L1158.355,299.36 C1157.935,299.12 1157.467,299 1157,299 C1156.533,299 1156.065,299.12 1155.646,299.36 L1153.513,300.581 L1151.141,301.226 C1150.208,301.48 1149.48,302.208 1149.226,303.141 L1148.581,305.513 L1147.36,307.646 C1146.88,308.485 1146.88,309.515 1147.36,310.355 L1148.581,312.487 L1149.226,314.86 C1149.48,315.792 1150.209,316.521 1151.142,316.774 L1153.513,317.419 L1155.645,318.64 C1156.065,318.88 1156.533,319 1157,319 C1157.467,319 1157.935,318.88 1158.355,318.64 L1160.487,317.419 L1162.859,316.774 C1163.792,316.521 1164.521,315.792 1164.774,314.859 L1165.419,312.487 L1166.64,310.355 C1167.12,309.515 1167.12,308.485 1166.64,307.645 L1166.64,307.645 Z" id="Verified-Account" fill="#FF6122"></path>\n      <path d="M1156.36061,312.705984 C1156.00858,313.098005 1155.43225,313.098005 1155.08022,312.705984 L1152.26402,309.569809 C1151.91199,309.177788 1151.91199,308.536863 1152.26402,308.144841 C1152.61604,307.75282 1153.19238,307.75282 1153.5444,308.144841 L1155.72042,310.568087 L1160.4564,305.294016 C1160.80842,304.901995 1161.38396,304.901995 1161.73598,305.294016 C1162.08801,305.686038 1162.08801,306.326963 1161.73598,306.718984 L1156.36061,312.705984 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',star:'<g id="Stars---Wireframes" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n  <g id="Artboard" transform="translate(-1147.000000, -336.000000)">\n      <path d="M1166.64,344.645 L1165.419,342.513 L1164.774,340.142 C1164.521,339.209 1163.792,338.48 1162.859,338.226 L1160.487,337.581 L1158.355,336.36 C1157.935,336.12 1157.467,336 1157,336 C1156.533,336 1156.065,336.12 1155.646,336.36 L1153.513,337.581 L1151.141,338.226 C1150.208,338.48 1149.48,339.208 1149.226,340.141 L1148.581,342.513 L1147.36,344.646 C1146.88,345.485 1146.88,346.515 1147.36,347.355 L1148.581,349.487 L1149.226,351.86 C1149.48,352.792 1150.209,353.521 1151.142,353.774 L1153.513,354.419 L1155.645,355.64 C1156.065,355.88 1156.533,356 1157,356 C1157.467,356 1157.935,355.88 1158.355,355.64 L1160.487,354.419 L1162.859,353.774 C1163.792,353.521 1164.521,352.792 1164.774,351.859 L1165.419,349.487 L1166.64,347.355 C1167.12,346.515 1167.12,345.485 1166.64,344.645 L1166.64,344.645 Z" id="Path" fill="#FF6122"></path>\n      <path d="M1158.545,344.292 L1157.42218,341.899553 C1157.18902,341.402744 1156.81055,341.403664 1156.57782,341.899553 L1155.455,344.292 L1152.98082,344.669751 C1152.43913,344.752455 1152.30655,345.133713 1152.69639,345.533299 L1154.5,347.382 L1154.07122,350.011366 C1153.98218,350.557373 1154.30135,350.783681 1154.7872,350.515124 L1157,349.292 L1159.2128,350.515124 C1159.69726,350.782914 1160.01765,350.556362 1159.92878,350.011366 L1159.5,347.382 L1161.30361,345.533299 C1161.68822,345.139079 1161.54832,344.750539 1161.01918,344.669751 L1158.545,344.292 Z" id="Path" fill="#FFFFFF"></path>\n  </g>\n</g>',sponsored:"",storyrank:"",promoted:'<g fill="none" fill-rule="evenodd">\n  <path fill="#FF6122" fill-rule="nonzero" d="M14.73 6.484l-.916-1.6-.483-1.778a2.044 2.044 0 0 0-1.437-1.436l-1.779-.484L8.516.27a2.048 2.048 0 0 0-2.032 0l-1.6.916-1.778.484c-.7.19-1.246.736-1.436 1.436l-.484 1.779-.916 1.6c-.36.629-.36 1.401 0 2.031l.916 1.6.484 1.779c.19.699.737 1.246 1.437 1.436l1.778.483 1.599.916a2.048 2.048 0 0 0 2.032 0l1.6-.916 1.778-.483c.7-.19 1.247-.737 1.437-1.437l.483-1.779.916-1.599c.36-.63.36-1.402 0-2.032z"/>\n  <g stroke="#FFF" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5">\n      <path d="M7.5 10.5V5.25M4.875 7.875L7.5 5.25l2.625 2.625"/>\n  </g>\n</g>',twitter:"",facebook:"","facebook-login":"",pinterest:"",tumblr:"",googlePlus:"",email:""}},function(e,t,a){"use strict";e.exports={"wp-base-1":"#ff6122","wp-base-1-light":"#ff7b3c","wp-base-1-dark":"#e64809","wp-base-2":"#00b2b2","wp-base-2-light":"#1acccc","wp-base-2-dark":"#009999","wp-neutral-1":"#222222","wp-neutral-2":"#6f6f6f","wp-neutral-3":"#eeeeee","wp-neutral-4":"#fafafa","wp-neutral-5":"#ffffff","wp-error-1":"#ff3f12","wp-warning-01":"#ffc922","facebook-1":"#3b5998","twitter-1":"#55acee","pinterest-1":"#bd081c","tumblr-1":"#35465c","google-1":"#db4437","google-2":"#1e6cd6","wp-ambassador-profile":"#df6400","wp-lightteal":"#c3d8dc","wp-lighterteal":"#eaf0f4","wp-lighterror":"#faada1","wp-errorbackground":"#ff6d55","wp-focus-blue":"#00a0d9","wp-button-red":"#e94a2c","wp-button-green":"#01b05a","wp-wattys-tag":"#322864"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateDropdownItems=void 0;var n=l(a(57)),r=l(a(0)),o=l(a(162));function l(e){return e&&e.__esModule?e:{default:e}}t.generateDropdownItems=function(e){var t,a,l=[],i=(0,n.default)(),s=(0,n.default)().subtract(100,"years");switch(e){case"day":t=1,a=31,l.push(r.default.createElement("option",{value:"",key:"-1",disabled:!0},"Day"));break;case"month":t=0,a=11,l.push(r.default.createElement("option",{value:"",key:"-1",disabled:!0},"Month"));break;case"year":t=s.year(),a=i.year(),l.push(r.default.createElement("option",{value:"",key:"-1",disabled:!0},"Year"))}if("year"===e)for(var u=a;u>t;u--)l.push((0,o.default)({value:u,label:u}));else for(var c=t;c<=a;c++){var d="month"===e?9:10,f="month"===e?c+1:c,p="month"===e?(0,n.default)().month(c).format("MMMM"):c;f=c<d?"0"+f:""+f,l.push((0,o.default)({value:f,label:p}))}return l}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(0)),o=i(a(32)),l=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return r.default.createElement("ul",{className:"menu-options"},t.map(function(t){return r.default.createElement("li",{key:t.key},r.default.createElement(o.default,{iconName:"fa-right",height:"16",color:"wp-neutral-1"}),"Browse"===e?r.default.createElement("a",{href:t.url,className:"on-navigate on-topic"},t.name):r.default.createElement("a",{href:t.url,className:"on-navigate"},t.name))}))}}]),t}();t.default=s,s.propTypes={headerName:l.default.string,options:l.default.array.isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(0)),r=l(a(1)),o=l(a(32));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(){return n.default.createElement("button",{className:"btn btn-white dropdown-toggle","data-toggle":"dropdown","aria-controls":"profile-more-options","aria-expanded":"false","aria-label":"more options"},n.default.createElement(o.default,{name:"more",size:"16",className:"more-icon"}))};i.propTypes={onClick:r.default.func},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiSelect=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=f(a(7)),l=f(a(555)),i=f(a(1)),s=a(0),u=f(s),c=a(6),d=f(a(32));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function m(e){var t=e.children,a=e.defaultSelectedItems,o=e.onChange,i=e.isLoading,d=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["children","defaultSelectedItems","onChange","isLoading"]),f=(0,s.useState)(a),m=r(f,2),h=m[0],g=m[1];function y(e){var t=h.filter(function(t){return t!==e});g(t),o&&o(t)}return(0,c.useDefaultValueOnce)({isLoading:i,onSetDefault:function(){g(a)}}),u.default.createElement(l.default,n({},d,{stateReducer:function(e,t){switch(t.type){case l.default.stateChangeTypes.keyDownEnter:case l.default.stateChangeTypes.clickItem:return n({},t,{highlightedIndex:e.highlightedIndex,isOpen:!0,inputValue:""});default:return t}},onChange:function(e){h.includes(e)?y(e):function(e){var t=[].concat(p(h),[e]);g([].concat(p(h),[e])),o&&o(t)}(e)},selectedItem:null}),function(e){return t(function(e){return n({removeItem:y,selectedItems:h},e)}(e))})}function h(e){var t=e.placeholder,a=e.itemToString,r=e.handleChange,l=e.getItems,i=e.defaultSelectedItems,f=e.disabled,p=e.isLoading,h=(0,c.useTrans)().trans,g=(0,s.useRef)();return u.default.createElement(m,{isLoading:p,defaultSelectedItems:i,onChange:r,itemToString:a},function(e){var a=e.getInputProps,r=e.getToggleButtonProps,i=e.removeItem,s=e.isOpen,c=e.inputValue,p=e.selectedItems,m=e.getItemProps,y=e.toggleMenu;return u.default.createElement("div",{className:(0,o.default)("multi-select-container",{disabled:f})},u.default.createElement("div",{className:"multi-select",role:"button",tabIndex:"0",style:{borderBottomRightRadius:s?0:6,borderBottomLeftRadius:s?0:6},onClick:function(){y(),!s&&g.current.focus()}},u.default.createElement("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",flex:1}},p.length>0?p.map(function(e){return u.default.createElement("div",{key:e.id,className:"multi-select-item-container"},u.default.createElement("div",{className:"multi-select-grid"},u.default.createElement("span",null,e.name),u.default.createElement("button",{type:"button",className:"multi-select-remove-btn",onClick:function(t){t.stopPropagation(),i(e),g.current.focus(),!s&&y()}},u.default.createElement(d.default,{iconName:"fa-remove",height:"12",color:"wp-neutral-2"}))))}):s?"":t||h("Select items"),u.default.createElement("input",a({ref:g,onKeyDown:function(e){if("Enter"===e.key)return e.preventDefault(),void e.stopPropagation();"Backspace"!==e.key||c||(i(p[p.length-1]),!s&&y())},className:"multi-select-search-input"}))),u.default.createElement("div",n({className:"multi-select-toggle-btn"},r({onClick:function(e){e.stopPropagation()}})),u.default.createElement(d.default,{iconName:s?"fa-up":"fa-down",height:"12",color:"wp-neutral-2"}))),u.default.createElement("div",{className:(0,o.default)("multi-select-menu",{"is-open":s})},s?function(){var e=l(c).filter(function(e){return!p.find(function(t){return t.id===e.id})});return 0===e.length?u.default.createElement("div",{className:"multi-select-menu-item disabled"},h("No options")):e.map(function(e,t){return u.default.createElement("div",n({key:e.id,className:"multi-select-menu-item"},m({item:e,index:t})),e.name)})}():null))})}m.propTypes={children:i.default.func,onChange:i.default.func,isLoading:i.default.bool,defaultSelectedItems:i.default.array},h.defaultProps={itemToString:function(e){return e?e.name:""},defaultSelectedItems:[]},h.propTypes={disabled:i.default.bool,isLoading:i.default.bool,itemToString:i.default.func.isRequired,handleChange:i.default.func.isRequired,placeholder:i.default.string,getItems:i.default.func.isRequired,defaultSelectedItems:i.default.array},t.MultiSelect=h},,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(0)),r=o(a(1));function o(e){return e&&e.__esModule?e:{default:e}}var l={full:{url:"/img/premium-branding/premium-logo-full.png",aspectRatio:.1678},full_orange:{url:"/img/premium-branding/premium-logo-full-orange.png",aspectRatio:.1656},short:{url:"/img/premium-branding/premium-logo-short.png",aspectRatio:.4722},short_grey:{url:"/img/premium-branding/premium-logo-short-grey.png",aspectRatio:.4722},short_white:{url:"/img/premium-branding/premium-logo-short-white.png",aspectRatio:.4722},letter_grey:{url:"/img/premium-branding/premium-logo-letter-grey.png",aspectRatio:.8667}},i=function(e){var t=e.width,a=e.variant,r=l[a];if(!r)throw new Error("Variant "+a+" unknown");var o=r.url,i=r.aspectRatio*t;return n.default.createElement("img",{style:{height:i+"px",width:t+"px"},src:o,alt:"wattpad premium logo"})};i.propTypes={width:r.default.string.isRequired,variant:r.default.string.isRequired},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResizableTextarea=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(0),l=u(o),i=u(a(1)),s=u(a(7));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.className,a=e.minRows,i=e.maxRows,u=e.onChange,c=e.value,d=e.textareaLineHeight,f=e.characterLimit,p=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a}(e,["className","minRows","maxRows","onChange","value","textareaLineHeight","characterLimit"]),m=(0,o.useState)(a),h=r(m,2),g=h[0],y=h[1],v=(0,o.useState)(),b=r(v,2),w=b[0],E=b[1];(0,o.useEffect)(function(){""===c&&g!==a&&y(a)},[c,g,a]);var _=f-c.length,T=_<=0;return l.default.createElement("div",{className:(0,s.default)(t,"resizable-textarea",{error:T,focus:w})},l.default.createElement("textarea",n({onFocus:function(){return E(!0)},onBlur:function(){return E(!1)},rows:g,value:c,onChange:function(e){var t=e.target.rows;e.target.rows=a;var n=e.target.scrollHeight?Math.floor(e.target.scrollHeight/d):0;n===t&&(e.target.rows=n),n>=i&&(e.target.rows=i,e.target.scrollTop=e.target.scrollHeight),y(Math.min(n,i)),u(e)}},p)),l.default.createElement("div",{className:"counter"},_))}c.defaultProps={minRows:2,maxRows:5,textareaLineHeight:24,onChange:function(){},characterLimit:2e3},c.propTypes={className:i.default.string,value:i.default.string.isRequired,minRows:i.default.number.isRequired,maxRows:i.default.number.isRequired,textareaLineHeight:i.default.number.isRequired,onChange:i.default.func.isRequired,characterLimit:i.default.number.isRequired},t.ResizableTextarea=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=u(o),i=u(a(1)),s=u(a(32));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"formatSocialShareVisible",value:function(e){return e?e.map(function(e){return l.default.createElement(d,n({},e,{isVisible:!0,key:e.name}))}):null}},{key:"formatSocialShareHidden",value:function(e){return e?l.default.createElement("div",{className:"button-group relative inline-block more"},l.default.createElement("button",{className:"btn btn-no-background dropdown-toggle btn-left-align","data-toggle":"dropdown"},l.default.createElement(s.default,{iconName:"fa-more",height:"24",color:"wp-neutral-3"})),l.default.createElement("div",{className:"triangle"}),l.default.createElement("ul",{className:"dropdown-menu"},e.map(function(e){return l.default.createElement("li",{key:e.name},l.default.createElement(d,n({},e,{isVisible:!1,key:e.name})))}))):null}},{key:"render",value:function(){var e=this.props.socialShareVisible||this.props.socialLinks,t=this.props.socialShareHidden;return l.default.createElement("div",{className:"SocialSharing"},this.formatSocialShareVisible(e),this.formatSocialShareHidden(t))}}]),t}();c.propTypes={socialShareVisible:i.default.arrayOf(i.default.object),socialLinks:i.default.arrayOf(i.default.object),socialShareHidden:i.default.arrayOf(i.default.object)};var d=function(e){var t=e.name,a=e.href,n=e.icon,r=e.isVisible,o=e.nopopup,i=e.label,u=e.content,c=e.text,d=e.url,f=e.urlTemplate;return l.default.createElement("a",{"data-gtm-action":"share:"+t,rel:"nofollow",className:o?"share-"+t:"share-"+t+" social-share",target:o?"":"_blank",href:a,"data-share-channel":t,"data-share-url":f,"data-url":d,"data-share-text":c,"data-share-content":u},l.default.createElement(s.default,{iconName:n,height:r?"24":"20",color:r?"wp-neutral-5":"wp-neutral-2",className:r?"":"pull-left"}),r?"":i)};d.defaultProps={nopopup:!1,content:"",text:"",url:"",urlTemplate:""},d.propTypes={name:i.default.string.isRequired,href:i.default.string.isRequired,isVisible:i.default.bool.isRequired,icon:i.default.string.isRequired,label:i.default.string.isRequired,nopopup:i.default.bool,content:i.default.string,text:i.default.string,url:i.default.string,urlTemplate:i.default.string},t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=i(a(1)),o=i(a(32)),l=a(6);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.username,a=e.isBlockedByCurrentUser,r=e.onMuteUser,i=e.onUnmuteUser,s=e.onDeleteConversation,c=e.onReportUser,d=(0,l.useTrans)().trans,f=void 0!=a;return n.default.createElement("div",{className:"user-safety-operations"},f&&n.default.createElement(u,{username:t,isBlockedByCurrentUser:a,onMuteUser:function(){return r(t)},onUnmuteUser:function(){return i(t)}}),s&&n.default.createElement("button",{onClick:s,className:"user-safety-operation btn-no-background btn-left-icon delete"},n.default.createElement(o.default,{name:"trash"}),d("Delete Conversation")),c&&n.default.createElement("button",{onClick:c,className:"on-report user-safety-operation btn-no-background btn-left-icon"},n.default.createElement(o.default,{name:"report"}),d("Report")))}function u(e){var t=e.isBlockedByCurrentUser,a=e.onMuteUser,r=e.onUnmuteUser,i=e.username,s=(0,l.useTrans)().trans;return n.default.createElement(n.default.Fragment,null,t?n.default.createElement("button",{onClick:r,className:"user-safety-operation btn-no-background btn-left-icon unmute"},n.default.createElement(o.default,{name:"unmute"}),s("Unmute %s",i)):n.default.createElement("button",{onClick:a,className:"user-safety-operation btn-no-background btn-left-icon mute"},n.default.createElement(o.default,{name:"mute"}),s("Mute %s",i)))}s.propTypes={username:r.default.string.isRequired,onDeleteConversation:r.default.func,isBlockedByCurrentUser:r.default.bool,onMuteUser:r.default.func,onUnmuteUser:r.default.func,onReportUser:r.default.func},u.propTypes={username:r.default.string.isRequired,isBlockedByCurrentUser:r.default.bool.isRequired,onMuteUser:r.default.func.isRequired,onUnmuteUser:r.default.func.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(0),o=i(r),l=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=function(e){var t,a;return a=t=function(t){function a(){var t,r,l;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,u=Array(i),c=0;c<i;c++)u[c]=arguments[c];return r=l=s(this,(t=a.__proto__||Object.getPrototypeOf(a)).call.apply(t,[this].concat(u))),l.state={isValid:null,errorMessage:""},l.componentDidMount=function(){l.props.validationModel&&(l.props.validationModel.on("attr:invalid",l.onInvalid,l),l.props.validationModel.on("attr:valid",l.onValid,l))},l.componentWillUnmount=function(){l.props.validationModel&&(l.props.validationModel.off("attr:invalid"),l.props.validationModel.off("attr:valid"))},l.setAndValidate=function(e){var t=l.props.validationModel;t.set(l.props.name,e.target.value),t.validate(l.props.name)},l.onInvalid=function(e,t){e===l.props.name&&(l.setState({isValid:!1,errorMessage:t}),l.props.onInvalid&&l.props.onInvalid(t))},l.onValid=function(e){e===l.props.name&&(l.setState({isValid:!0}),l.props.onValid&&l.props.onValid())},l.render=function(){return o.default.createElement(o.default.Fragment,null,o.default.createElement(e,n({hasValidation:!0,isValid:l.state.isValid,onBlur:l.setAndValidate,errorMessage:l.state.errorMessage},l.props)))},s(l,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r.Component),a}(),t.propTypes={name:l.default.string,validationModel:l.default.shape({on:l.default.func,off:l.default.func,set:l.default.func,validate:l.default.func}),onInvalid:l.default.func,onValid:l.default.func},a}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=i(a(1)),o=i(a(7)),l=i(a(108));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.className,a=e.heading,r=e.subheading,i=e.link,s=e.image;return n.default.createElement("a",{href:i,className:(0,o.default)(t,"on-navigate","small-navigation")},n.default.createElement("div",{className:"nav-info"},n.default.createElement("h6",{className:"heading"},a),n.default.createElement("p",{className:"subheading"},r)),n.default.createElement(l.default,{name:s,className:"graphic-container"}))};s.propTypes={className:r.default.string,heading:r.default.string.isRequired,subheading:r.default.node.isRequired,link:r.default.string.isRequired,image:r.default.string.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SubmissionSuccess=void 0;var n=s(a(1)),r=s(a(0)),o=a(157),l=a(6),i=a(3);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.isStandalonePage,a=e.closeModal,n=e.formState,s=e.hasAddedWattysTag,u=(0,l.useTrans)().trans,c={fanfiction:u("Fanfiction"),fantasy:u("Fantasy"),historical_fiction:u("Historical Fiction"),horror_and_paranormal:u("Horror & Paranormal"),literary_fiction:u("Literary Fiction"),mystery_and_thriller:u("Mystery & Thriller"),narrative_nonfiction:u("Non-Fiction"),new_adult:u("New Adult"),poetry:u("Poetry"),romance:u("Romance"),science_fiction:u("Science Fiction"),young_adult:u("Young Adult")},d=u("Congratulations! You have been entered into the 2019 Watty Awards.");return r.default.createElement("div",{id:"submission-success"},r.default.createElement(o.ContestFormHeader,{subtitle:d}),r.default.createElement("div",{className:"main-container"},r.default.createElement("div",{className:"content"},r.default.createElement("div",{className:"image-container"},n.cover&&r.default.createElement("img",{src:n.cover,alt:"story cover"})),r.default.createElement("h3",{className:"black"},u("Thank you for entering!")),r.default.createElement("div",{dangerouslySetInnerHTML:{__html:u("Your story <span class='black'>'%s'</span> is now entered into the Wattys <span class='black'>'%s'</span> category",n.title,c[n.data.award_category])}}),(n.hasAddedWattysTag||s)&&r.default.createElement("div",null,u("Your story will now be tagged with")," ",r.default.createElement("span",{className:"tag-item with-icon wattys-tag",style:{cursor:"default"}},"wattys2019"," ",r.default.createElement(i.Icon,{iconName:"fa-remove",height:"12",color:"wp-neutral-5"})))),r.default.createElement("div",{className:"small",style:{marginTop:50},dangerouslySetInnerHTML:{__html:u("<strong>Reminder</strong>: Please make sure your email and birthday information are accurate. If you're selected as a winner, this will help us when we contact you! You can update your account details by going to ‘Settings’ under Profile.")}}),t?null:r.default.createElement(r.default.Fragment,null,r.default.createElement("div",null,r.default.createElement("hr",null)),r.default.createElement("div",{className:"btn-container"},r.default.createElement("button",{onClick:a,className:"btn btn-orange"},u("Close"))))))}u.propTypes={isStandalonePage:n.default.bool,hasAddedWattysTag:n.default.bool,closeModal:n.default.func,formState:n.default.object},t.SubmissionSuccess=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.homeSections=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sections:[],sectionBounds:{},error:void 0},t=arguments[1];switch(t.type){case r.FETCH_HOME_MODULES:return n({},e,{sections:t.sections});case r.RECEIVE_SECTION_POSITION:return n({},e,{sectionBounds:n({},e.sectionBounds,o({},t.info.index,t.info))});case r.SECTION_VIEWED:return n({},e,{sectionBounds:n({},e.sectionBounds,o({},t.index,n({},e.sectionBounds[t.index],{viewed:!0})))});case r.ERROR:return n({},e,{error:t.error});case r.CLEAR_ERROR:return n({},e,{error:null});default:return e}};var r=a(165);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isPending:!1},t=arguments[1];switch(t.type){case r.SET_STORY_INSIGHTS:return n({},e,{insights:t.insights,areInsights:t.areInsights});case r.FAILED_FETCH_STORY_INSIGHTS:return n({},e,{insights:null,areInsights:t.areInsights});case r.SET_INSIGHTS_PENDING_STATUS:return n({},e,{isPending:t.isPending});default:return e}};var r=a(28)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=c(r),l=c(a(1)),i=a(11),s=a(5),u=a(78);function c(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){var a,c;return c=a=function(a){function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,r.Component),n(l,[{key:"render",value:function(){var a=void 0,n=void 0,r=void 0;if((0,s.isClient)()){var l=wattpad.utils.currentUser();a=wattpad.utils.trans,n=wattpad.utils.ngettext,r=l?l.attributes:{}}else a=this.props.resLocals.trans,n=this.props.resLocals.ngettext,r=this.props.resLocals.currentUser||{};return o.default.createElement(i.Provider,{store:t},o.default.createElement(u.UserContext.Provider,{value:r},o.default.createElement(u.I18nContext.Provider,{value:{trans:a,ngettext:n}},o.default.createElement(e,this.props))))}}]),l}(),a.displayName=function(e){return e.displayName||e.name||"Component"}(e)+"WithRedux",a.propTypes={resLocals:l.default.shape({trans:l.default.func,ngettext:l.default.func,currentUser:l.default.object})},c}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(26));t.count=function(e){return-1==e?"-":e&&n.default.isNumber(e)?e>=99999999?Math.floor(e/1e6)+"M":e>=1e6?Math.floor(e/1e5)/10+"M":e>=99999?Math.floor(e/1e3)+"K":e>=1e3?Math.floor(e/100)/10+"K":e:0}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.formatStoryUrl=function(e){return e.replace(/^((https?:)?\/\/)?[a-z-.]*[a-z-](:\d+)?(?=\/)/i,"")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromNow=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(57));t.fromNow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(0,n.default)(e),r="MMM DD, YYYY hh:mmA";if((0,n.default)().diff(e,"hours")<24||t.fuzzyTime&&(0,n.default)().diff(e,"days")<7){var o=t.dropSuffix||!1;return a.fromNow(o)}return t.fuzzyTime?r=(0,n.default)().isSame(e,"year")?"MMM DD":"MMM DD, YYYY":t.fullDate&&(r="MMMM D, YYYY"),a.format(r)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getDisplayName=function(e){return e.displayName||e.name||"Component"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getIndexForPartId=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(26));t.getIndexForPartId=function(e,t){var a=t.parts;return n.default.findIndex(a,function(t){return t.id===e})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.profileBackground=void 0;var n=a(111);t.profileBackground=function(e,t){t&&isFinite(t)||(t=320),e=e.replace(/(\d+\.)(png|jpg|jpeg|gif)$/,".$1$2");return(0,n.resize)([320,360,640,1920],e,t,/(^.*\/userbg\/[\w\-_]+\.)()(\.?[0-9]*\.)(png|jpg|jpeg|gif)$/,!1).replace("userbg","userbgs")}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.promiseTimeout=function(e){return new Promise(function(t){return setTimeout(t,e)})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resizeCover=void 0;var n=a(80),r=a(111);t.resizeCover=function(e,t,a,o,l){return(0,r.resize)(n.COVER_SIZES,e,t,/(^.*\/c?cover\/[0-9]+-)([0-9]{1,3})(-*[\w]+\.)(png|jpg|jpeg|gif)$/,[20,14],a,o,l)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.simpleShorten=void 0;var n=a(167);t.simpleShorten=function(e,t,a,r){var o=void 0;return r=r||{},e?((o=(o=e.replace(/(<([^>]+)>)/gi,"")).replace(/^\s*\n/gm,"")).length>t&&(o=o.substr(0,t-1).replace(/[.,\- /!&?]+$/,"")+"..."),!0===a?(0,n.linkify)(o,r):o):""}},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.setStorageItem=t.getStorageItem=void 0;var n=a(166),r=r||e,o=r.wattpad&&r.wattpad.utils||{},l={localStorage:{get:function(e){return r.localStorage.getItem(e)},set:function(e,t){return r.localStorage.setItem(e,t)}},sessionStorage:{get:function(e){return r.sessionStorage.getItem(e)},set:function(e,t){return r.sessionStorage.setItem(e,t)}},cookie:{get:function(e){return o.getCookie(e)},set:function(e,t){return o.setCookie(e,t)}}},i=function(e){return-1!==["cookie","localStorage","sessionStorage"].indexOf(e)&&("cookie"===e?o&&o.getCookie:"localStorage"===e?r&&r.localStorage:"sessionStorage"===e?r&&r.sessionStorage:void 0)};t.getStorageItem=function(e){var t=e.key,a=e.type,r=void 0===a?"cookie":a;if(n.isClient&&i(r))try{var o=l[r].get(t);return o?JSON.parse(o):null}catch(e){return null}return null},t.setStorageItem=function(e){var t=e.key,a=e.value,r=e.type,o=void 0===r?"cookie":r;n.isClient&&i(o)&&l[o].set(t,JSON.stringify(a))}}).call(this,a(21))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectTrans=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),l=a(5),i=a(78);t.injectTrans=function(e){var t,a;return a=t=function(t){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,o.default.Component),r(a,[{key:"render",value:function(){var t=this;return o.default.createElement(i.I18nContext.Consumer,null,function(a){var r=a.trans,l=a.ngettext;return o.default.createElement(e,n({},t.props,{trans:r,ngettext:l}))})}}]),a}(),t.displayName=(0,l.getDisplayName)(e)+"WithTrans",a}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return n.default.createElement(n.default.Fragment,null,n.default.createElement(r.Popover,null))};var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(160)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Inbox=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=c(a(0)),o=a(82),l=a(5),i=c(a(1)),s=a(403),u=a(408);function c(e){return e&&e.__esModule?e:{default:e}}function d(e){var t=e.username,a=e.avatar,i=e.url,c=(0,l.isClient)()?o.BrowserRouter:o.StaticRouter;return r.default.createElement(c,{basename:"/inbox",location:i,context:{}},r.default.createElement(o.Switch,null,r.default.createElement(o.Route,{exact:!0,path:"/",component:function(e){return r.default.createElement(s.Threads,n({username:t},e))}}),r.default.createElement(o.Route,{exact:!0,path:"/:activeThread",component:function(e){return r.default.createElement(u.Conversation,n({username:t,avatar:a},e))}})))}d.propTypes={username:i.default.string.isRequired,avatar:i.default.string.isRequired,url:i.default.string},t.Inbox=d},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(404);Object.defineProperty(t,"Threads",{enumerable:!0,get:function(){return n.Threads}}),Object.defineProperty(t,"ThreadsUI",{enumerable:!0,get:function(){return n.ThreadsUI}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThreadsUI=t.Threads=void 0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(11),o=y(a(1)),l=a(0),i=y(l),s=a(110),u=a(405),c=a(27),d=a(6),f=a(3),p=y(a(171)),m=y(a(406)),h=y(a(407)),g=a(113);function y(e){return e&&e.__esModule?e:{default:e}}var v=function(e){var t=e.loadThreads,a=e.isLoading,n=e.isLoadingMore,r=e.threads,o=e.username,s=e.total,c=e.offset,y=e.filter,v=e.toggleModal,b=(0,d.useTrans)().trans;(0,d.useSetDocumentTitle)(b("Inbox")+" - Wattpad"),function(e){(0,l.useEffect)(e,[])}(function(){t({})});return i.default.createElement("div",{id:"inbox"},i.default.createElement("div",{className:"threads-container"},i.default.createElement("div",{className:"threads-header"},i.default.createElement("div",{className:"flex-part"},i.default.createElement("h2",null,b("My Messages"))),i.default.createElement(h.default,{filter:y,loadThreads:t}),i.default.createElement("button",{className:"new-msg-btn",onClick:function(){var e=function(){return i.default.createElement(u.NewMessage,{toggleModal:v})};e.displayName="NewMessage",v({className:"new-message-modal",component:e})}},i.default.createElement("span",null," ",b("+ New Message")," ")),i.default.createElement(f.WPModal,null)),i.default.createElement("div",{className:"threads-list"},0!==r.length||a?r.map(function(e){return i.default.createElement(m.default,{key:e.user.name,thread:e,username:o})}):i.default.createElement("div",{className:"thread-row empty-row"},b("You have no messages."))),i.default.createElement(p.default,{direction:"down",threshold:0,isLoading:n,isDisabled:n,total:s,offset:c,onLoad:function(e){t({offset:e,filter:y})}})),i.default.createElement(g.Toast,null))};v.propTypes={isLoading:o.default.bool.isRequired,isLoadingMore:o.default.bool.isRequired,threads:o.default.array.isRequired,username:o.default.string.isRequired,loadThreads:o.default.func.isRequired,total:o.default.number.isRequired,offset:o.default.number.isRequired,filter:o.default.string.isRequired,toggleModal:o.default.func};var b=(0,r.connect)(function(e){return n({},e.threads)},{loadThreads:s.loadThreads,toggleModal:c.toggleModal})(v);t.Threads=b,t.ThreadsUI=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchResult=t.NewMessage=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=s(r),l=s(a(1)),i=a(6);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.toggleModal,a=(0,i.useTrans)().trans,l=(0,r.useState)(""),s=n(l,2),u=s[0],d=s[1],f=(0,r.useState)([]),p=n(f,2),m=p[0],h=p[1],g=(0,r.useState)([]),y=n(g,2),v=y[0],b=y[1];return o.default.createElement("div",{className:"new-msg-modal"},o.default.createElement("div",{className:"new-msg-header"},o.default.createElement("h3",null,a("New Message")),o.default.createElement("p",null,a("Send message to")+":"),o.default.createElement("input",{type:"text",value:u,onChange:function(e){var t=e.target.value;d(t);var n="api/v3/autocomplete/following_user?term="+t;Promise.resolve($.get(n)).then(function(e){h(e.filter(function(e){return"Other People"===e.category})),b(e.filter(function(e){return"Your Friends"===e.category}))}).catch(function(){new window.app.views.ErrorToast({message:a("Sorry, something went wrong. Please try again.")},{type:"dismissable"}).render()})}})),""!==u&&o.default.createElement("div",{className:"search-results"},v.length>0&&o.default.createElement("p",null,a("People You Follow")),v.map(function(e){return o.default.createElement(c,{toggleModal:t,key:e.label,user:e})}),m.length>0&&o.default.createElement("p",null,a("People on Wattpad")),m.map(function(e){return o.default.createElement(c,{key:e.label,user:e,toggleModal:t})})))}function c(e){var t=e.user,a=e.toggleModal;return o.default.createElement("button",{className:"search-result btn-no-background",onClick:function(){a(),window.app.router.navigate("/inbox/"+t.label,{trigger:!0})}},o.default.createElement("img",{src:t.image,alt:t.label+"'s avatar",className:"avatar avatar-sm3"}),o.default.createElement("p",null,t.label))}u.propTypes={toggleModal:l.default.func},c.propTypes={user:l.default.object,toggleModal:l.default.func},t.NewMessage=u,t.SearchResult=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(a(7)),r=d(a(57)),o=d(a(1)),l=a(0),i=d(l),s=a(3),u=a(112),c=a(172);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){return(0,l.useEffect)(e,[])};function p(e){var t=e.thread,a=e.username,o=t.user.name,l=t.user.isActive;f(function(){window.te.push("event","private_messages","view",{sender_username:o,recipient_username:a})});var d=t.user.badges.length?t.user.badges[0]:"";return i.default.createElement("div",{className:"thread-row"},i.default.createElement("div",{className:(0,n.default)("unread-dot",{show:t.unread})},1===t.unread&&i.default.createElement(s.Icon,{iconName:"fa-circle-filled",height:"6",color:"wp-base-1"})),i.default.createElement("a",{style:{marginRight:0},className:"thread-column on-navigate",href:"/user/"+o},l?i.default.createElement("img",{src:t.user.avatar,alt:o+"'s avatar",className:"thread-column avatar avatar-sm3"}):i.default.createElement(s.ConnectImage,{name:"avatar/empty.png",className:"thread-column avatar avatar-sm3"})),i.default.createElement("a",{className:"thread-column on-navigate thread-meta",href:"/inbox/"+o},i.default.createElement("div",{className:"thread-user right-icon"},o,i.default.createElement(u.UserBadge,{name:d,allowedBadges:["staff","verified"]})),i.default.createElement("div",{className:(0,n.default)("thread-message",{unread:t.unread})},t.recentMessage.body)),i.default.createElement("div",{className:"thread-column thread-date"},(0,r.default)(t.recentMessage.createDate).format("MMM DD, YYYY [at] LT")),i.default.createElement("div",{className:"button-group inline-block relative "},i.default.createElement("button",{className:"btn btn-white dropdown-toggle inbox-more-options","data-toggle":"dropdown","aria-controls":"inbox-more-options","aria-expanded":"false","aria-label":"more options"},i.default.createElement(s.Icon,{name:"more",size:"24"})),i.default.createElement("div",{className:"triangle"}),i.default.createElement("div",{className:"dropdown-menu align-right"},i.default.createElement(c.ThreadControl,{activeThread:o,isLoading:!1,isBlockedByCurrentUser:t.user.isBlockedByCurrentUser}))))}p.propTypes={thread:o.default.object,username:o.default.string},p.defaultProps={thread:{}},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(1)),r=l(a(0)),o=a(6);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.filter,a=e.loadThreads,n=(0,o.useTrans)().trans;return r.default.createElement("div",{className:"threads-filter"},r.default.createElement("select",{value:t,onChange:function(e){var t=e.target.value;a({filter:t})}},r.default.createElement("option",{value:""},n("All")),r.default.createElement("option",{value:"followers"},n("My Followers")),r.default.createElement("option",{value:"following"},n("People I'm Following")),r.default.createElement("option",{value:"unread"},n("Unread Messages"))))}i.propTypes={filter:n.default.string.isRequired,loadThreads:n.default.func.isRequired},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(409);Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return n.Conversation}}),Object.defineProperty(t,"ConversationUI",{enumerable:!0,get:function(){return n.ConversationUI}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationUI=t.Conversation=void 0;var n=a(11),r=g(a(1)),o=a(0),l=g(o),i=a(79),s=a(410),u=a(172),c=a(112),d=a(6),f=a(3),p=g(a(413)),m=g(a(171)),h=g(a(414));function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){return(0,o.useEffect)(e,[])},v=function(e,t){return(0,o.useEffect)(e,t)};function b(e){var t=e.username,a=e.messages,n=e.badges,r=e.isActive,i=e.isLoading,g=e.isLoadingMore,b=e.isDeleting,w=e.isPosting,E=e.total,_=e.offset,T=e.isBlockingCurrentUser,S=e.isBlockedByCurrentUser,N=e.scrollToMessageId,O=e.postMessage,C=e.loadConversation,k=e.match,P=(0,d.useTrans)().trans,M=(0,o.useRef)(),R=(0,o.useRef)(),I=k.params.activeThread;(0,d.useSetDocumentTitle)(P("Messages between you and %s",I)+" - Wattpad"),y(function(){window.te.push("event","private_messages","conversation","view",{sender_username:I,recipient_username:t}),C(I)}),v(function(){if(M.current&&R.current){window.scrollTo(0,M.current.offsetTop-R.current.getBoundingClientRect().bottom-10)}},[N]);var j=a.find(function(e){return e.from.name===I}),x=_===E,L=n.length?n[0]:"",A=0===a.length&&!i,q=!T&&!S&&r;return l.default.createElement("div",{id:"inbox"},l.default.createElement("div",{className:"conversation-container"},l.default.createElement("div",{className:"column"}),l.default.createElement("div",{className:"column main"},l.default.createElement("div",{className:"conversation-header",ref:R},l.default.createElement("h2",null,I),l.default.createElement(c.UserBadge,{name:L,size:"20",allowedBadges:["staff","verified"]})),l.default.createElement(m.default,{direction:"up",threshold:0,isLoading:g,isDisabled:g||b||w,total:E,offset:_,onLoad:function(e){C(I,e)}}),l.default.createElement(s.Messages,{scrollToMessageId:N,setRef:M,messages:a,username:t,isActive:r,isLastBatch:x}),!i&&(q?l.default.createElement(h.default,{activeThread:I,isReply:Boolean(j),postMessage:O,isActive:r,username:t,isFirstTimeMessaging:A}):l.default.createElement(p.default,{isBlockedByCurrentUser:S,activeThreadUsername:I}))),l.default.createElement("div",{className:"column"},l.default.createElement("div",{className:"column-content"},l.default.createElement(u.ThreadControl,{activeThread:I,isLoading:i,isBlockedByCurrentUser:S}),l.default.createElement("div",{className:"extra-content-container"},l.default.createElement("a",{href:"https://www.wattpad.com/writers/opportunities/stars/",rel:"noopener noreferrer",target:"_blank"},l.default.createElement("img",{src:"/img/desktop-web/2019_Wattpad-Stars_300x250.jpg",alt:"Wattpad Stars"})))))),l.default.createElement(f.WPModal,null))}b.propTypes={match:r.default.object.isRequired,username:r.default.string.isRequired,badges:r.default.array.isRequired,messages:r.default.array.isRequired,isActive:r.default.bool.isRequired,isLoading:r.default.bool.isRequired,isLoadingMore:r.default.bool.isRequired,isDeleting:r.default.bool.isRequired,isPosting:r.default.bool.isRequired,total:r.default.number.isRequired,offset:r.default.number.isRequired,postMessage:r.default.func.isRequired,loadConversation:r.default.func.isRequired,scrollToMessageId:r.default.number.isRequired,isBlockingCurrentUser:r.default.bool.isRequired,isBlockedByCurrentUser:r.default.bool.isRequired};var w=(0,n.connect)(function(e){return{messages:e.conversation.messages,badges:e.conversation.badges,isActive:e.conversation.isActive,isLoading:e.conversation.isLoading,isLoadingMore:e.conversation.isLoadingMore,isDeleting:e.conversation.isDeleting,isPosting:e.conversation.isPosting,total:e.conversation.total,offset:e.conversation.offset,isBlockingCurrentUser:e.conversation.isBlockingCurrentUser,isBlockedByCurrentUser:e.conversation.isBlockedByCurrentUser,scrollToMessageId:e.conversation.scrollToMessageId}},{loadConversation:i.loadConversation,postMessage:i.postMessage})(b);t.Conversation=w,t.ConversationUI=b},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Messages=void 0;var n=s(a(57)),r=s(a(1)),o=s(a(0)),l=a(411),i=s(a(412));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.messages,a=e.username,r=e.isActive,s=e.scrollToMessageId,u=e.setRef,c=e.isLastBatch,d=void 0,f=void 0;return o.default.createElement("div",{className:"conversations"},t.map(function(e,t){var p=!1,m=null;d!==e.from.name&&(p=!0,d=e.from.name);var h=(0,n.default)(e.createDate);if(0===t&&c)m=h;else if(f){n.default.duration(h.diff(f)).asHours()>=6&&(m=h)}return f=h,o.default.createElement(o.default.Fragment,{key:e.id},m&&o.default.createElement(l.DateSeparator,{dateDisplay:m}),o.default.createElement(i.default,{setRef:u,scrollToMessageId:s,message:e,username:a,isActive:r,differentSender:p}))}))}u.propTypes={messages:r.default.array.isRequired,username:r.default.string.isRequired,isActive:r.default.bool.isRequired,scrollToMessageId:r.default.number.isRequired,setRef:r.default.object.isRequired,isLastBatch:r.default.bool.isRequired},t.Messages=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateSeparator=void 0;var n=i(a(57)),r=i(a(1)),o=i(a(0)),l=a(6);function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)(),u=s.clone().startOf("day"),c=s.clone().subtract(1,"days").startOf("day"),d=s.clone().subtract(7,"days").startOf("day");function f(e){var t=e.dateDisplay,a=(0,l.useTrans)().trans,n=void 0;return n=function(e){return e.isSame(u,"d")}(t)?a("Today at %s",t.format("h:mm a")):function(e){return e.isSame(c,"d")}(t)?a("Yesterday at %s",t.format("h:mm a")):function(e){return e.isAfter(d)}(t)?t.format("ddd [at] h:mm a"):t.format("MMM D, YYYY, [at] h:mm a"),o.default.createElement("div",{className:"date-separator"},o.default.createElement("div",null,o.default.createElement("span",{className:"date"},n)))}f.propTypes={dateDisplay:r.default.object.isRequired},t.DateSeparator=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(a(7)),r=s(a(1)),o=s(a(0)),l=a(5),i=a(3);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e.message,a=e.username,r=e.isActive,s=e.differentSender,u=e.scrollToMessageId,c=e.setRef,d=t.from.name===a;return o.default.createElement("div",{ref:u===t.id?c:null,className:(0,n.default)("conversation-row",d?"from-me":"from-other",{"different-sender":s})},o.default.createElement("a",{className:"on-navigate avatar-link",href:"/user/"+t.from.name},r||d?o.default.createElement("img",{src:t.from.avatar,alt:a+"'s avatar",className:"avatar avatar-sm3"}):o.default.createElement(i.ConnectImage,{name:"avatar/empty.png",className:"avatar avatar-sm3"})),o.default.createElement("div",{className:"conversation-message"},o.default.createElement("span",{dangerouslySetInnerHTML:{__html:(0,l.linkify)(t.body)}})))};u.propTypes={message:r.default.shape({body:r.default.string,createDate:r.default.string,from:r.default.object,id:r.default.number,latestReplies:r.default.array,numReplies:r.default.number,unread:r.default.bool}).isRequired,isActive:r.default.bool.isRequired,username:r.default.string.isRequired,differentSender:r.default.bool.isRequired,scrollToMessageId:r.default.number.isRequired,setRef:r.default.object.isRequired},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(1)),r=l(a(0)),o=a(6);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.isBlockedByCurrentUser,a=e.activeThreadUsername,n=(0,o.useTrans)().trans,l=void 0,i=void 0,s=void 0;return t?(l=n("You have muted %s and cannot reply to this conversation.",a),i=n("View Profile"),s={href:"/user/"+a,className:"on-navigate"}):(l=n("You can’t reply to this conversation."),i=n("Learn more"),s={target:"_blank",rel:"noopener noreferrer",href:"https://support.wattpad.com/hc/en-us/articles/205956030-I-Can-t-Message-Another-User-"}),r.default.createElement("div",{className:"bottom-sticky"},r.default.createElement("div",{className:"disabled-reply"},r.default.createElement("p",null,l+" ",r.default.createElement("a",s,i))))}i.propTypes={isBlockedByCurrentUser:n.default.bool.isRequired,activeThreadUsername:n.default.string.isRequired},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=u(r),l=u(a(1)),i=a(6),s=a(3);function u(e){return e&&e.__esModule?e:{default:e}}var c=2e3;function d(e){var t=e.activeThread,a=e.postMessage,l=e.username,u=e.isReply,d=e.isFirstTimeMessaging,f=(0,i.useTrans)().trans,p=(0,r.useState)(""),m=n(p,2),h=m[0],g=m[1];return o.default.createElement("form",{className:"conversation-form bottom-sticky",onSubmit:function(e){e&&(e.preventDefault(),e.stopPropagation()),""!==h&&(window.te.push("event","private_messages","message","send",{sender_username:l,recipient_username:t,is_reply:u,page:"message"}),a(t,{body:h}),g(""))}},d&&o.default.createElement("div",{className:"first-time-msgs"},o.default.createElement("strong",null,f("You are about to send a message to someone you don’t follow.")),f(" Wattpad is an inclusive space where everyone can belong. Hate speech and cyberbullying are never tolerated.")),o.default.createElement(s.ResizableTextarea,{characterLimit:c,value:h,onChange:function(e){var t=e.target.value;g(t.substr(0,c))},autoFocus:!0,placeholder:f("Write a message...")}),o.default.createElement("div",{className:"btn-container"},o.default.createElement("button",{type:"submit",disabled:""===h,className:"btn btn-large btn-orange"},f("Send"))))}d.propTypes={activeThread:l.default.string.isRequired,postMessage:l.default.func.isRequired,username:l.default.string.isRequired,isReply:l.default.bool.isRequired,isFirstTimeMessaging:l.default.bool.isRequired},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(0)),o=s(a(1)),l=s(a(108)),i=a(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props.trans;return r.default.createElement("div",{className:"announcement-modal"},r.default.createElement(l.default,{name:"shared/megaphone_teal.png"}),r.default.createElement("header",null,e("Announce an Important Post")),r.default.createElement("div",null,e("By using this feature, this message will be sent to all your followers’ notification feeds instead of their newsfeeds. Please note that you can only post up to %s announcements per day - save these for special occasions!",3)),r.default.createElement("div",{className:"buttons"},r.default.createElement("a",{href:"https://support.wattpad.com/hc/en-us/articles/360018874812-Broadcast-Notifications-to-Annoucements",target:"_blank",rel:"noopener noreferrer",className:"btn btn-orange"},e("Learn more")),r.default.createElement("button",{className:"btn btn-orange","data-dismiss":"modal"},e("Got it"))))}}]),t}();u.propTypes={trans:o.default.func.isRequired},t.default=(0,i.injectTrans)(u)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(0)),o=i(a(1)),l=i(a(32));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props.headerName,t=this.props.options;return r.default.createElement("div",{className:"menu-modal"},r.default.createElement("div",{className:"header"},e,r.default.createElement("span",{"data-dismiss":"modal"},r.default.createElement(l.default,{iconName:"fa-remove",height:"14",color:"wp-neutral-2"}))),r.default.createElement("ul",{className:"menu-items"},t.map(function(t){return r.default.createElement("li",{key:t.key},t.url?"Browse"===e?r.default.createElement("a",{href:t.url,className:"on-navigate on-topic"},t.name):r.default.createElement("a",{href:t.url,className:"on-navigate"},t.name):r.default.createElement("span",{className:"selected"},t.name))})))}}]),t}();t.default=s,s.propTypes={headerName:o.default.string.isRequired,options:o.default.array.isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(0)),o=s(a(1)),l=s(a(32)),i=a(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"onPasswordToggle",value:function(e){this.props.onPasswordToggle(e)}},{key:"hideModal",value:function(){this.props.hideModal()}},{key:"handleSubmit",value:function(e){e.preventDefault();var t=void 0;switch(this.props.type){case"username":t="updateusername";break;case"password":t="updateuserpassword";break;case"email":t="updateuseremail"}this.props.onFormSubmit(t)}},{key:"renderUsernameForm",value:function(){var e=this.props.trans;return r.default.createElement("div",null,r.default.createElement("p",null,e("Your username is important, here are a few things you need to know before you change it:")),r.default.createElement("ol",null,r.default.createElement("li",null,e("It takes up to 24 hours for all changes to take effect. Your profile and stories may be inaccessible during this time.")),r.default.createElement("li",null,e("Your user profile and widget links will change and the old ones will no longer work.")),r.default.createElement("li",null,e("You will need to re-login using your new username."))),r.default.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit.bind(this)},r.default.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),r.default.createElement("div",{className:"input-group-vertical"},r.default.createElement("div",{className:"form-group"},r.default.createElement("label",{className:"control-label",htmlFor:"username"},e("New Username")),r.default.createElement("input",{id:"username",className:"form-control input-lg enable",name:"username",type:"text",defaultValue:""})),r.default.createElement("div",{className:"form-group has-feedback"},r.default.createElement("label",{className:"control-label",htmlFor:"password"},e("Confirm Password")),r.default.createElement("input",{id:"password",className:"form-control input-lg enable",name:"password",type:"password",defaultValue:""}),r.default.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},r.default.createElement(l.default,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),r.default.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},e("Forgot your password?")),r.default.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",defaultValue:e("Save")})))}},{key:"renderEmailForm",value:function(){var e=this.props.trans;return r.default.createElement("div",null,r.default.createElement("p",null,e("You will need to verify your account again after changing your email address. Please make sure it is correct.")),r.default.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit.bind(this)},r.default.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),r.default.createElement("div",{className:"input-group-vertical"},r.default.createElement("div",{className:"form-group"},r.default.createElement("label",{className:"control-label",htmlFor:"new_email"},e("New Email")),r.default.createElement("input",{id:"new_email",className:"form-control input-lg enable",name:"email",type:"text",defaultValue:""})),r.default.createElement("div",{className:"form-group"},r.default.createElement("label",{className:"control-label",htmlFor:"confirm_email"},e("Confirm New Email")),r.default.createElement("input",{id:"confirm_email",className:"form-control input-lg enable",name:"confirm_email",type:"text",defaultValue:""})),r.default.createElement("div",{className:"form-group has-feedback"},r.default.createElement("label",{className:"control-label",htmlFor:"password"},e("Confirm Password")),r.default.createElement("input",{id:"password",className:"form-control input-lg enable",name:"password",type:"password",defaultValue:""}),r.default.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},r.default.createElement(l.default,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),r.default.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},e("Forgot your password?")),r.default.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",defaultValue:e("Save")})))}},{key:"renderPasswordForm",value:function(){var e=this.props.trans;return r.default.createElement("form",{className:"on-form-submit",onSubmit:this.handleSubmit.bind(this)},r.default.createElement("input",{type:"hidden",name:"id",value:this.props.userId}),r.default.createElement("div",{className:"input-group-vertical"},r.default.createElement("div",{className:"form-group has-feedback"},r.default.createElement("label",{className:"control-label",htmlFor:"old_password"},e("Current Password")),r.default.createElement("input",{id:"old_password",className:"form-control input-lg enable",name:"old_password",type:"password",defaultValue:""}),r.default.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},r.default.createElement(l.default,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"}))),r.default.createElement("div",{className:"form-group has-feedback"},r.default.createElement("label",{className:"control-label",htmlFor:"new_password"},e("New Password")),r.default.createElement("input",{id:"new_password",className:"form-control input-lg enable",name:"new_password",type:"password",defaultValue:""}),r.default.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},r.default.createElement(l.default,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"}))),r.default.createElement("div",{className:"form-group has-feedback"},r.default.createElement("label",{className:"control-label",htmlFor:"confirm_password"},e("Confirm Password")),r.default.createElement("input",{id:"confirm_password",className:"form-control input-lg enable",name:"confirm_password",type:"password",defaultValue:""}),r.default.createElement("span",{onClick:this.onPasswordToggle.bind(this),onKeyDown:this.onPasswordToggle.bind(this),role:"button",tabIndex:"-1"},r.default.createElement(l.default,{iconName:"fa-view",height:"24",color:"wp-neutral-2",className:"form-control-feedback interact"})))),r.default.createElement("a",{className:"forgot-password",href:"/forgot?nextUrl=settings"},e("Forgot your password?")),r.default.createElement("input",{type:"submit",className:"btn btn-lg btn-orange btn-block enable",defaultValue:e("Save")}))}},{key:"render",value:function(){var e=this.props,t=e.type,a=e.title,n=void 0;switch(t){case"username":n=this.renderUsernameForm();break;case"password":n=this.renderPasswordForm();break;case"email":n=this.renderEmailForm()}return r.default.createElement("div",{id:"user-settings-modal"},r.default.createElement("span",{className:"close on-close",onClick:this.hideModal.bind(this),onKeyDown:this.hideModal.bind(this),role:"button",tabIndex:"-1"},r.default.createElement(l.default,{iconName:"fa-remove",height:"16",color:"wp-neutral-2"})),r.default.createElement("header",{className:"panel-heading"},r.default.createElement("h3",null,a)),r.default.createElement("div",{className:"panel-body"},r.default.createElement("div",{className:"body-text"},n)))}}]),t}();u.propTypes={trans:o.default.func.isRequired,onPasswordToggle:o.default.func.isRequired,onFormSubmit:o.default.func.isRequired,hideModal:o.default.func.isRequired,type:o.default.string.isRequired,userId:o.default.number.isRequired,title:o.default.string.isRequired},t.default=(0,i.injectTrans)(u)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=m(a(7)),l=m(a(1)),i=m(a(0)),s=m(a(65)),u=a(5),c=m(a(419)),d=m(a(421)),f=m(a(422)),p=m(a(424));function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onSubmitChanges=function(e,t){a.props.onSaveAccountChanges(e,t)},a.onSaveAvatarChanges=function(e){a.props.saveAvatarChanges(e),s.default.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))},a.onSaveBackgroundChanges=function(e){a.props.saveBackgroundChanges(e),s.default.unmountComponentAtNode(document.getElementById("component-UserSettings-user-settings-/settings"))},a.state={selectedTab:"account"},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){this.props.renderTooltips()}},{key:"onTabSelect",value:function(e){this.setState({selectedTab:e})}},{key:"render",value:function(){var e=this.props,t=e.userObj,a=e.mutedUsers,r=e.app,l=e.trans,s=this.state.selectedTab,u=l("Account"),m=l("Notifications"),h=l("Muted Accounts"),g=(0,o.default)({hide:"account"!==s}),y=(0,o.default)({hide:"notifications"!==s}),v=(0,o.default)({hide:"mute"!==s}),b=(0,o.default)("info-tabs",{selected:"account"===s}),w=(0,o.default)("info-tabs",{selected:"notifications"===s}),E=(0,o.default)("info-tabs",{selected:"mute"===s});return i.default.createElement("div",{id:"content_block",className:"user-settings"},i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:"column_left col-xs-8"},i.default.createElement("div",{className:"col-xs-12 left"},i.default.createElement("ol",null,i.default.createElement("li",{id:"select_account",className:b,onClick:this.onTabSelect.bind(this,"account"),onKeyDown:this.onTabSelect.bind(this,"account"),role:"tab"},i.default.createElement("span",null,u)),i.default.createElement("li",{id:"select_notifications",className:w,onClick:this.onTabSelect.bind(this,"notifications"),onKeyDown:this.onTabSelect.bind(this,"notifications"),role:"tab"},i.default.createElement("span",null,m)),i.default.createElement("li",{id:"select_ignore_list",className:E,onClick:this.onTabSelect.bind(this,"mute"),onKeyDown:this.onTabSelect.bind(this,"mute"),role:"tab"},i.default.createElement("span",null,h))),i.default.createElement("div",{className:g},i.default.createElement(c.default,n({},t,{app:r,onSubmit:this.onSubmitChanges,openEditModal:this.props.openUserSettingsModal}))),i.default.createElement("div",{className:y},i.default.createElement(f.default,n({},t.notificationSettings,{userId:t.id,updateNotifications:this.props.updateNotifications}))),i.default.createElement("div",{className:v},i.default.createElement(d.default,{users:a})))),i.default.createElement("div",{className:"column_right"},i.default.createElement(p.default,n({},t,{saveAvatarChanges:this.onSaveAvatarChanges,saveBackgroundChanges:this.onSaveBackgroundChanges})))))}}]),t}();h.propTypes={userObj:l.default.object.isRequired,app:l.default.object.isRequired,trans:l.default.func.isRequired,mutedUsers:l.default.array.isRequired,onSaveAccountChanges:l.default.func,openUserSettingsModal:l.default.func,saveAvatarChanges:l.default.func,saveBackgroundChanges:l.default.func,renderTooltips:l.default.func,updateNotifications:l.default.func},(0,u.isClient)()&&_.extend(h.propTypes,{saveAvatarChanges:l.default.func.isRequired,saveBackgroundChanges:l.default.func.isRequired,onSaveAccountChanges:l.default.func.isRequired,openUserSettingsModal:l.default.func.isRequired,renderTooltips:l.default.func.isRequired,updateNotifications:l.default.func.isRequired}),t.default=(0,u.injectTrans)(h)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=d(a(57)),o=d(a(1)),l=d(a(0)),i=a(3),s=a(5),u=d(a(420)),c=d(a(175));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCheckboxChange=function(e,t){var n={};n[e]=t,a.setState(n)},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.showName,r=t.appearOffline,o=t.betaEnabled,l=[{name:"show_name",value:n?"1":"0"},{name:"appear_offline",value:r?"1":"0"},{name:"beta_enabled",value:o}];a.props.onSubmit(e,l)},a.updateWordCount=function(e){a.setState({wordCount:e.target.value.length})},a.openSettingsModal=function(e){a.props.openEditModal(e)},a.state={wordCount:a.props.description.length,showName:1===a.props.show_name,appearOffline:1===a.props.appear_offline,betaEnabled:a.props.beta_enabled},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),n(t,[{key:"getGenderDropdown",value:function(){var e=this.props,t=e.genderCode,a=e.trans;return l.default.createElement("select",{name:"gender",id:"gender",defaultValue:t||""},l.default.createElement("option",{value:"M"},a("He")),l.default.createElement("option",{value:"F"},a("She")),l.default.createElement("option",{value:"O"},a("They")),l.default.createElement("option",{value:""}))}},{key:"getLanguageDropdown",value:function(){var e=this.props,t=e.language,a=e.app;return l.default.createElement("select",{name:"language",id:"language",size:"1",defaultValue:t},a.languages.map(function(e){return l.default.createElement("option",{key:e.id,value:e.id},e.name?e.name:e.get("name"))}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.trans,n=t.username,o=t.has_password,d=t.name,f=t.email,p=t.language,m=t.verified_email,h=t.location,g=t.bubok,y=t.smashwords,v=t.website,b=t.lulu,w=t.description,E=t.premium,_=t.facebook,T=t.twitter,S=this.state,N=S.wordCount,O=S.showName,C=S.appearOffline,k=S.betaEnabled,P=this.props.birthdate;return P=(0,r.default)(P).format("YYYY-MM-DD"),l.default.createElement("div",{id:"account"},l.default.createElement("h2",{className:"subheading"},a("Change your account information and privacy settings")),l.default.createElement("form",{id:"account_form",name:"account_form",onSubmit:this.handleSubmit},l.default.createElement("div",{className:"row account-wrapper"},l.default.createElement(c.default,{label:"Username"},n,l.default.createElement("a",{className:"info",id:"changeUsername",href:"#",onClick:function(){return e.openSettingsModal("username")}},a("change"))),l.default.createElement(c.default,{label:"Password"},o&&l.default.createElement("span",null,(0,s.sanitizeHTML)("********"),l.default.createElement("a",{className:"info",id:"changeUsername",href:"#",onClick:function(){return e.openSettingsModal("password")}},a("change"))),!o&&l.default.createElement("a",{className:"info",id:"addPassword",href:"#"},a("create password"))),l.default.createElement(c.default,{label:"Email"},f,l.default.createElement("a",{className:"info",id:"changeEmail",href:"#",onClick:function(){return e.openSettingsModal("email")}},a("change")),!m&&l.default.createElement("div",null,a("Not Verified"),l.default.createElement("a",{className:"info",href:"user_activation?action=send&username="+n},a("Send Activation Code")))),l.default.createElement(c.default,{label:"Name",value:d,name:"name",type:"text"}),l.default.createElement(c.default,{label:"Show name",value:O,name:"showName",type:"checkbox",onCheckboxChange:this.onCheckboxChange}),l.default.createElement(c.default,{label:"Date of Birth"},l.default.createElement("div",{className:"birthdate-wrapper"},l.default.createElement("input",{id:"birthdate",type:"date",name:"birthdate",defaultValue:P}))),l.default.createElement(c.default,{label:"Gender"},this.getGenderDropdown()),l.default.createElement(c.default,{label:"Location",value:h,name:"location",type:"text"}),l.default.createElement(c.default,{label:"Story Language"},this.getLanguageDropdown()),l.default.createElement(c.default,{label:"Appear Offline",value:C,name:"appearOffline",type:"checkbox",onCheckboxChange:this.onCheckboxChange}),l.default.createElement(c.default,{label:"Premium Subscription"},l.default.createElement("span",{className:"premium-status"},a(E?"Active":"Inactive")),l.default.createElement("a",{className:"info",href:"//premium.wattpad.com"},a("Learn more"))),l.default.createElement(c.default,{label:"Join Beta Program",name:"betaEnabled",value:k,type:"checkbox",onCheckboxChange:this.onCheckboxChange},l.default.createElement("a",{className:"info",href:"//support.wattpad.com/hc/articles/201708720-How-do-I-Join-the-Beta-Testing-for-Wattpad"},a("Learn more")),l.default.createElement("span",{id:"beta-tooltip",className:"help"},l.default.createElement(i.Icon,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.default.createElement(c.default,{label:"Download your Personal Information"},l.default.createElement("a",{href:"/settings/your-wattpad-data"},a("HTML")),l.default.createElement("a",{href:"/settings/your-wattpad-data?json=1",style:{paddingLeft:"5px"}},a("JSON")),l.default.createElement("span",{id:"info-tooltip",className:"help"},l.default.createElement(i.Icon,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),l.default.createElement(u.default,{facebook:_,twitter:T}),l.default.createElement(c.default,{label:"Lulu",value:b,type:"text",name:"lulu",icon:l.default.createElement("img",{className:"label-icon",src:"/image/icon22_lulu.png",alt:"icon22_lulu.png"})}),l.default.createElement(c.default,{label:"Smashwords",value:y,type:"text",name:"smashwords",icon:l.default.createElement("img",{className:"label-icon",src:"/image/icon22_smashwords.png",alt:"icon22_smashwords.png"})}),(5===p||6===p)&&l.default.createElement(c.default,{label:"Bubok",name:"bubok",value:g,type:"text",icon:l.default.createElement("img",{className:"label-icon",src:"/image/icon22_bubok.png",alt:"icon22_bubok.png"})}),l.default.createElement(c.default,{label:"Website",value:v,name:"website",type:"text",icon:l.default.createElement("img",{className:"label-icon",src:"/image/icon22_web.png",alt:"icon22_web.png",border:"0",align:"absmiddle"})})),l.default.createElement("div",{className:"row about-me"},l.default.createElement("label",{htmlFor:"description",className:"about-title"},a("About")),l.default.createElement("textarea",{className:"inputbox col-xs-12",name:"description",id:"description",cols:"30",rows:"10",defaultValue:w,onKeyUp:this.updateWordCount}),l.default.createElement("span",{className:"word-count"},N," / 2000")),l.default.createElement("div",{className:"row submit"},l.default.createElement("input",{type:"submit",className:"btn btn-md btn-orange",defaultValue:a("Save")}))))}}]),t}();f.propTypes={trans:o.default.func.isRequired,username:o.default.string.isRequired,has_password:o.default.bool,name:o.default.string,email:o.default.string.isRequired,language:o.default.number.isRequired,gender:o.default.string,genderCode:o.default.string,verified_email:o.default.bool,birthdate:o.default.string,location:o.default.string,bubok:o.default.string,smashwords:o.default.string,website:o.default.string,lulu:o.default.string,description:o.default.string,premium:o.default.bool.isRequired,beta_enabled:o.default.bool.isRequired,appear_offline:o.default.any,show_name:o.default.any,facebook:o.default.string.isRequired,app:o.default.object.isRequired,twitter:o.default.string.isRequired,openEditModal:o.default.func,onSubmit:o.default.func},(0,s.isClient)()&&_.extend(f.propTypes,{openEditModal:o.default.func.isRequired,onSubmit:o.default.func.isRequired}),t.default=(0,s.injectTrans)(f)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(1)),o=s(a(0)),l=a(3),i=s(a(175));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var c=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,i=Array(r),s=0;s<r;s++)i[s]=arguments[s];return a=n=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.getFacebook=function(){var e=n.props.facebook,t=void 0,a=void 0;return e?(t="https://www.facebook.com/"+e,a=o.default.createElement("div",null,o.default.createElement("a",{className:"info",href:t,target:"_new"},t),o.default.createElement("a",{href:"/apiv2/linksocialmedia?action=unlinkfb",id:"unlink_fb_btn",role:"button",tabIndex:"0"},o.default.createElement("img",{src:"/image/v2/unlink.png",width:"16",height:"16",alt:"unlink.png"})))):a=o.default.createElement("div",null,o.default.createElement("a",{href:"#",rel:"nofollow"},o.default.createElement("img",{className:"btn-facebook",alt:"Facebook",border:"0",width:"89",height:"21",src:"/image/connect_light_medium_short.gif"})),o.default.createElement("span",{id:"facebook-tooltip",className:"help"},o.default.createElement(l.Icon,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))),a},n.getTwitter=function(){var e=n.props.twitter;return e?o.default.createElement("div",null,o.default.createElement("a",{className:"info",href:e,target:"_new"},"https://www.twitter.com/"+e),o.default.createElement("a",{href:"/apiv2/linksocialmedia?action=unlinktwitter",id:"unlink_tw_btn"},o.default.createElement("img",{src:"/image/v2/unlink.png",width:"16",height:"16",alt:"unlink.png"}))):o.default.createElement("div",null,o.default.createElement("a",{href:"/apiv2/linksocialmedia?action=linktwitter",rel:"nofollow"},o.default.createElement("img",{src:"/image/twitter_signin_small.png",alt:"Sign in with Twitter"}),o.default.createElement("span",{id:"twitter-tooltip",className:"help"},o.default.createElement(l.Icon,{iconName:"fa-info",height:"16",color:"wp-neutral-2"}))))},u(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){return o.default.createElement("div",null,o.default.createElement(i.default,{label:"Facebook",icon:o.default.createElement("img",{className:"label-icon",src:"/image/icon22_fb.png?",alt:"icon22_fb.png",border:"0",align:"absmiddle"})},this.getFacebook()),o.default.createElement(i.default,{label:"Twitter",icon:o.default.createElement("img",{className:"label-icon",src:"/image/icon22_twitter.png?",alt:"icon22_twitter.png",border:"0",align:"absmiddle"})},this.getTwitter()))}}]),t}();t.default=c,c.propTypes={facebook:r.default.string.isRequired,twitter:r.default.string.isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=u(a(0)),o=u(a(1)),l=a(3),i=a(5),s=u(a(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){return e.users.map(function(e){var t=e.username,a=e.id,n=e.avatar;return r.default.createElement("li",{key:a,id:"muted-"+a,className:"muted-user"},r.default.createElement("img",{src:n,alt:t,align:"top",width:"64",height:"64"}),r.default.createElement("div",{className:"username-wrapper"},r.default.createElement("a",{href:"/user/"+t,className:"user-profile on-navigate",title:t},t)))})},d=function(e,t){return Math.ceil(e/t)},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.moveBackward=function(){var e=a.state.currentPage;e>1&&a.setState({currentPage:e-1})},a.moveForward=function(){var e=a.state.currentPage;e<a.totalPages&&a.setState({currentPage:e+1})},a.state={currentPage:1},a.pageLimit=8,a.totalPages=d(a.props.users.length,a.pageLimit),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.users,a=e.trans,n=this.state.currentPage,o=(0,s.default)("",{"wp-base-1":1!==n,"wp-neutral-2":1===n}),i=(0,s.default)("",{"wp-base-1":t.length>this.pageLimit&&n!==this.totalPages,"wp-neutral-2":n>=this.totalPages}),u=(n-1)*this.pageLimit,d=t.slice(u,u+this.pageLimit);return r.default.createElement("div",{id:"mute-list"},r.default.createElement("h5",{className:"subheading"},a("These are the users you have muted")),r.default.createElement("div",{id:"muted-users"},r.default.createElement("ul",{className:"user-list"},r.default.createElement(c,{users:d})),r.default.createElement("div",{className:"controls"},r.default.createElement("div",{onClick:this.moveBackward,onKeyDown:this.moveBackward,role:"button",tabIndex:"0"},r.default.createElement(l.Icon,{iconName:"fa-left",height:"18",color:o})),r.default.createElement("span",{className:"current-page"},this.state.currentPage),r.default.createElement("div",{onClick:this.moveForward,onKeyDown:this.moveForward,role:"button",tabIndex:"0"},r.default.createElement(l.Icon,{iconName:"fa-right",height:"18",color:i})))))}}]),t}();f.propTypes={trans:o.default.func.isRequired,users:o.default.arrayOf(o.default.shape({username:o.default.string.isRequired,avatar:o.default.string.isRequired,id:o.default.number.isRequired})).isRequired},t.default=(0,i.injectTrans)(f)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(1)),o=s(a(0)),l=a(5),i=s(a(423));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.handleSubmit=function(e){a.props.updateNotifications(e)},a.onCheckboxChange=function(e,t){var n={};n[e]=t,a.setState(n)};var n=e.alerts,r=e.alertssub,o=e.subscribe;return a.state={alerts:1===parseInt(n,10),alertssub:r,subscribe:1===parseInt(o,10)},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.trans,a=e.userId,n=this.state,r=n.alerts,l=n.alertssub,s=n.subscribe;return o.default.createElement("div",{id:"notification"},o.default.createElement("h2",{className:"subheading"},t("Receive email notifications for these events")),o.default.createElement("form",{id:"notifications_form",name:"notifications_form",className:"row",onSubmit:this.handleSubmit},o.default.createElement("input",{type:"hidden",name:"id",value:a}),o.default.createElement(i.default,{name:"alerts",value:r,onCheckboxChange:this.onCheckboxChange},o.default.createElement("h4",null,t("Messages")),o.default.createElement("ul",null,o.default.createElement("li",null,t("Someone writes on your message board")),o.default.createElement("li",null,t("Someone starts following you")),o.default.createElement("li",null,t("Someone comments on your story")),o.default.createElement("li",null,t("Someone mentions you in a comment")),o.default.createElement("li",null,t("You receive a message")))),o.default.createElement(i.default,{name:"alertssub",value:l,onCheckboxChange:this.onCheckboxChange},o.default.createElement("h4",null,t("Users you follow upload a story"))),o.default.createElement(i.default,{name:"subscribe",value:s,onCheckboxChange:this.onCheckboxChange},o.default.createElement("h4",null,t("Updates")),o.default.createElement("ul",null,o.default.createElement("li",null,t("Important announcements from Wattpad")))),o.default.createElement("div",{className:"col-xs-6 col-xs-offset-4"},o.default.createElement("span",{className:"bold"},t("Your news feed will not be affected by these settings"))),o.default.createElement("div",{className:"col-xs-12 submit"},o.default.createElement("input",{type:"submit",className:"btn btn-md btn-orange",value:t("Save")})),o.default.createElement("input",{type:"hidden",name:"alertssubmask",value:"0"})))}}]),t}();u.propTypes={trans:r.default.func.isRequired,userId:r.default.number.isRequired,alerts:r.default.any.isRequired,alertssub:r.default.bool.isRequired,subscribe:r.default.any.isRequired,updateNotifications:r.default.func},(0,l.isClient)()&&_.extend(u.propTypes,{updateNotifications:r.default.func.isRequired}),t.default=(0,l.injectTrans)(u)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=l(a(0)),o=l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onCheckboxChange=function(){var e=!a.state.checked;a.setState({checked:e}),a.props.onCheckboxChange(a.props.name,e)},a.state={checked:a.props.value},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value,n=e.children,o=this.state.checked;return r.default.createElement("div",null,r.default.createElement("div",{className:"col-xs-2"},r.default.createElement("input",{type:"checkbox",name:t,value:a,defaultChecked:o,onChange:this.onCheckboxChange})),r.default.createElement("div",{className:"col-xs-10"},n))}}]),t}();t.default=i,i.propTypes={name:o.default.string,value:o.default.any,children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node]),onCheckboxChange:o.default.func}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(7)),o=s(a(1)),l=s(a(0)),i=a(5);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.uploadBackground=function(){a.setState({editBgStarted:!0})},a.uploadAvatar=function(){a.setState({editAvatarStarted:!0})},a.updateAvatar=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]);else{var t=e.target.files[0];t&&a.props.saveAvatarChanges(t)}},a.updateBackground=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]);else{var t=e.target.files[0];t&&a.props.saveBackgroundChanges(t)}},a.state={editBgStarted:!1,editAvatarStarted:!1},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.trans,n=t.avatar,o=t.backgroundUrl,i=t.username,s=this.state,u=s.editAvatarStarted,c=s.editBgStarted,d=(0,r.default)("image-upload",{show:u}),f=(0,r.default)("image-upload",{show:c}),p=(0,r.default)("btn btn-small btn-white",{hide:u}),m=(0,r.default)("btn btn-small btn-white",{hide:c}),h=(0,r.default)("btn btn-small btn-white hidden",{hide:u}),g=(0,r.default)("btn btn-small btn-white hidden",{hide:c});return l.default.createElement("div",{id:"right-side-panel",className:"col-xs-12"},l.default.createElement("h5",{className:"container_head"},a("Customize")),l.default.createElement("div",{id:"avatar"},a("Profile Picture"),l.default.createElement("img",{src:n||"/image/pixel.gif",alt:i,align:"bottom",className:"picframe",border:"0",width:"256",height:"256"}),l.default.createElement("button",{id:"changeAvatar",className:p,onClick:this.uploadAvatar},a("Change")),l.default.createElement("form",{className:d,method:"post",encType:"multipart/form-data"},l.default.createElement("input",{type:"file",name:"avatar",onChange:this.updateAvatar}),l.default.createElement("small",null,a("Upload a jpg or gif, 512x512 recommended.Do not upload any restricted material, see terms of service"))),n&&l.default.createElement("button",{id:"deleteAvatar",className:h,onClick:function(t){return e.updateAvatar(t,!0)}},a("Remove"))),l.default.createElement("div",{id:"background"},a("Background"),l.default.createElement("img",{src:o||"/image/pixel.gif",alt:i,align:"bottom",className:"picframe",border:"0",width:"256"}),l.default.createElement("button",{id:"changeBackground",className:m,onClick:this.uploadBackground},a("Change")),l.default.createElement("form",{className:f,method:"post",encType:"multipart/form-data"},l.default.createElement("input",{type:"file",name:"backgroundUrl",onChange:this.updateBackground}),l.default.createElement("small",null,a("Upload a jpg or gif, up to 1MB. Do not upload any restricted material, see terms ofservice"))),o&&l.default.createElement("button",{id:"deleteBackground",className:g,onClick:function(t){return e.updateBackground(t,!0)}},a("Remove"))),l.default.createElement("div",{className:"close-account"},l.default.createElement("a",{className:"btn btn-md btn-orange",href:"/user_close"},a("Close Account"))))}}]),t}();u.propTypes={trans:o.default.func.isRequired,avatar:o.default.string.isRequired,backgroundUrl:o.default.string.isRequired,username:o.default.string.isRequired,saveAvatarChanges:o.default.func,saveBackgroundChanges:o.default.func},(0,i.isClient)()&&_.extend(u.propTypes,{saveAvatarChanges:o.default.func.isRequired,saveBackgroundChanges:o.default.func.isRequired}),t.default=(0,i.injectTrans)(u)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=d(a(0)),l=a(11),i=d(a(1)),s=d(a(26)),u=a(176),c=d(a(426));function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),i=0;i<r;i++)l[i]=arguments[i];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),n.state={windowWidth:null,lastSectionLoaded:5},n.sectionWrapperRef=o.default.createRef(),n.sectionLimitPerPage=5,n.handleInfScroll=function(){var e=void 0;n.state.lastSectionLoaded!==n.props.sections.length?n.isAtBottom(n.sectionWrapperRef.current)&&(e=n.state.lastSectionLoaded>n.props.sections.length-1-n.sectionLimitPerPage?n.props.sections.length-1:n.state.lastSectionLoaded+n.sectionLimitPerPage,n.setState({lastSectionLoaded:e}),window.wattpad.homeSectionsIndex=e):window.removeEventListener("scroll",s.default.debounce(n.handleInfScroll,300,{leading:!1,trailing:!0}))},n.isAtBottom=function(e){return e&&e.getBoundingClientRect().bottom-200<=window.innerHeight},n.checkIntersections=function(){var e=window.scrollY,t=e+window.innerHeight;Object.keys(n.props.sectionBounds).map(function(a){if(!n.props.sectionBounds[a].viewed){var r=n.props.sectionBounds[a],o=n.props.sections[a].data,l=(o=void 0===o?{}:o).tracking,i=(l=void 0===l?{}:l).impressions,s=void 0===i?[]:i,u=s.length>0,c=r.bottom-r.top;(c-(r.top<e?e-r.top:0)-(r.bottom>t?r.bottom-t:0))/c>=.5&&(window.te.push("event","home","section",null,"view",{type:r.type,position:r.index}),u&&n.props.callTrackingUrls(s),n.props.sectionViewed(a))}})},f(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;void 0!==this.props.sections&&0!==this.props.sections.length||this.props.fetchHomeSections(),this.setState({windowWidth:window.innerWidth}),window.addEventListener("resize",function(){return e.setState({windowWidth:window.innerWidth})});var t=window.wattpad.homeSectionsIndex;t&&this.setState({lastSectionLoaded:t}),window.addEventListener("scroll",s.default.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.addEventListener("scroll",this.checkIntersections),window.te.push("event","app","page",null,"view",{page:"home"})}},{key:"componentDidUpdate",value:function(e){0===Object.keys(e.sectionBounds).length&&0!==Object.keys(this.props.sectionBounds).length&&this.checkIntersections()}},{key:"componentWillUnmount",value:function(){var e=this;window.removeEventListener("resize",function(){return e.setState({windowWidth:window.innerWidth})}),window.removeEventListener("scroll",s.default.debounce(this.handleInfScroll,300,{leading:!1,trailing:!0})),window.removeEventListener("scroll",this.checkIntersections)}},{key:"render",value:function(){var e=this;return this.props.error&&(console.error("An error has occurred:\n"+this.props.error.errorMessage),this.props.clearError()),void 0===this.props.sections||0===this.props.sections.length?null:o.default.createElement("div",{className:"home-sections-wrapper",ref:this.sectionWrapperRef},o.default.createElement(o.default.Fragment,null,this.props.sections.slice(0,this.state.lastSectionLoaded).map(function(t,a){var r=!(!e.props.sectionBounds[a]||!e.props.sectionBounds[a].viewed);return o.default.createElement(c.default,n({},t,{index:a,key:t.type+"-"+a,setPosition:e.props.receiveSectionPosition,wasSeen:r,windowWidth:e.state.windowWidth,callTrackingUrls:e.props.callTrackingUrls}))})))}}]),t}();p.propTypes={sections:i.default.array,sectionBounds:i.default.object,error:i.default.object,scrollIndex:i.default.number,fetchHomeSections:i.default.func,clearError:i.default.func,receiveSectionPosition:i.default.func,sectionViewed:i.default.func,callTrackingUrls:i.default.func};var m={fetchHomeSections:u.fetchHomeSections,receiveSectionPosition:u.receiveSectionPosition,sectionViewed:u.sectionViewed,clearError:u.clearError,callTrackingUrls:u.callTrackingUrls};t.default=(0,l.connect)(function(e){var t=e.homeSections;return{sections:t.sections,sectionBounds:t.sectionBounds,error:t.error}},m)(p)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=f(a(0)),o=f(a(427)),l=f(a(114)),i=f(a(437)),s=f(a(438)),u=f(a(439)),c=f(a(440)),d=f(a(1));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){var t={sectionType:e.type,index:e.index,setPosition:e.setPosition,windowWidth:e.windowWidth,wasSeen:e.wasSeen,page:"home"};switch(e.type){case"searchBar":return r.default.createElement(c.default,t);case"paid":case"storyHeroGroup":return r.default.createElement(o.default,n({},t,{heading:e.data.heading,subheading:e.data.subheading,heroItem:e.data.heroItem||e.data.heroItems[0],storyItems:e.data.listItems,navigationItem:e.data.navigation,isPromoted:e.data.isPromoted,clickTrackingUrls:e.data.tracking&&e.data.tracking.clicks,callTrackingUrls:e.callTrackingUrls}));case"storyList":return r.default.createElement(l.default,n({},t,{heading:e.data.heading,subheading:e.data.subheading,stories:e.data.items,isPromoted:e.data.isPromoted}));case"featured":return r.default.createElement(i.default,n({},t,{slides:e.data.items,wrapAround:!0}));case"smallNavigation":return r.default.createElement(s.default,n({},t,{heading:e.data.heading,subheading:e.data.subheading,link:e.data.weblink,image:e.data.image}));case"greeting":return r.default.createElement(u.default,n({},t,{greeting:e.data.greeting}));default:return null}};p.propTypes={index:d.default.number.isRequired,setPosition:d.default.func.isRequired,windowWidth:d.default.number.isRequired,wasSeen:d.default.bool.isRequired,type:d.default.string,data:d.default.shape({heading:d.default.string,subheading:d.default.string,isPromoted:d.default.bool,heroItem:d.default.object,heroItems:d.default.array,navigation:d.default.object,clickTrackingUrls:d.default.array,listItems:d.default.array,greeting:d.default.string,image:d.default.string,weblink:d.default.string,items:d.default.array,tracking:d.default.object}),callTrackingUrls:d.default.func},t.default=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=a(0),o=c(r),l=c(a(1)),i=c(a(428)),s=c(a(178)),u=c(a(180));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.sectionType,a=e.heading,l=e.subheading,c=e.heroItem,d=e.storyItems,f=e.isPromoted,p=e.index,m=e.windowWidth,h=e.wasSeen,g=e.setPosition,y=e.clickTrackingUrls,v=e.callTrackingUrls,b=(0,r.useRef)(null);return(0,r.useEffect)(function(){var e=b.current.getBoundingClientRect();g(p,t,e.top+window.scrollY,e.bottom+window.scrollY)},[p,t,g]),null!==d&&0!==d.length||c?o.default.createElement("div",{className:"story-swimlane-with-hero "+t,ref:b},o.default.createElement("div",{className:"module-content"},o.default.createElement(u.default,{heading:a,sectionType:t,subheading:l,isPromoted:f}),o.default.createElement("div",{className:"hero-item"},o.default.createElement(i.default,n({},c,{windowWidth:m,clickTrackingUrls:y,callTrackingUrls:v}))),o.default.createElement("div",{className:"story-carousel"},o.default.createElement(s.default,{sectionType:t,stories:d,windowWidth:m,index:p,wasSeen:h})))):null};d.propTypes={heading:l.default.string,heroItem:l.default.object.isRequired,index:l.default.number.isRequired,isPromoted:l.default.bool,navigationItem:l.default.object,sectionType:l.default.string.isRequired,setPosition:l.default.func.isRequired,storyItems:l.default.array.isRequired,subheading:l.default.string,wasSeen:l.default.bool,windowWidth:l.default.number,clickTrackingUrls:l.default.array,callTrackingUrls:l.default.func.isRequired},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=d(a(1)),o=a(0),l=d(o),i=a(3),s=a(5),u=d(a(58)),c=d(a(177));function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){var t=e.tags,a=void 0===t?[]:t,r=e.isPaid,s=e.max,c=void 0===s?1:s,d=e.filter,f=void 0===d?function(e){return e}:d,p=(0,o.useState)(a),m=n(p,2),h=m[0],g=m[1];return(0,o.useEffect)(function(){g(_.shuffle(a).filter(f).slice(0,c))},[a,c,f]),l.default.createElement("div",{className:"tags-list"},r?l.default.createElement(i.ConnectImage,{name:"paid-content/supported-stories-badge-black.svg",title:"Paid Stories Badge",className:"paid-stories-badge",height:"18px",width:"18px"}):null,a?h.map(function(e,t){return l.default.createElement(u.default,{key:t+e,name:e,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){app.router.navigate("/stories/"+t,{trigger:!0})}})}):null)};f.propTypes={tags:r.default.array,isPaid:r.default.bool,max:r.default.number,filter:r.default.func};var p=function(e){var t=e.sectionType,a=e.title,n=e.id,r=e.cover,i=e.user,u=e.tags,d=e.description,p=e.isPaid,m=e.sources,h=e.index,g=e.offset,y=e.windowWidth,v=e.wasSeen,b=e.clickTrackingUrls,w=e.callTrackingUrls,E=e.isPromoted,_=500,T=200,S=3,N=!0,O=200,C=18;y>=545&&y<=960?(_=250,S=2):y<545&&(_=100,T=60,C=10,S=2,N=!1,O=104);var k=(0,o.useCallback)(function(e){return e.length<C},[C]);(0,o.useEffect)(function(){v&&window.te.push("event","story",null,null,"view",{storyid:n,page:"home",algo_source:m,position:h,offset:g,type:t})},[v]);var P=function(e,a){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:n,page:"home",algo_source:m,position:h,offset:g,type:t}),b&&w(b),app.router.navigate(a,{trigger:!0})};return l.default.createElement("div",{className:"paid-stories-item hero"},l.default.createElement("div",{className:"cover"},l.default.createElement("a",{href:"/story/"+n,onClick:function(e){return P(e,"/story/"+n)}},l.default.createElement("img",{src:(0,s.resizeCover)(r,O),alt:"{title} cover"}))),l.default.createElement("div",null,l.default.createElement("a",{className:"title",href:"/story/"+n,onClick:function(e){return P(e,"/story/"+n)},"aria-label":"Read "+a},(0,s.simpleShorten)(a,T,!1)),l.default.createElement("br",null),i&&N?l.default.createElement("a",{className:"author on-navigate",href:"/user/"+i.name},i.name):null,l.default.createElement("p",{className:"description"},(0,s.simpleShorten)(d,_,!1)),l.default.createElement(f,{tags:u,isPaid:p,max:S,filter:k})),!0===E&&l.default.createElement("div",{className:"right-section"},l.default.createElement(c.default,null)))};p.propTypes={cover:r.default.string.isRequired,id:r.default.oneOfType([r.default.string,r.default.number]).isRequired,index:r.default.number.isRequired,isPaid:r.default.bool,offset:r.default.number,sectionType:r.default.string,sources:r.default.array,tags:r.default.array,title:r.default.string.isRequired,user:r.default.object,description:r.default.string,wasSeen:r.default.bool,windowWidth:r.default.number,clickTrackingUrls:r.default.array,callTrackingUrls:r.default.func,isPromoted:r.default.bool},t.default=p},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=c(a(1)),o=a(0),l=c(o),i=a(3),s=a(5),u=c(a(58));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.title,a=e.id,r=e.cover,c=e.tags,d=void 0===c?[]:c,f=e.isPaid,p=e.isPaywalled,m=e.sources,h=e.offset,g=e.sectionType,y=e.index,v=e.width,b=void 0===v?200:v,w=e.page,E=(0,o.useState)(d[0]),T=n(E,2),S=T[0],N=T[1];(0,o.useEffect)(function(){N(_.shuffle(d).find(function(e){return b<200?e.length<10:e.length<18}))},[d,b]);return l.default.createElement("div",{className:"story-item story-"+h},l.default.createElement("div",{className:"cover"},l.default.createElement("a",{href:"/story/"+a,onClick:function(e){return function(e,t){e.preventDefault(),window.te.push("event","story",null,null,"click",{storyid:a,page:w,algo_source:m,position:y,offset:h,type:g}),app.router.navigate(t,{trigger:!0})}(e,"/story/"+a)}},l.default.createElement("img",{src:(0,s.resizeCover)(r,b),alt:t+" cover"}))),l.default.createElement("div",{className:"tag-and-badge"},f||p?l.default.createElement(i.ConnectImage,{name:"paid-content/supported-stories-badge-black.svg",title:"Paid Stories Badge",className:"paid-stories-badge",height:"18px",width:"18px"}):null,S?l.default.createElement(u.default,{name:S,bgColor:"#eeeeee",color:"#6f6f6f",clickHandler:function(e,t){app.router.navigate("/stories/"+t,{trigger:!0})}}):null))};d.propTypes={cover:r.default.string.isRequired,id:r.default.oneOfType([r.default.string,r.default.number]).isRequired,index:r.default.number,isPaid:r.default.bool,isPaywalled:r.default.bool,offset:r.default.number,sectionType:r.default.string,sources:r.default.array,tags:r.default.array,title:r.default.string.isRequired,width:r.default.number,page:r.default.string},t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PaidIndicator=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(3),o=a(6);t.PaidIndicator=function(){var e=(0,o.useTrans)().trans;return n.default.createElement("a",{href:"/catalog/paidstories",role:"button",className:"on-navigate paid-link right-icon"},e("See all"),n.default.createElement(r.Icon,{name:"arrowRight",size:"22"}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(0),l=f(o),i=f(a(83)),s=f(a(1)),u=f(a(7)),c=a(3),d=f(a(179));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var m=function(e){var t=e.sectionType,a=e.slides,s=void 0===a?[]:a,f=e.index,m=e.setPosition,g=e.windowWidth,y=e.wasSeen,v=e.wrapAround,b=(0,d.default)(parseInt(app.get("language"),10)),w=(0,o.useRef)(null),E=(0,o.useState)([]),_=r(E,2),T=_[0],S=_[1],N=(0,o.useState)(),O=r(N,2),C=O[0],k=O[1],P=(0,o.useState)(),M=r(P,2),R=M[0],I=M[1];(0,o.useEffect)(function(){if(y)W(0);else{var e=w.current.getBoundingClientRect();k(e.top),I(e.bottom),m(f,t,e.top+window.scrollY,e.bottom+window.scrollY)}},[y,f,t,m,W]);var j=g<575,x=!j&&y,L=j?{autoplay:x,autoplayInterval:7e3,animation:"zoom",cellSpacing:8,frameOverflow:"visible",initialSlideHeight:168,initialSlideWidth:282,slideOffset:25,slidesToShow:1.1,swiping:!0,withoutControls:!0,wrapAround:!0}:{autoplay:x,autoplayInterval:7e3,dragging:!0,slidesToShow:1,initialSlideHeight:400,renderCenterRightControls:function(e){var t=e.currentSlide,a=e.nextSlide,n=e.slideCount;return q(t,a,n)},renderCenterLeftControls:function(e){var t=e.currentSlide,a=e.previousSlide;return U(t,a)},renderBottomCenterControls:null,renderBottomRightControls:function(e){var t=e.currentSlide,a=e.slideCount,n=e.goToSlide;return D(t,a,n)},wrapAround:!0},A=j?136:400,q=function(e,t,a){return e!==a-1||v?l.default.createElement("button",{className:"next-btn",onClick:t},l.default.createElement(c.Icon,{name:"arrowRight",size:"22",alt:"next",strokeWidth:"4"})):null},U=function(e,t){return 0!==e||v?l.default.createElement("button",{className:"prev-btn",onClick:t},l.default.createElement(c.Icon,{name:"arrowLeft",size:"22",alt:"previous",strokeWidth:"4"})):null},D=function(e,t,a){return l.default.createElement("div",{className:"controls"},[].concat(p(Array(t))).map(function(t,n){var r=(0,u.default)("control",{active:n===e});return l.default.createElement("div",{className:r,key:n,onClick:function(){a(n)},onKeyDown:function(){a(n)},role:"tab",tabIndex:"0"})}))},B=function(e){w.current.getBoundingClientRect().top<(C-R)/2||w.current.getBoundingClientRect().top>window.innerHeight-(R-C)/2||T.includes(e)||(window.te.push("event","home","featured",null,"view",{itemid:s[e].id,offset:e}),S([].concat(p(T),[e])))},W=(0,o.useCallback)(B);return null!==s&&0!==s.length?l.default.createElement("div",n({ref:w},b?{dir:"ltr",className:"featured-carousel rtl-adjust"}:{className:"featured-carousel"}),l.default.createElement(i.default,n({},L,{afterSlide:B,enableKeyboardControls:!0,heightMode:"max",renderAnnounceSlideMessage:function(e){return"Slide "+e.currentSlide+" out of "+e.slideCount}}),s.map(function(e,t){var a=t===s.length-1;return l.default.createElement(h,n({},e,{height:A,topHeader:j,ind:t,isLastSlide:a,offset:t,key:t}))})),l.default.createElement("hr",{className:"module-divider"})):null};m.propTypes={index:s.default.number.isRequired,sectionType:s.default.string.isRequired,setPosition:s.default.func.isRequired,slides:s.default.array.isRequired,wasSeen:s.default.bool.isRequired,windowWidth:s.default.number,wrapAround:s.default.bool.isRequired};var h=function(e){var t=e.id,a=e.image,n=e.heading,r=e.subheading,o=e.weblink,i=e.ind,s=e.offset,u=e.isLastSlide,c=e.height;return l.default.createElement("div",{className:"featured-slide slide-"+i+" "+(u?"last-slide":"not-last-slide")},l.default.createElement("a",{href:o,onClick:function(){window.te.push("event","home","featured",null,"click",{itemid:t,offset:s})}},l.default.createElement("div",{className:"image-container",style:{backgroundImage:"url("+a+")",height:c+"px",backgroundSize:"cover"},alt:"featured slide",loading:"lazy"}),l.default.createElement("div",{className:"featured-text"},l.default.createElement("h2",null,n),l.default.createElement("p",null,r))))};h.propTypes={heading:s.default.string,height:s.default.number.isRequired,id:s.default.oneOfType([s.default.number,s.default.string]),image:s.default.string.isRequired,ind:s.default.number.isRequired,isLastSlide:s.default.bool,offset:s.default.number.isRequired,subheading:s.default.string,topHeader:s.default.bool,weblink:s.default.string},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=l(n),o=l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.sectionType,a=e.heading,o=e.subheading,l=e.index,i=e.isSubsection,s=e.setPosition,u=e.link,c=e.image,d=(0,n.useRef)(null);return(0,n.useEffect)(function(){if(!i){var e=d.current.getBoundingClientRect();s(l,t,e.top+window.scrollY,e.bottom+window.scrollY)}},[i,l,t,s]),r.default.createElement("div",{className:"small-nav "+t+"-banner",ref:d},r.default.createElement("a",{href:u,className:"banner-content on-navigate"},r.default.createElement("div",{className:"contest-content"},r.default.createElement("div",{className:"contest-info"},r.default.createElement("h1",null,a),r.default.createElement("h2",null,o)),r.default.createElement("div",{className:"graphic-container",style:{backgroundImage:"url("+c+")"}}))))};i.propTypes={index:o.default.number.isRequired,isSubsection:o.default.bool,heading:o.default.string.isRequired,setPosition:o.default.func.isRequired,sectionType:o.default.string.isRequired,subheading:o.default.string,link:o.default.string,image:o.default.string},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=i(n),o=i(a(1)),l=a(5);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.sectionType,a=e.greeting,o=e.index,i=e.setPosition,s=(0,n.useRef)(null);return(0,n.useEffect)(function(){var e=s.current.getBoundingClientRect();i(o,t,e.top+window.scrollY,e.bottom+window.scrollY)},[o,t,i]),r.default.createElement("div",{className:"greeting-and-content-settings",ref:s},r.default.createElement("div",{className:"module-content"},r.default.createElement("div",{className:"greeting"},a?r.default.createElement("h2",{className:"greeting-text"},(0,l.isClient)()&&a.includes("%s")?a.replace("%s",wattpad.user.name||wattpad.user.username||""):a):null),r.default.createElement("div",{className:"content-settings"})),r.default.createElement("hr",{className:"module-divider"}))};s.propTypes={greeting:o.default.string.isRequired,index:o.default.number.isRequired,sectionType:o.default.string.isRequired,setPosition:o.default.func.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=u(a(1)),o=a(0),l=u(o),i=a(3),s=a(6);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.sectionType,a=e.index,r=e.setPosition,u=e.windowWidth,c=(0,s.useTrans)().trans,f=(0,o.useState)(""),p=n(f,2),m=p[0],h=p[1],g=(0,o.useRef)(null),y=u<575;return(0,o.useEffect)(function(){if(y){var e=g.current.getBoundingClientRect();r(a,t,e.top+window.scrollY,e.bottom+window.scrollY)}},[a,t,r,y]),y?l.default.createElement("div",{className:"search-bar",ref:g},l.default.createElement(i.Icon,{name:"search",size:"18",className:"search-icon"}),l.default.createElement("input",{className:"search-field",type:"search",placeholder:c("Search and Browse"),spellCheck:"false",onChange:function(e){return h(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&d(m)}}),l.default.createElement("label",{htmlFor:"search-field",className:"hidden"},c("Search and Browse Wattpad"))):null};c.propTypes={index:r.default.number.isRequired,sectionType:r.default.string.isRequired,setPosition:r.default.func.isRequired,windowWidth:r.default.number};var d=function(e){var t="/search/"+e;app.router.navigate(t,{trigger:!0})};t.default=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=c(a(1)),o=a(0),l=c(o),i=a(5),s=a(3),u=c(a(181));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.user,n=e.url,r=e.readCount,o=e.numParts,c=e.voteCount,d=e.cover,f=e.description,p=e.mature,m=e.completed,h=e.tags,g=e.rank,y=e.id,v=e.app,b=e.trans,w={tags:h,storyId:y,numShown:"desktop"===v.deviceType?3:2},E=(0,i.simpleShorten)(t,35,!1),_=a.fullname||a.name,T=b("by %s",(0,i.simpleShorten)(_,30,!1)),S=(0,i.formatStoryUrl)(n),N="/user/"+a.name,O=(0,i.count)(r).toString(),C=(0,i.count)(o).toString(),k=(0,i.count)(c).toString(),P=void 0,M=(0,i.sanitizeHTML)(f);"desktop"===v.deviceType?(P=(0,i.resizeCover)(d,142,v.devicePixelRatio,v.matchMedia,v.msMatchMedia),M=(0,i.simpleShorten)(M,170,!1)):(P=(0,i.resizeCover)(d,92,v.devicePixelRatio,v.matchMedia,v.msMatchMedia),M=(0,i.simpleShorten)(M,170,!1));var R=b("%1$s by %2$s",t,a.name),I={__html:M},j=l.default.createElement("div",{className:"description",dangerouslySetInnerHTML:I}),x=l.default.createElement("img",{src:P,alt:R}),L=void 0;return g&&(L=l.default.createElement("div",{className:"story-rank"},l.default.createElement("span",null,"#",g))),l.default.createElement("div",{className:"item"},l.default.createElement("a",{className:"on-story-preview cover cover-lg","data-story-id":y,href:S},l.default.createElement("div",{className:"fixed-ratio fixed-ratio-cover"},x,L)),l.default.createElement("div",{className:"content"},l.default.createElement("a",{className:"title meta on-story-preview","data-story-id":y,href:S},E),l.default.createElement("a",{className:"username meta on-navigate",href:N},T),l.default.createElement("div",{className:"meta social-meta"},l.default.createElement("span",{className:"read-count"},l.default.createElement(s.Icon,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),O),l.default.createElement("span",{className:"vote-count"},l.default.createElement(s.Icon,{iconName:"fa-vote",height:"12",color:"wp-neutral-2"}),k),l.default.createElement("span",{className:"part-count"},l.default.createElement(s.Icon,{iconName:"fa-list",height:"12",color:"wp-neutral-2"}),C)),j,l.default.createElement("div",{className:"bottom-content clearfix"},l.default.createElement("div",{className:"story-status"},m?l.default.createElement("span",{className:"label label-info"},b("Completed")):null,p?l.default.createElement("span",{className:"label label-danger"},b("Mature")):null),l.default.createElement(u.default,{tagMeta:w}))))}}]),t}();d.propTypes={completed:r.default.bool,cover:r.default.string,description:r.default.string.isRequired,id:r.default.string.isRequired,mature:r.default.bool,numParts:r.default.number.isRequired,rank:r.default.number,readCount:r.default.number.isRequired,trans:r.default.func.isRequired,tags:r.default.arrayOf(r.default.string).isRequired,title:r.default.string.isRequired,url:r.default.string.isRequired,user:r.default.shape({avatar:r.default.string,fullname:r.default.string,name:r.default.string}),voteCount:r.default.number.isRequired,app:r.default.object},t.default=(0,i.injectTrans)(d)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoryItem=void 0;var n=a(0),r=d(n),o=d(a(7)),l=d(a(1)),i=a(115),s=a(5),u=a(6),c=a(3);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.promoted,a=e.url,l=e.id,d=e.cover,f=e.title,p=e.user,m=e.categories,h=e.readCount,g=e.voteCount,y=e.commentCount,v=e.description,b=e.sponsorName,w=e.clickUrl,E=e.impressionUrl,_=e.isPaywalled,T=e.descCharLimit,S=void 0===T?170:T,N=(0,u.useTrans)().trans;return r.default.createElement("a",{className:(0,o.default)("clearfix on-story-preview",{promoted:t}),href:(0,s.formatStoryUrl)(a),"data-story-id":l,"data-impression-url":E,"data-click-url":w,"data-author-name":p.name},r.default.createElement("div",{className:"send-story-cover-event cover cover-sm","data-story-id":l},r.default.createElement("img",{src:(0,s.resizeCover)(d,72),alt:N("%1$s by %2$s",f,p.name)})),r.default.createElement("div",{className:"left-container"},_&&r.default.createElement("div",{className:"paid-indicator"},r.default.createElement(c.ConnectImage,{name:"paid-content/supported-stories-badge.svg",title:"Paid Stories Badge",height:"18px",width:"18px"}),r.default.createElement("span",null,"Paid Story")),r.default.createElement("div",{className:"title"},(0,s.simpleShorten)(f,45,!1)),t?r.default.createElement("small",{className:"promoted left-icon"},r.default.createElement(c.Icon,{iconName:"fa-badge-promoted",height:"13",color:"wp-neutral-1"}),r.default.createElement("span",{dangerouslySetInnerHTML:{__html:N("Promoted by %s",(0,i.sprintf)("<b>%s</b>",b))}})):r.default.createElement(n.Fragment,null,r.default.createElement("div",{className:"meta"},r.default.createElement("span",{className:"reads small left-icon"},r.default.createElement(c.Icon,{iconName:"fa-view",height:"12",color:"wp-neutral-2"}),(0,s.count)(h)),r.default.createElement("span",{className:"votes small left-icon"},r.default.createElement(c.Icon,{name:"votes",size:"12",color:"wp-neutral-2",fill:!0}),(0,s.count)(g)),y&&r.default.createElement("span",{className:"comments small left-icon"},r.default.createElement(c.Icon,{name:"commentMeta",size:"14",color:"wp-neutral-2",fill:!0}),(0,s.count)(y))),r.default.createElement("div",{className:"categories"},m&&m.map(function(e){return r.default.createElement("button",{key:e,className:"btn btn-link btn-xxs btn-category"},r.default.createElement("span",null,e))}))),v&&r.default.createElement("pre",{className:"small story-item-description"},(0,s.simpleShorten)(v,S,!0,{sanitization:"unsanitize"}))))}f.propTypes={promoted:l.default.bool,url:l.default.string,id:l.default.any,cover:l.default.string,title:l.default.string,user:l.default.object,categories:l.default.array,readCount:l.default.any,voteCount:l.default.any,commentCount:l.default.any,description:l.default.string,sponsorName:l.default.string,clickUrl:l.default.string,impressionUrl:l.default.string,isPaywalled:l.default.bool,descCharLimit:l.default.any},t.StoryItem=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=c(a(0)),l=c(a(1)),i=a(80),s=c(a(58)),u=c(a(116));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"tagClickHandler",value:function(e){window.wattpad.utils.stopEvent(e),window.app.trigger("app:component:TagCarouselItem:click",e.currentTarget.textContent,e)}},{key:"render",value:function(){var e=this,t=this.props.relatedTags.tags,a=this.props.relatedTags.withIcon||!1;return t&&t.length>0?o.default.createElement("div",{className:"tag-carousel"},o.default.createElement("div",{className:"tag-items"},t.map(function(t,r){return a?o.default.createElement(u.default,n({key:t.id},t,{clickHandler:e.tagClickHandler})):o.default.createElement(s.default,n({key:t.id,bgColor:e.getNextTagColor(r,"bg"),color:e.getNextTagColor(r)},t,{clickHandler:e.tagClickHandler}))}))):null}},{key:"getNextTagColor",value:function(e,t){var a=e%i.TAG_NUM_COLOURS;return"bg"===t?i.TAG_BG_COLOURS[a]:i.TAG_TEXT_COLOURS[a]}}]),t}();t.default=d,d.propTypes={relatedTags:l.default.object.isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=i(a(1)),o=i(a(0)),l=a(5);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=this.props.promoName,t=this.props.promoOptions,a=t.flavourText,n=t.button,r=this.props.trans;return o.default.createElement("div",{className:"banner-background",id:e+"-banner"},o.default.createElement("div",{className:"banner-info"},a?o.default.createElement("div",{className:"flavour-text"},r(a)):null,n?o.default.createElement("a",{href:n.link,className:"btn btn-orange banner-btn"},r(n.text)):null))}}]),t}();s.propTypes={promoName:r.default.string.isRequired,promoOptions:r.default.object.isRequired,trans:r.default.func.isRequired},t.default=(0,l.injectTrans)(s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvaButton=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=u(r),l=a(6),i=u(a(1)),s=a(5);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var l=t[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.CanvaButton){e.next=2;break}return e.abrupt("return");case 2:if(window.canvaApi){e.next=6;break}return e.next=5,window.CanvaButton.initialize({apiKey:i});case 5:window.canvaApi=e.sent;case 6:window.canvaApi.createDesign({type:"WattpadBookCover",publishLabel:c("Use Cover"),onDesignPublish:h}),(t=m())&&window.canvaApi.editDesign({designId:t,publishLabel:c("Update Cover"),onDesignPublish:h});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),a=e.createCanvaCover,i=e.canvaApiKey,u=e.story,c=(0,l.useTrans)().trans,d=(0,r.useState)(0),f=n(d,2)[1];(0,r.useEffect)(function(){var e="canva-script";if(!document.getElementById(e)){var t=void 0,a=void 0;(a=document.createElement("script")).id=e,t=document.getElementsByTagName("script")[0],a.src="https://sdk.canva.com/v2/beta/api.js",t.parentNode.insertBefore(a,t)}},[]);var p="canva-cover-"+u.id,m=function(){return u.id?(0,s.getStorageItem)({key:p}):null};function h(e){(0,s.setStorageItem)({key:p,value:e.designId}),a(e),f(function(e){return!e})}return o.default.createElement("button",{className:"canva-btn canva-btn-size-s",onClick:t},o.default.createElement("span",{className:"canva-btn-i"}),m()?c("Edit Cover"):c("Create Cover"))}c.propTypes={createCanvaCover:i.default.func,canvaApiKey:i.default.string.isRequired,story:i.default.object},t.CanvaButton=c},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=u(a(0)),o=u(a(26)),l=u(a(1)),i=a(3),s=a(80);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.getSelectedPremiumTheme=function(){var e=m?m.getCookie(s.PREMIUM_COOKIE):a.props.reqCookies[s.PREMIUM_COOKIE];return parseInt(e||s.DEFAULT_PREMIUM_THEME)},a.selectTheme=function(e){if(e!==a.state.selectedTheme){var t=a.isPremium();t?(m.setPremiumTheme(e),a.setState({selectedTheme:e})):e!==s.DEFAULT_THEME&&a.props.showSubscriptionModal();var n=s.THEME_ID_NAME[e];p.te.push("event","profile","theme",null,"change",{premium:+t,theme:n})}};var n=a.isPremium()?a.getSelectedPremiumTheme():s.DEFAULT_THEME;return a.state={selectedTheme:n},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"isPremium",value:function(){var e=this.props.premium;return void 0===e&&m&&(e=m.getCurrentUserAttr("premium")),e}},{key:"render",value:function(){var e=this,t=o.default.range(1,s.NUM_PREMIUM_THEMES+1);return r.default.createElement("div",null,t.map(function(t){return r.default.createElement("div",{key:t,className:"theme-option-wrapper"},r.default.createElement(d,{themeId:t,selected:t===e.state.selectedTheme,premium:e.isPremium(),selectTheme:e.selectTheme}))}))}}]),t}();c.propTypes={premium:l.default.bool.isRequired,reqCookies:l.default.object,showSubscriptionModal:l.default.func},t.default=c;var d=function(e){var t=e.themeId,a=e.selected,n=e.premium,o=e.selectTheme,l=n||t===s.DEFAULT_THEME?"":"unavailable";return r.default.createElement("div",{className:"theme-option theme-"+t+" "+(a?"selected":"")},r.default.createElement("div",{className:"theme-option-inner theme-"+t+" "+l,onClick:function(){return o(t)},onKeyDown:function(){return o(t)},role:"option",tabIndex:"0","aria-selected":a},r.default.createElement(f,{selected:a})))};d.propTypes={themeId:l.default.number.isRequired,selected:l.default.bool.isRequired,premium:l.default.bool.isRequired,selectTheme:l.default.func.isRequired};var f=function(e){var t=e.selected,a=r.default.createElement("div",null);return t&&(a=r.default.createElement(i.Icon,{iconName:"fa-check",height:"24",color:"wp-neutral-5"})),a};f.propTypes={selected:l.default.bool.isRequired};var p=p||e,m=o.default.get(p,"wattpad.utils")}).call(this,a(21))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),r=m(n),o=m(a(1)),l=a(11),i=m(a(117)),s=m(a(174)),u=a(3),c=a(27),d=a(67),f=a(113),p=a(6);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){var t=e.username,a=e.avatar,o=e.name,l=e.backgroundUrl,c=e.highlight_colour,d=e.numFollowers,m=e.numStoriesPublished,h=e.numLists,g=e.toggleModal,y=e.toggleToast,v=e.onUnmute,b=e.recentlyMuted,w=(0,p.useTrans)().trans;(0,n.useEffect)(function(){return y({className:"mute",body:w("%s is muted. You can unmute them at any time from their profile.",t)}),function(){y()}},[b,w,t,y]);return r.default.createElement("div",{id:"muted-profile",className:"profile-layout"},r.default.createElement(i.default,{username:t,avatar:a,name:o,backgroundUrl:l,highlight_colour:c,numFollowers:d,numStoriesPublished:m,numLists:h,onUnmute:function(){var e={username:t,toggleModal:g,onUnmute:v},a=function(){return r.default.createElement(s.default,e)};a.displayName="UnmuteModal",g({type:"unmute",className:"mute-modal",hideClose:!0,component:a})}}),b&&r.default.createElement(f.Toast,null),r.default.createElement(u.WPModal,null))};h.propTypes={username:o.default.string.isRequired,backgroundUrl:o.default.string,avatar:o.default.string,highlight_colour:o.default.string,numStoriesPublished:o.default.number,numLists:o.default.number,numFollowers:o.default.number,name:o.default.string,toggleModal:o.default.func,toggleToast:o.default.func,onUnmute:o.default.func,recentlyMuted:o.default.bool},t.default=(0,l.connect)(null,{toggleModal:c.toggleModal,toggleToast:d.toggleToast})(h)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(a(0)),r=a(11),o=u(a(1)),l=a(3),i=a(27),s=u(a(173));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.username,a=e.unmuteUser,r=e.toggleModal,o=e.isMuted;return n.default.createElement("div",null,n.default.createElement(l.MoreOptionsButton,null),n.default.createElement("div",{className:"triangle"}),n.default.createElement("div",{className:"dropdown-menu align-right"},n.default.createElement(l.UserSafetyOperations,{username:t,isLoading:!1,isBlockedByCurrentUser:o,onMuteUser:function(){var e={username:t,toggleModal:r},a=function(){return n.default.createElement(s.default,e)};a.displayName="MuteModal",r({type:"mute",className:"mute-modal",hideClose:!0,component:a})},onUnmuteUser:a,onReportUser:function(){}})),n.default.createElement(l.WPModal,null))};c.propTypes={username:o.default.string.isRequired,toggleModal:o.default.func,isMuted:o.default.bool,mutedUsers:o.default.array,unmuteUser:o.default.func};var d=(0,r.connect)(null,{toggleModal:i.toggleModal})(c);t.default=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),r=d(a(1)),o=a(0),l=d(o),i=a(27),s=a(6),u=a(3),c=d(a(117));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.toggleModal;return(0,o.useEffect)(function(){return t({className:"user404",disableClose:!0,component:function(){return l.default.createElement(p,null)}}),function(){t()}},[t]),l.default.createElement("div",{id:"userError-404"},l.default.createElement(c.default,null),l.default.createElement(u.WPModal,null))}function p(){var e=(0,s.useTrans)().trans;return l.default.createElement("div",{className:"user-not-found"},l.default.createElement("h3",null,e("User not found")),l.default.createElement("p",null,e("This user no longer exists, or is only visible to a selected audience.")),l.default.createElement("div",{className:"modal-btns"},l.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"btn btn-sm btn-block learn-more",href:"https://support.wattpad.com/hc/en-us/articles/360029365812"},e("Learn more")),l.default.createElement("button",{className:"btn btn-sm btn-block go-back",onClick:function(){window.history.back()}},l.default.createElement("span",null," ",e("Go back")," "))))}f.propTypes={toggleModal:r.default.func.isRequired};var m=(0,n.connect)(null,{toggleModal:i.toggleModal})(f);t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(6),o=a(3);t.default=function(){var e=(0,r.useTrans)().trans;return n.default.createElement("div",{id:"story-404-wrapper"},n.default.createElement(o.ConnectImage,{name:"errors/story-404.svg",className:"error-404-image"}),n.default.createElement("h3",null,e("This page got lost in a good story and never came back.")),n.default.createElement("p",null,e("We couldn’t find what you’re looking for. This page might have moved, no longer exists, or is only visible to a selected audience.")),n.default.createElement("div",{className:"buttons-404"},n.default.createElement("a",{className:"btn btn-cta-grey on-navigate",href:"/home"},e("Go home")),n.default.createElement("button",{className:"btn btn-cta-black",onClick:function(){window.history.back()}},e("Back"))))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoryPartPaywall=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=y(a(26)),o=y(a(7)),l=y(a(1)),i=y(a(0)),s=a(3),u=a(452),c=a(5),d=a(27),f=y(a(118)),p=y(a(119)),m=a(183),h=a(11),g=y(a(453));function y(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var b=t.StoryPartPaywall=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.scrollAbovePaywall=function(){var e=n.paywallRef.getBoundingClientRect(),t=window.scrollY+e.y-25;window.scrollTo({top:t,behavior:"smooth"})},n.onPurchase=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=n.props,l=o.buyPaidContent,s=o.blockedPart,d=o.fetchWalletBalance,f=o.startPaidContentPurchase,p=o.markPaidContentPurchaseSuccessful,m=o.finishPaidContentPurchase,h=o.trans,y=o.isDesktop,v=o.group,b=o.toggleModal,w=o.amount,_=o.onBuyCoins,T=o.currentPartIsBlocked;if(!(e<=w))return window.te.push("event","paywall","purchase",null,"failed",{page:"reading",storyid:t,partid:a,cost:e,starting_balance:w,part_index:N}),void _();y||n.scrollAbovePaywall();var S=function(){return window.te.push("event","paywall","purchase",null,"cancelled",{page:"reading",storyid:t,partid:a,cost:e,part_index:N,content_type:a?"part":"story"})},N=(0,c.getIndexForPartId)(s.id,v);void 0!==a||r?Promise.all([l(e,t,a,N),f(e,a)]).then(function(){return d(),p()}).then(m).then(function(){var e="/"+s.id;window.app.router.navigate(e,{trigger:!0}),setTimeout(function(){var e=n.props.group.user,t=g.default.renderToString(i.default.createElement(E,{trans:h,user:e}));window.wattpad.utils.showToast(t,{dismissAfterDuration:6e3})},700)}).catch(function(){m()}):b({component:function(r){var o=r.toggleModal;return i.default.createElement(u.PurchaseConfirmationModal,{onPurchase:function(){n.onPurchase(e,t,a,!0)},onCancelPurchase:S,toggleModal:o,currentPartIsBlocked:T,isPurchasingStory:!a,price:e})},className:"purchase-confirmation",onCloseModal:S})},n.renderAuthorDetails=function(){var e=n.props,t=e.isDesktop,a=e.group,r=e.trans,o=a.user,l=a.description,u=o.username,d=o.name,f=o.avatar;return t?i.default.createElement("div",{className:"author-info desktop"},i.default.createElement("a",{className:"on-navigate",href:"/user/"+u},i.default.createElement("div",{className:"avatar avatar-lg center-block"},i.default.createElement(s.Avatar,{avatar:f,username:u}))),i.default.createElement("div",{className:"info"},i.default.createElement("a",{className:"on-navigate",href:"/user/"+u},i.default.createElement("span",{className:"center-block",dangerouslySetInnerHTML:{__html:r("by <strong>%s</strong>",d)}})),i.default.createElement("a",{className:"on-navigate",href:"/user/"+u},i.default.createElement("div",null,"@"+u)),i.default.createElement("div",{className:"description"},(0,c.simpleShorten)(l,70)))):i.default.createElement("div",{className:"author-info mobile"},i.default.createElement("div",{className:"avatar avatar-sm center-block"},i.default.createElement(s.Avatar,{avatar:f,username:u})),i.default.createElement("span",{dangerouslySetInnerHTML:{__html:r('by <a href=%s class="on-navigate">%s</a>',"/user/"+u,u)}}))},n.getConditionalCopy=function(e,t,a,n){var r=n(e?"Unlock this part":"Unlock next part"),o=void 0;o=n(e?t?"Unlock this story part or the entire story.":"Unlock this story part.":t?"Unlock a new story part or the entire story.":"Unlock a new story part.");var l=n(t?"Either way, your Coins help writers earn money for the stories you love.":"Your Coins help writers earn money for the stories you love.");return{buyPartCopy:r,supportCtaCopy:a||o+" "+l}},v(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),n(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.blockedPart,a=e.amount,n=e.group;if(t){var r=(0,c.getIndexForPartId)(t.id,n);window.te.push("event","paywall",null,null,"view",{page:"reading",storyid:n.id,partid:t.id,starting_balance:a,part_index:r})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.blockedPart,n=t.currentPartIsBlocked,l=t.group,u=t.storyPrice,c=t.remainingBlockedParts,d=t.purchase,m=t.isDesktop,h=t.isPaidPreview,g=t.trans,y=t.showStoryPaywallModal,v=t.onBuyCoins,b=l.user,w=l.id,E=l.completed,_=b.username,T=b.name,S=a.price,N=a.id,O=a.blockedMessage,C=d.isPurchasing,k=r.default.isNumber(u),P=E&&k,M=h,R=this.getConditionalCopy(n,P,O,g),I=R.buyPartCopy,j=R.supportCtaCopy;return i.default.createElement("div",{className:"story-part-paywall",ref:function(t){return e.paywallRef=t}},i.default.createElement("div",{className:"lock-circle"},i.default.createElement(s.Icon,{iconName:"fa-lock",height:"16",color:"wp-neutral-2"})),!m&&i.default.createElement(p.default,{onWalletClick:v}),i.default.createElement("div",{className:"cta"},i.default.createElement("h2",null,g("Show your support for %s, and continue reading this story",T)),this.renderAuthorDetails(),i.default.createElement("div",{className:"become-a-supporter"},j)),i.default.createElement("div",null,P&&i.default.createElement("button",{onClick:function(){return e.onPurchase(u,w)},className:(0,o.default)("btn btn-orange unlock unlock-story",{disabled:C})},M&&i.default.createElement("span",{className:"purchase-discount"},g("Save %s%%",20)),i.default.createElement("span",{className:"cost"},i.default.createElement(f.default,{height:"24px",width:"24px"}),i.default.createElement("span",{className:"price"},u)),i.default.createElement("span",{className:"unlock-copy"},i.default.createElement("strong",null,g("Unlock whole story")))),i.default.createElement("button",{onClick:function(){return e.onPurchase(S,w,N)},className:(0,o.default)("btn btn-orange unlock unlock-part",{disabled:C})},i.default.createElement("span",{className:"cost"},i.default.createElement(f.default,{height:"24px",width:"24px"}),i.default.createElement("span",{className:"price"},S)),i.default.createElement("span",{className:"unlock-copy"},i.default.createElement("strong",null,I)))),i.default.createElement("div",{className:"more-details"},P&&i.default.createElement("p",{dangerouslySetInnerHTML:{__html:g("This story has <strong>%s remaining parts</strong>",c)}}),g("See how Coins support your favorite writers like @%s.",_)," ",i.default.createElement("a",{href:"#",onClick:y},g("Learn more"))))}}]),t}();b.propTypes={blockedPart:l.default.shape({price:l.default.number,id:l.default.number.isRequired,blockedMessage:l.default.string}),currentPartIsBlocked:l.default.bool.isRequired,storyPrice:l.default.number,isDesktop:l.default.bool.isRequired,isPaidPreview:l.default.bool.isRequired,amount:l.default.number.isRequired,group:l.default.shape({user:l.default.shape({username:l.default.string.isRequired,name:l.default.string.isRequired}),description:l.default.string.isRequired,id:l.default.string.isRequired,completed:l.default.bool}),remainingBlockedParts:l.default.number.isRequired,buyPaidContent:l.default.func,fetchWalletBalance:l.default.func.isRequired,startPaidContentPurchase:l.default.func.isRequired,markPaidContentPurchaseSuccessful:l.default.func.isRequired,finishPaidContentPurchase:l.default.func.isRequired,purchase:l.default.shape({isPurchasing:l.default.bool.isRequired,amountSpent:l.default.number.isRequired,buyingPart:l.default.bool.isRequired}).isRequired,trans:l.default.func.isRequired,toggleModal:l.default.func.isRequired,showStoryPaywallModal:l.default.func,onBuyCoins:l.default.func.isRequired};var w={fetchWalletBalance:m.fetchWalletBalance,startPaidContentPurchase:m.startPaidContentPurchase,markPaidContentPurchaseSuccessful:m.markPaidContentPurchaseSuccessful,finishPaidContentPurchase:m.finishPaidContentPurchase,toggleModal:d.toggleModal};function E(e){var t=e.user,a=e.trans,n=t.name,r=t.username,o=t.avatar;return i.default.createElement("div",{style:{display:"flex"}},i.default.createElement("div",{className:"avatar avatar-md",style:{flexShrink:0,marginRight:12}},i.default.createElement(s.Avatar,{avatar:o,username:r})),i.default.createElement("div",{style:{lineHeight:"normal"}},i.default.createElement("div",{style:{fontSize:17,fontWeight:600,marginBottom:5}},n),i.default.createElement("div",null,"“",a("Thank you for the support! I hope you enjoy the story!"),"”")))}t.default=(0,h.connect)(function(e){return{purchase:e.purchase,amount:e.wallet.amount}},w)((0,c.injectTrans)(b)),E.propTypes={user:l.default.shape({username:l.default.string.isRequired,name:l.default.string.isRequired,avatar:l.default.string.isRequired}),trans:l.default.func.isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PurchaseConfirmationModal=s;var n=i(a(0)),r=i(a(1)),o=a(6),l=i(a(118));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.onPurchase,a=e.onCancelPurchase,r=e.toggleModal,i=e.currentPartIsBlocked,s=e.price,u=e.isPurchasingStory,c=(0,o.useTrans)().trans,d=void 0,f=void 0;return u?(d=c("Unlock whole story"),f=c("You are about to use %s Coins to unlock this story",s)):i?(d=c("Unlock this part"),f=c("You are about to use %s Coins to unlock this part",s)):(d=c("Unlock next part"),f=c("You are about to use %s Coins to unlock the next part",s)),n.default.createElement(n.default.Fragment,null,n.default.createElement("h3",null,f),n.default.createElement("div",{className:"purchase-options"},n.default.createElement("button",{onClick:function(){a(),r()},className:"btn btn-grey cancel"},c("Cancel")),n.default.createElement("button",{onClick:function(){r(),t()},className:"btn btn-orange confirm-unlock"},n.default.createElement(l.default,{width:"24px",height:"24px"}),n.default.createElement("span",null,d))))}s.propTypes={onPurchase:r.default.func.isRequired,onCancelPurchase:r.default.func.isRequired,toggleModal:r.default.func.isRequired,currentPartIsBlocked:r.default.bool.isRequired,price:r.default.number.isRequired,isPurchasingStory:r.default.bool.isRequired}},,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=i(a(1)),o=a(3),l=a(5);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.group,a=e.authorMessage,r=e.onBuyCoins,l=e.trans,i=t.user,s=i.username,u=i.name,c=i.avatar;return n.default.createElement("div",{className:"story-paywall"},n.default.createElement("span",{"data-dismiss":"modal"},n.default.createElement(o.Icon,{iconName:"fa-remove",height:"20",color:"wp-neutral-2"})),n.default.createElement("h2",null,l("If you are enjoying this story, please consider helping fund my writing")),n.default.createElement("div",{className:"avatar"},n.default.createElement(o.Avatar,{avatar:c,username:s})),n.default.createElement("a",{className:"on-navigate profile-link",href:"/user/"+s},"@",s),n.default.createElement("div",{className:"blocked-message"},n.default.createElement("span",{className:"italic"},a),n.default.createElement("div",{className:"author-name"},u)),n.default.createElement("button",{onClick:r,className:"btn btn-orange unlock unlock-part"},l("Get Coins to support me")),n.default.createElement("div",{className:"more-details"},l("When you unlock stories with Coins you are directly supporting writers, so they can keep writing stories you love.")," ",n.default.createElement("a",{href:"https://www.wattpad.com/paidstories/",target:"_blank",rel:"noopener noreferrer"},l("Learn how your support is empowering writers"))))};s.propTypes={group:r.default.shape({user:r.default.shape({username:r.default.string.isRequired,avatar:r.default.string.isRequired,name:r.default.string.isRequired}).isRequired}).isRequired,authorMessage:r.default.string.isRequired,onBuyCoins:r.default.func.isRequired,trans:r.default.func.isRequired},t.default=(0,l.injectTrans)(s)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=p(a(26)),o=a(11),l=p(a(7)),i=p(a(1)),s=a(0),u=p(s),c=a(5),d=a(6),f=p(a(119));function p(e){return e&&e.__esModule?e:{default:e}}function m(e){var t=(0,s.useState)(function(){var e=!1;if((0,c.isClient)()){var t=parseInt(window.wattpad.utils.getCookie("seen-wallet-onboard"))||!1;e=!!r.default.get(window,"wattpad.testGroups.PAID_ONBOARDING")&&!t}return e}()),a=n(t,2),o=a[0],i=a[1];if(!o)return u.default.createElement(f.default,e);var d=e.isDesktop;return u.default.createElement("div",{className:(0,l.default)("wallet-onboarding",{desktop:d})},u.default.createElement("div",{className:"wallet-overlay"}),u.default.createElement("div",{className:"wallet-bubble"},u.default.createElement(h,{onOnboardingFinish:function(){window.wattpad.utils.setCookie("seen-wallet-onboard",1),i(!1)}}),u.default.createElement(f.default,e)))}function h(e){var t=e.onOnboardingFinish,a=(0,d.useTrans)().trans;return u.default.createElement("div",{className:"tooltip-content"},u.default.createElement("h6",null,a("Keep track of your Coin balance")),u.default.createElement("p",null,a("Visit the Coin Shop on the Wattpad mobile app to purchase Coins for Paid Stories")),u.default.createElement("button",{onClick:t,className:"btn ack-tooltip"},a("Got it")),u.default.createElement("div",{className:"arrow"}))}m.propTypes={isDesktop:i.default.bool.isRequired},h.propTypes={onOnboardingFinish:i.default.func.isRequired};var g=(0,o.connect)(function(e){return{isDesktop:e.deviceData.isDesktop}})(m);t.default=g},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showPaidOnboardingModal=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.OnboardingContent=g;var r=a(11),o=h(a(83)),l=h(a(7)),i=h(a(1)),s=a(0),u=h(s),c=a(3),d=a(5),f=a(75),p=a(27),m=a(6);function h(e){return e&&e.__esModule?e:{default:e}}function g(e){var t=e.onOnboardingFinish,a=void 0===t?function(){}:t,r=e.toggleModal,i=e.premium,p=(0,m.useTrans)().trans,h=(0,s.useRef)(null);function g(){h.current.onResize()}var b=(0,s.useState)(!1),w=n(b,2),E=w[0],_=w[1],T=function(){!function(){if(!(0,d.isClient)())throw new Error("Can only be run on client");window.wattpad.utils.setCookie("seen-paid-onboard",1)}(),r(),a()},S=(0,f.ONBOARDING_SLIDES)(p);return i||(S=S.filter(function(e){return!e.showToPremiumOnly})),u.default.createElement("div",{className:"onboarding-modal"},E&&u.default.createElement("button",{className:"btn-no-style",onClick:T},u.default.createElement(c.Icon,{iconName:"fa-remove",color:"wp-neutral-1",height:"22",className:"close-btn"})),u.default.createElement(o.default,{dragging:!0,slidesToShow:1,ref:h,afterSlide:function(e){e===S.length-1&&_(!0)},renderCenterLeftControls:null,renderCenterRightControls:null,renderBottomCenterControls:function(e){var t=e.nextSlide,a=e.goToSlide,n=e.currentSlide,r=e.previousSlide,o=n===e.slideCount-1,i=0===n,s=o?T:t,c=p(o?"Got it":"Next");return u.default.createElement("div",{className:"carousel-controls"},u.default.createElement(y,{slides:S,goToSlide:a,currentSlide:n}),u.default.createElement("button",{className:"btn btn-orange onboarding-nav nav-next",onClick:s},c),u.default.createElement("button",{className:(0,l.default)("btn btn-no-background onboarding-nav nav-back",{invisible:i}),onClick:r},p("Back")))}},S.map(function(e){var t=e.title,a=e.content,n=e.imageUrl,r=e.learnMoreLink;return u.default.createElement(v,{key:t,onImageLoad:g,title:t,content:a,imageUrl:n,learnMoreLink:r})})))}function y(e){var t=e.slides,a=e.goToSlide,n=e.currentSlide;return u.default.createElement("div",{className:"paging-buttons"},t.map(function(e,t){var r=t===n?"wp-neutral-2":"wp-neutral-3";return u.default.createElement("button",{className:"btn btn-no-background",key:t,onClick:function(){return a(t)}},u.default.createElement(c.Icon,{iconName:"fa-circle-filled",height:"10",color:r}))}))}g.propTypes={onOnboardingFinish:i.default.func,toggleModal:i.default.func.isRequired,premium:i.default.bool.isRequired},y.propTypes={slides:i.default.array.isRequired,goToSlide:i.default.func.isRequired,currentSlide:i.default.number.isRequired};var v=function(e){var t=e.title,a=e.content,n=e.imageUrl,r=e.onImageLoad,o=e.learnMoreLink,l=(0,m.useTrans)().trans;return u.default.createElement("div",{className:"slide"},u.default.createElement("div",{className:"slide-pane slide-image"},u.default.createElement(c.ConnectImage,{width:"150",onLoad:r,name:n})),u.default.createElement("div",{className:"slide-pane slide-copy"},u.default.createElement("h4",null,t),u.default.createElement("span",null,a),o&&u.default.createElement(u.default.Fragment,null,". ",u.default.createElement("a",{className:"learn-more",href:o,target:"_blank",rel:"noopener noreferrer"},l("Learn more")))))};v.propTypes={title:i.default.string.isRequired,content:i.default.string.isRequired,imageUrl:i.default.string.isRequired,learnMoreLink:i.default.string,onImageLoad:i.default.func};var b={toggleModal:p.toggleModal},w=(0,r.connect)(null,b)(g);t.showPaidOnboardingModal=function(e){window.store.dispatch((0,p.toggleModal)({component:function(){return u.default.createElement(w,e)},disableClose:!0}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showBuyCoinsModal=void 0;var n=a(0),r=c(n),o=c(a(1)),l=c(a(7)),i=a(3),s=a(27),u=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){var t=e.isDesktop,a=e.appLink,o=e.trackCoinsEvents,l=e.thankForInterest,i=void 0!==l&&l;(0,n.useEffect)(function(){return o(null,"view"),function(){o(null,"dismiss")}},[o]);var s=(0,u.useTrans)().trans;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"coins-cta background"},r.default.createElement("h3",null,s(i?"Thank you for your interest! You can purchase Coins on the app.":"Unlock Paid Stories with Coins")),r.default.createElement("p",null,s("Once you purchase Coins, you can unlock stories, and support writers, anywhere you use Wattpad - both on the app and on web!"))),r.default.createElement("div",{className:"how-to-buy"},t?r.default.createElement(p,{trans:s,learnMoreLink:"https://www.wattpad.com/paidstories/"}):r.default.createElement(f,{trans:s,appLink:a,onApplinkClick:function(){return o("purchase_cta","click")}})))};d.propTypes={isDesktop:o.default.bool.isRequired,appLink:o.default.string,trackCoinsEvents:o.default.func.isRequired,thankForInterest:o.default.bool};var f=function(e){var t=e.appLink,a=e.trans,n=e.onApplinkClick;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",null,r.default.createElement(m,{num:1},a("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),r.default.createElement(m,{num:2},a("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),r.default.createElement(m,{num:3},a("Choose and purchase a Coin bundle to unlock your favorite stories."))),r.default.createElement("a",{href:t,onClick:n,className:"btn btn-orange"},a("Go to the app")))};f.propTypes={appLink:o.default.string,trans:o.default.func.isRequired,onApplinkClick:o.default.func.isRequired};var p=function(e){var t=e.trans,a=e.learnMoreLink;return r.default.createElement(r.default.Fragment,null,r.default.createElement("div",{className:"row"},r.default.createElement(m,{num:1,isDesktop:!0},t("Open the Wattpad app on your mobile device and tap on the profile icon to go to your personal profile.")),r.default.createElement(m,{num:2,isDesktop:!0},t("Tap on the plus icon beside your Coin wallet to view the Coin Shop.")),r.default.createElement(m,{num:3,isDesktop:!0},t("Choose and purchase a Coin bundle to unlock your favorite stories."))),r.default.createElement("div",{className:"row instructions-images"},r.default.createElement(h,{step:"1"}),r.default.createElement(h,{step:"2"}),r.default.createElement(h,{step:"3"})),r.default.createElement("div",{className:"learn-more"},r.default.createElement("a",{href:a,target:"_blank",rel:"noopener noreferrer"},t("Learn how your support is empowering writers"))))};p.propTypes={trans:o.default.func.isRequired,learnMoreLink:o.default.string.isRequired};var m=function(e){var t=e.num,a=e.isDesktop,n=e.children;return r.default.createElement("div",{className:(0,l.default)("cta-step",{"col-sm-4":a})},r.default.createElement("div",{className:"step-circle"},r.default.createElement("div",null,t)),r.default.createElement("p",{className:"step-instruction"},n))};m.propTypes={num:o.default.number.isRequired,children:o.default.node.isRequired,isDesktop:o.default.bool};var h=function(e){var t=e.step;return r.default.createElement("div",{className:"col-sm-4"},r.default.createElement(i.ConnectImage,{name:"paid-content/buy-coins-step-"+t+".png"}))};h.propTypes={step:o.default.string.isRequired};t.showBuyCoinsModal=function(e){var t=e.isDesktop;window.store.dispatch((0,s.toggleModal)({className:(0,l.default)("buy-coins",{desktop:t,mobile:!t}),component:function(){return r.default.createElement(d,e)}}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=T(o),i=T(a(1)),s=a(11),u=a(3),c=a(5),d=T(a(460)),f=T(a(465)),p=T(a(466)),m=T(a(467)),h=T(a(468)),g=T(a(469)),y=a(470),v=a(471),b=a(472),w=a(27),E=T(a(187)),_=T(a(191));function T(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var N=function(e){function t(){var e,a,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return a=r=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.toggleModal=function(e){var t=e.type,a=void 0===t?"login":t,o=e.source,i=void 0===o?"":o,s={model:r.props.model,nextURL:r.props.nextURL};switch(a){case"signup":r.props.toggleModal({className:"signup-modal",component:function(){return l.default.createElement(E.default,n({},s,{source:i}))}});break;case"login":r.props.toggleModal({className:"login-modal",component:function(){return l.default.createElement(_.default,s)}})}},S(r,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return l.default.createElement("div",{id:"landing"},l.default.createElement(d.default,{toggleModal:this.toggleModal}),l.default.createElement(f.default,{toggleModal:this.toggleModal}),l.default.createElement("div",{id:"Intro"},l.default.createElement(b.SeeYourStory,null),l.default.createElement(v.WattpadStudios,null),l.default.createElement(y.WattpadBooks,null)),l.default.createElement("div",{id:"FindOutMore"},l.default.createElement("a",{href:"/writers",target:"_blank",rel:"noopener noreferrer"},l.default.createElement("h4",null,this.props.trans("Find out more about what we do for writers")," →"))),l.default.createElement(p.default,null),l.default.createElement(m.default,null),l.default.createElement(h.default,null),l.default.createElement(g.default,{toggleModal:this.toggleModal}),l.default.createElement(u.WPModal,null))}}]),t}();N.propTypes={model:i.default.object,root:i.default.string,nextURL:i.default.string,toggleModal:i.default.func,hybridLayout:i.default.bool,trans:i.default.func.isRequired};var O=(0,s.connect)(null,{toggleModal:w.toggleModal})(N);t.default=(0,c.injectTrans)(O)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=h(r),l=h(a(1)),i=a(11),s=a(3),u=a(5),c=h(a(184)),d=h(a(461)),f=h(a(462)),p=h(a(463)),m=h(a(464));function h(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.trans,n=t.translatedLangs,r=t.locale,l=n.find(function(e){return e.locale===r});return o.default.createElement("nav",{id:"WPNavbar",role:"navigation",className:"container"},o.default.createElement("div",{id:"header-item-logo"},o.default.createElement("a",{href:"/",title:"Wattpad Home","aria-label":"Home"},o.default.createElement(s.ConnectImage,{name:"/logos/wp-logo-orange.png",title:"Wattpad",width:"123",className:"wp-logo hidden-xs"}))),o.default.createElement(f.default,null),function(e){return"en"===e.code}(l)&&o.default.createElement("a",{href:"/writers"},a("Writer Opportunities")),o.default.createElement(c.default,{id:"community-dropdown",label:a("Community")},o.default.createElement(d.default,{trans:a})),o.default.createElement(p.default,{trans:a}),o.default.createElement("div",{id:"authentication"},o.default.createElement("div",null,o.default.createElement("button",{className:"btn btn-sm",onClick:function(){e.props.toggleModal({type:"login"})}},a("Log in"))),o.default.createElement(c.default,{id:"language-dropdown",label:l.name},o.default.createElement(m.default,{translatedLangs:n}))))}}]),t}();g.propTypes={toggleModal:l.default.func,trans:l.default.func.isRequired,translatedLangs:l.default.array.isRequired,locale:l.default.string.isRequired};t.default=(0,i.connect)(function(e){return{translatedLangs:e.appData.translatedLangs,locale:e.userData.locale}})((0,u.injectTrans)(g))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=i(r),l=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this.props.trans;return o.default.createElement("div",{className:"dropdown-menu large","aria-labelledby":"community-dropdown"},o.default.createElement("ul",{"aria-label":"Community"},o.default.createElement("li",null,o.default.createElement("a",{href:"https://www.wattpadwriters.com"},e("Community"))),o.default.createElement("li",null,o.default.createElement("a",{href:"/awards"},e("The Wattys"))),o.default.createElement("li",null,o.default.createElement("a",{href:"/go/writing-contests/"},e("Writing Contests"))),o.default.createElement("li",null,o.default.createElement("a",{href:"/writers"},e("Writers")))))}}]),t}();s.propTypes={trans:l.default.func.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=u(r),l=u(a(1)),i=u(a(184)),s=a(6);function u(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.browseTopics,a=e.curatedLists,n=(0,s.useTrans)().trans;return o.default.createElement("div",{className:"dropdown-menu large","aria-labelledby":"browse-dropdown"},o.default.createElement("div",{className:"col-xs-9 discover-categories"},o.default.createElement("ul",{className:"row"},o.default.createElement("li",{className:"title col-xs-12","aria-label":"Browse Topics"},n("Browse")),t.map(function(e){var t=e.name,a=e.topic;return o.default.createElement("li",{className:"col-xs-4",key:t},o.default.createElement("a",{href:"/stories/"+t},n(a)))}))),o.default.createElement("div",{className:"col-xs-3 wattpad-picks"},o.default.createElement("ul",{className:"row"},o.default.createElement("li",{className:"title col-xs-12","aria-label":"Wattpad Picks"},n("Wattpad Picks")),a.map(function(e){var t=e.name,a=e.id;return o.default.createElement("li",{className:"col-xs-12",key:t},o.default.createElement("a",{href:"/featured/"+a},n(t)))}))))}c.propTypes={browseTopics:l.default.array.isRequired,curatedLists:l.default.array.isRequired},t.default=function(){var e=(0,s.useTrans)().trans,t=(0,r.useState)([]),a=n(t,2),l=a[0],u=a[1],d=(0,r.useState)([]),f=n(d,2),p=f[0],m=f[1];return(0,r.useEffect)(function(){var e=new app.collections.ReadingLists([],{username:"WattpadExplorer"}),t=new app.collections.BrowseTopics;Promise.all([e.fetchNextSet(),t.fetch()]).then(function(){u(wattpad.utils.sortByColumns(t.toJSON(),3)),m(e.toJSON())})},[]),o.default.createElement(i.default,{id:"discover-dropdown",label:e("Browse")},o.default.createElement(c,{browseTopics:l,curatedLists:p}))}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=s(r),l=a(3),i=s(a(1));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this.props.trans;return o.default.createElement("form",{id:"header-item-search",name:"search",role:"search",action:"/search/",method:"GET",autoComplete:"off"},o.default.createElement("button",{type:"submit"},o.default.createElement(l.Icon,{iconName:"fa-search",color:"wp-neutral-1",height:"16"})),o.default.createElement("input",{id:"search-query",name:"q",type:"text",spellCheck:"false",placeholder:e("Search"),"aria-label":"Search"}),o.default.createElement("input",{type:"hidden",name:"ref",value:"1"}))}}]),t}();u.propTypes={trans:i.default.func.isRequired},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=i(r),l=i(a(1));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.changeLanguage=function(e){wattpad.utils.setCookie("locale",e,3650,!0),window.location.reload()},s(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props.translatedLangs;return o.default.createElement("ul",{id:"language-options",className:"dropdown-menu align-right columns"},t.map(function(t){return o.default.createElement("li",{key:t.id,className:"col-xs-4 col-sm-3"},o.default.createElement("a",{href:"#",onClick:function(a){a.preventDefault(),e.changeLanguage(t.locale)}},t.name))}))}}]),t}();u.propTypes={translatedLangs:l.default.array.isRequired},t.default=u},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=c(r),l=c(a(1)),i=a(3),s=a(5),u=a(81);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props.trans;return o.default.createElement("div",{id:"Hero"},o.default.createElement("div",{className:"container content"},o.default.createElement("div",null,o.default.createElement("h2",null,t("Hi, we're Wattpad.")),o.default.createElement("h3",null,t("The world's most-loved social storytelling platform")),o.default.createElement("h4",null,t("Wattpad connects a global community of %s million readers and writers through the power of story.",u.WATTPAD_USER_COUNT)),o.default.createElement("div",{className:"buttons"},o.default.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_top"})}},t("Start Reading")),o.default.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"writer_top"})}},t("Start Writing")))),o.default.createElement("div",{className:"imageContainer"},o.default.createElement(i.ConnectImage,{name:"landing/hero-devices.png",title:"hero-devices"}))))}}]),t}();d.propTypes={toggleModal:l.default.func,trans:l.default.func.isRequired},t.default=(0,s.injectTrans)(d)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=c(o),i=c(a(1)),s=a(81),u=a(5);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.trans;return l.default.createElement("div",{id:"HowWattpadWorks"},l.default.createElement("div",{className:"container content"},l.default.createElement("h2",null,e("How Wattpad Works")),l.default.createElement("p",null,e("Get your story discovered through the power of community and technology on Wattpad.")),l.default.createElement("div",{id:"steps"},(0,s.HOW_WATTPAD_WORKS_STEPS)(e).map(function(e){return l.default.createElement(f,n({},e,{key:e.number}))}))))}}]),t}();d.propTypes={mobile:i.default.bool,trans:i.default.func.isRequired},t.default=(0,u.injectTrans)(d);var f=function(e){var t=e.number,a=e.title,n=e.description,r=e.stat;return l.default.createElement("div",{className:"stepContainer"},l.default.createElement("div",{className:"step"},l.default.createElement("h2",{className:"number"},t),l.default.createElement("div",null,l.default.createElement("h3",{className:"title"},a),l.default.createElement("p",{className:"description"},n))),l.default.createElement("div",{className:"dots"},[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(Array(6))).map(function(e,t){return l.default.createElement("span",{className:"dot",key:t})})),l.default.createElement("div",{className:"statBubble"},l.default.createElement("div",null,l.default.createElement("div",{className:"count",dangerouslySetInnerHTML:{__html:r.count}}),l.default.createElement("div",{className:"title"},r.title))))};f.propTypes={number:i.default.number,title:i.default.string,description:i.default.string,stat:i.default.object}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=p(o),i=p(a(83)),s=p(a(1)),u=p(a(7)),c=a(185),d=a(81),f=a(3);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){return l.default.createElement("div",{id:"Carousel"},l.default.createElement("div",{className:"container"},l.default.createElement(i.default,{autoplay:!0,wrapAround:!0,heightMode:"max",renderCenterLeftControls:null,renderBottomCenterControls:null,renderCenterRightControls:function(e){var t=e.nextSlide;return l.default.createElement("div",{onClick:t,onKeyDown:t,role:"button",tabIndex:"0"},l.default.createElement(f.ConnectImage,{name:"/landing/next-btn.svg"}))},renderBottomRightControls:function(e){var t=e.currentSlide,a=e.slideCount,n=e.goToSlide;return l.default.createElement("div",{className:"controls"},[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(Array(a))).map(function(e,a){var r=(0,u.default)("control",{active:a===t});return l.default.createElement("div",{className:r,key:a,onClick:function(){n(a)},onKeyDown:function(){n(a)},role:"tab",tabIndex:"0"})}))}},d.CAROUSEL_SLIDES.map(function(e){return l.default.createElement(h,n({},e,{key:e.id}))}))))}}]),t}();m.propTypes={mobile:s.default.bool},t.default=m;var h=function(e){var t=e.quoteText,a=e.author,n=e.about,r=e.cover,o=e.url,i=e.id;return l.default.createElement("div",{className:"slide"},l.default.createElement("div",{className:"cover-container",onClick:function(){(0,c.linkClicked)(i,o)},onKeyDown:function(){(0,c.linkClicked)(i,o)},role:"link","aria-roledescription":"slide",tabIndex:"0"},l.default.createElement(f.ConnectImage,{name:r,title:r})),l.default.createElement("div",{className:"details"},l.default.createElement("div",{className:"quote"},l.default.createElement("p",{className:"text"},t),l.default.createElement("p",{className:"author"},a)),l.default.createElement("p",{className:"about"},n),l.default.createElement("button",{id:"startReading",className:"btn btn-md btn-teal",onClick:function(){(0,c.linkClicked)(i,o)}},"Start Reading")))};h.propTypes={quoteText:s.default.string,author:s.default.string,about:s.default.string,cover:s.default.string,url:s.default.string,id:s.default.string,mobile:s.default.bool}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=p(o),i=p(a(1)),s=p(a(7)),u=a(185),c=a(81),d=a(3),f=a(5);function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.trans;return l.default.createElement("div",{id:"Links"},(0,c.LINKS_SECTIONS)(e).map(function(e){return l.default.createElement("div",{id:e.id,key:e.id},l.default.createElement("div",{className:"container"},l.default.createElement("h3",null,e.title),l.default.createElement("div",{className:"links"},e.links.map(function(e){return l.default.createElement(h,n({},e,{key:e.id}))}))))}))}}]),t}();m.propTypes={mobile:i.default.bool,trans:i.default.func.isRequired},t.default=(0,f.injectTrans)(m);var h=function(e){var t=e.name,a=e.description,n=e.img,r=e.url,o=e.id,i=e.className;return l.default.createElement("div",{className:(0,s.default)("link",i),onClick:function(){(0,u.linkClicked)(o,r)},onKeyDown:function(){(0,u.linkClicked)(o,r)},role:"link",tabIndex:"0"},l.default.createElement("div",{className:"image"},l.default.createElement(d.ConnectImage,{name:n,title:t})),l.default.createElement("div",{className:"info"},l.default.createElement("h4",null,t),l.default.createElement("p",null,a)))};h.propTypes={name:i.default.string,description:i.default.string,img:i.default.string,url:i.default.string,id:i.default.string,className:i.default.string}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(0),o=u(r),l=u(a(1)),i=a(3),s=a(5);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props.trans;return o.default.createElement("div",{id:"TakeWPWithYou"},o.default.createElement("div",{className:"container content"},o.default.createElement("h3",null,t("Take Wattpad With You")),o.default.createElement("p",null,t("Read and write anywhere, even offline.")),o.default.createElement("div",{className:"buttons"},o.default.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"signup",source:"reader_bot"})}},t("Start Reading")),o.default.createElement("button",{className:"btn btn-md btn-orange",onClick:function(){e.props.toggleModal({type:"login"})}},t("Start Writing"))),o.default.createElement(i.ConnectImage,{className:"devices",name:"landing/footer-devices.png",title:"devices"})))}}]),t}();c.propTypes={toggleModal:l.default.func,trans:l.default.func.isRequired},t.default=(0,s.injectTrans)(c)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WattpadBooks=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(3),o=a(186),l=a(6);t.WattpadBooks=function(){var e=(0,l.useTrans)().trans;return n.default.createElement(o.Container,{className:"studiosContainer",rightPart:n.default.createElement("div",{className:"imageContainer"},n.default.createElement(r.ConnectImage,{width:"348",name:"/landing/wattpadBooksPoster.png",title:"wattpad books poster"})),leftPart:n.default.createElement("div",{className:"textContainer"},n.default.createElement(r.ConnectImage,{width:"190",name:"/landing/wattpadBooksLogo.svg",title:"Wattpad Studios logo"}),n.default.createElement("h3",null,e("Your voice belongs on bookshelves")),n.default.createElement("p",{className:"constrainedText"},e("Wattpad Books aspires to recognize and reflect diverse voices by taking Wattpad stories to published book and onto bookshelves around the world.")),n.default.createElement("p",null,e("Wattpad Books works with partners such as:")),n.default.createElement(r.ConnectImage,{className:"partner",width:"110",name:"/landing/macmillan.png",title:"macmillan Publishers logo"}),n.default.createElement(r.ConnectImage,{className:"partner",width:"87",name:"/landing/anvil.png",title:"Anvil Publishing logo"}),n.default.createElement(r.ConnectImage,{className:"partner",width:"97",name:"/landing/penguin.png",title:"Penguin Random House UK logo"}))})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WattpadStudios=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(3),o=a(186),l=a(6);t.WattpadStudios=function(){var e=(0,l.useTrans)().trans;return n.default.createElement(o.Container,{rightPart:n.default.createElement("div",{className:"textContainer"},n.default.createElement(r.ConnectImage,{width:"203",name:"/landing/wattpadStudiosLogo.svg",title:"Wattpad Studios logo"}),n.default.createElement("h3",null,e("Your original story could be the next big hit")),n.default.createElement("p",{className:"constrainedText"},e("Wattpad Studios discovers untapped, unsigned, and talented writers on Wattpad and connects them to global multi-media entertainment companies.")),n.default.createElement("p",null,e("Wattpad Studios works with partners such as:")),n.default.createElement(r.ConnectImage,{className:"partner",width:"31",name:"/landing/sony.svg",title:"Sony logo"}),n.default.createElement(r.ConnectImage,{className:"partner",width:"61",name:"/landing/hulu.svg",title:"Hulu logo"}),n.default.createElement(r.ConnectImage,{className:"partner",width:"81",name:"/landing/syfy.svg",title:"SYFY logo"})),leftPart:n.default.createElement("div",{className:"imageContainer"},n.default.createElement("a",{href:"https://after.wattpad.com",target:"_blank",rel:"noopener noreferrer"},n.default.createElement(r.ConnectImage,{width:"414",name:"/landing/wattpadStudiosPoster.png",title:"after movie - promotional poster for the official after movie launch"})))})}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeeYourStory=void 0;var n=function(e){return e&&e.__esModule?e:{default:e}}(a(0)),r=a(3),o=a(6);t.SeeYourStory=function(){var e=(0,o.useTrans)().trans;return n.default.createElement("div",{className:"seeYourStoryContainer"},n.default.createElement("h3",null,e("See Your Story...")),n.default.createElement("div",{className:"itemContainer"},n.default.createElement("div",{className:"item"},n.default.createElement(r.ConnectImage,{name:"/landing/tv-icon.svg",title:"tv"}),e("Get produced to movie or film")),n.default.createElement("div",{className:"item"},n.default.createElement(r.ConnectImage,{name:"/landing/reel-icon.svg",title:"reel"}),e("Get adapted to a TV series")),n.default.createElement("div",{className:"item"},n.default.createElement(r.ConnectImage,{name:"/landing/book-icon.svg",title:"book"}),e("Get published"))))}},,,,,,,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=c(r),l=c(a(7)),i=c(a(1)),s=a(3),u=a(6);function c(e){return e&&e.__esModule?e:{default:e}}var d=(0,s.withValidation)(s.FormField);function f(e){var t=e.validationModel,a=(0,u.useTrans)().trans,i=(0,r.useState)(!0),s=n(i,2),c=s[0],f=s[1],p=(0,r.useState)(void 0),m=n(p,2),h=m[0],g=m[1],y=function(e){f(!1),g(e)},v=function(){f(!0),g(void 0)},b=(0,l.default)("has-feedback",{valid:!0===c,invalid:!1===c});return o.default.createElement("div",{className:b},o.default.createElement("div",{className:"birthday-fields"},o.default.createElement(d,{name:"month",label:a("Month"),form:"signup",inputType:"select",className:"col-xs-5",validationModel:t,onInvalid:y,onValid:v}),o.default.createElement(d,{name:"day",label:a("Day"),form:"signup",inputType:"select",className:"col-xs-3",validationModel:t,onInvalid:y,onValid:v}),o.default.createElement(d,{name:"year",label:a("Year"),form:"signup",inputType:"select",className:"col-xs-4",validationModel:t,onInvalid:y,onValid:v})),!c&&o.default.createElement("div",{className:"error-msg"},h))}f.propTypes={validationModel:i.default.shape({on:i.default.func,off:i.default.func})},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContestBannerUI=t.ContestBanner=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(11),o=d(a(1)),l=a(0),i=d(l),s=a(3),u=a(76),c=a(5);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=f(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.onOpenModal=function(){n.props.openContestForm(n.props.storyId)},f(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),n(t,[{key:"componentDidMount",value:function(){this.props.storyId&&this.props.fetchContestFormSubmissionStatus(this.props.storyId)}},{key:"render",value:function(){var e=this.props,t=e.trans,a=e.hasSubmitted;return e.hasCheckedSubmission&&a?i.default.createElement("div",{id:"contest-banner"},i.default.createElement("div",{className:"text"},t("Your story has been submitted for the 2019 Watty Awards! Good luck!"),i.default.createElement("div",{className:"plain-link",onClick:this.onOpenModal,role:"button",tabIndex:"0"},t("View your submission"))),a?null:i.default.createElement("button",{onClick:this.onOpenModal,className:"btn btn-large btn-orange"},t("Enter")),i.default.createElement(s.WPModal,null)):null}}]),t}();p.propTypes={openContestForm:o.default.func,trans:o.default.func,storyId:o.default.string.isRequired,fetchContestFormSubmissionStatus:o.default.func.isRequired,hasSubmitted:o.default.bool.isRequired,hasCheckedSubmission:o.default.bool.isRequired};var m=(0,r.connect)(function(e){return{hasSubmitted:e.contestForm.hasSubmitted,hasCheckedSubmission:e.contestForm.hasCheckedSubmission}},{openContestForm:u.openContestForm,fetchContestFormSubmissionStatus:u.fetchContestFormSubmissionStatus})((0,c.injectTrans)(p));t.ContestBanner=m,t.ContestBannerUI=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(152);Object.defineProperty(t,"ContestForm",{enumerable:!0,get:function(){return n.ContestForm}})},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=i(a(0)),l=i(a(192));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;$.get("/v4/contests").then(function(t){e.setState({contests:t})})}},{key:"render",value:function(){return o.default.createElement("div",{className:"contest-list-container"},this.state&&this.state.contests?this.state.contests.map(function(e){return o.default.createElement(l.default,n({key:e.sys.id},e.fields))}):null)}}]),t}();t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommentItem=void 0;var n=d(a(0)),r=d(a(7)),o=a(115),l=d(a(1)),i=a(3),s=a(5),u=a(6),c=a(112);function d(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=e.author,a=e.createDate,l=e.isOffensive,d=e.id,f=e.isReply,p=e.numReplies,m=e.body,h=(0,u.useTrans)(),g=h.trans,y=h.ngettext,v=t.badges&&t.badges.length>0?t.badges[0]:"";return n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{className:"header"},n.default.createElement("a",{href:"/user/"+t.name,className:"avatar avatar-sm pull-left on-navigate"},n.default.createElement("img",{src:t.avatar,alt:t.name+"'s avatar"})),n.default.createElement("a",{className:"username on-navigate right-icon",href:"/user/"+t.name},t.name,n.default.createElement(c.UserBadge,{name:v,allowedBadges:["staff","verified"]})),n.default.createElement("small",null,(0,s.fromNow)(a,{fuzzyTime:!0}))),l&&n.default.createElement("div",{className:"warning"},n.default.createElement(i.Icon,{iconName:"fa-warning",color:"wp-lighterror",height:"10"}),n.default.createElement("small",null,g("This comment may be offensive."))),n.default.createElement("pre",{dangerouslySetInnerHTML:{__html:(0,s.linkify)(m)}}),n.default.createElement("footer",null,n.default.createElement("button",{type:"button",className:(0,r.default)("btn btn-sm btn-link",f?"on-add-mention":"on-reply"),"data-target":"#replies-"+d,"data-id":d},p?(0,o.sprintf)(y("%s Reply","%s Replies",p),p):g("Reply"))),!f&&n.default.createElement("div",{id:"replies-"+d,className:"replies-list collapse","data-id":d,"data-message-owner":t.name}))}f.propTypes={author:l.default.shape({name:l.default.string,avatar:l.default.string,badges:l.default.array}),createDate:l.default.string,isOffensive:l.default.bool,id:l.default.string,isReply:l.default.bool,numReplies:l.default.number,body:l.default.string},t.CommentItem=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StoryTags=void 0;var n=s(a(1)),r=a(11),o=s(a(0)),l=a(77),i=s(a(182));function s(e){return e&&e.__esModule?e:{default:e}}function u(e){return o.default.createElement(i.default,{tagGridTags:e.storyTags,onTagClicked:function(t){return e.removeStoryTag(t)}})}u.propTypes={storyTags:n.default.object,removeStoryTag:n.default.func.isRequired};var c=(0,r.connect)(function(e){return{storyTags:e.storyTags}},{removeStoryTag:l.removeStoryTag})(u);t.StoryTags=c},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=p(a(1)),l=a(0),i=p(l),s=a(3),u=a(82),c=a(5),d=p(a(491)),f=p(a(492));function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.url,a=e.username,r=e.trans,o=(0,c.isClient)()?u.BrowserRouter:u.StaticRouter;return i.default.createElement(o,{basename:"/start/writerjourney",location:t,context:{}},i.default.createElement(i.default.Fragment,null,i.default.createElement("div",{className:"full-screen background-1 onboarding-bg"}),i.default.createElement("div",{className:"container"},i.default.createElement("div",{className:"onboardingModal modal fade in writerJourney"},i.default.createElement("div",{className:"modal-dialog"},i.default.createElement("div",{className:"modal-content"},i.default.createElement("div",{className:"modal-body"},i.default.createElement("div",{className:"onboarding-writer-journey"},i.default.createElement(s.ConnectImage,{name:"logos/wp-logo-orange.png",alt:"wattpad logo",className:"wp-logo",width:"174"}),i.default.createElement("h4",null,r("Hi @%s",a)),i.default.createElement(u.Switch,null,i.default.createElement(u.Route,{exact:!0,path:"/",render:function(e){return i.default.createElement(d.default,n({trans:r},e))}}),i.default.createElement(u.Route,{path:"/motivation",component:function(e){return i.default.createElement(f.default,n({trans:r},e))}}),i.default.createElement(u.Route,{render:function(){return i.default.createElement(u.Redirect,{to:"/"})}}))))))))))}}]),t}();m.propTypes={username:o.default.string,url:o.default.string,trans:o.default.func.isRequired},t.default=(0,c.injectTrans)(m)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=p(o),i=p(a(7)),s=p(a(1)),u=a(82),c=a(3),d=a(193),f=a(194);function p(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={selected:null,redirect:!1},n.setSelected=function(e){n.setState({selected:e})},n.pressNext=function(){"reader"===n.state.selected?((0,f.sendWriterOnboardingEvents)({user_type:"reader"}),app.router.navigate("/start",{trigger:!0})):n.setState({redirect:!0})},m(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.selected,r=t.redirect,o=this.props.trans;return r?l.default.createElement(u.Redirect,{push:!0,to:{pathname:"/motivation",state:{user_type:this.state.selected}}}):l.default.createElement(l.default.Fragment,null,l.default.createElement("p",null,(0,d.SECTION_INTROS)(o)[0]),l.default.createElement("div",{id:"ReaderOrWriter",className:"options"},Object.entries((0,d.READER_OR_WRITER_OPTIONS)(o)).map(function(t){var r=n(t,2),o=r[0],s=r[1],u=a===o,d=s.icon+(u?"_selected":"");return l.default.createElement("div",{key:o,className:(0,i.default)("option",{selected:u}),onClick:function(){e.setSelected(o)},onKeyDown:function(){e.setSelected(o)},role:"option",tabIndex:"0","aria-selected":u},l.default.createElement(c.ConnectImage,{name:"shared/"+d+".svg",alt:"icon"}),l.default.createElement("div",null,s.message))})),l.default.createElement("button",{className:(0,i.default)("btn btn-md btn-orange",{disabled:null===a}),onClick:this.pressNext},o("Next")))}}]),t}();h.propTypes={nextSection:s.default.func,trans:s.default.func.isRequired},t.default=h},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=a(0),l=f(o),i=a(82),s=f(a(7)),u=f(a(1)),c=a(193),d=a(194);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.advance=function(e,t){var a=n.props.location.state;(0,d.sendWriterOnboardingEvents)({user_type:a.user_type,writer_stage:e,finished_story:t}),app.router.navigate("/start",{trigger:!0})},p(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this,t=null,a=this.props,r=a.location,o=a.trans,u=r.hash;return u&&(t=u.substr(1)),l.default.createElement(l.default.Fragment,null,l.default.createElement("p",null,(0,c.SECTION_INTROS)(o)[1]),l.default.createElement("div",{id:"WriterMotivation",className:(0,s.default)("options",{"has-selection":null!==t})},Object.entries((0,c.WRITER_MOTIVATION_OPTIONS)(o)).map(function(a){var o=n(a,2),u=o[0],c=o[1];return null!==t&&t!==u?null:"none"===u?l.default.createElement("a",{key:u,href:"/start",onClick:function(t){t.preventDefault(),e.advance({motivation:u})},className:(0,s.default)("option",{selected:t===u})},l.default.createElement("div",null,c)):l.default.createElement(i.Link,{key:u,to:{pathname:null===t?"/motivation/novel":"/motivation",hash:null===t?"#"+u:"",state:r.state},className:(0,s.default)("option",{selected:t===u})},l.default.createElement("div",null,c))})),l.default.createElement(i.Route,{path:"/motivation/novel",render:function(){return l.default.createElement("div",{className:"finished-novel"},l.default.createElement("p",null,o("Have you finished writing a novel?")),l.default.createElement("div",{className:"novel-options"},Object.entries((0,c.FINISHED_NOVEL_OPTIONS)(o)).map(function(a){var r=n(a,2),o=r[0],i=r[1];return l.default.createElement("a",{className:"option",onClick:function(a){a.preventDefault(),e.advance(t,o)},href:"/start",key:o},i)})))}}),l.default.createElement("a",{href:"/start",className:"skip",onClick:function(a){a.preventDefault(),e.advance(t,null)}},o("Skip")))}}]),t}();m.propTypes={location:u.default.object,trans:u.default.func.isRequired},t.default=m},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),o=f(a(7)),l=f(a(1)),i=f(a(0)),s=a(494),u=a(3),c=a(5),d=f(a(495));function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));a.state={visibleState:a.props.questsState,loaded:!1,complete:!1,completeTasks:[]},a.expandVisibility=function(){a.setState({visibleState:"open"}),window.app.trigger("Myworks:Quests:setVisibility",{state:"open"}),window.te.push("event","myworks","quests",null,"open")},a.collapseVisibility=function(){a.setState({visibleState:"collapsed"}),window.app.trigger("Myworks:Quests:setVisibility",{state:"collapsed"}),window.te.push("event","myworks","quests",null,"collapsed")},a.closeQuests=function(){a.setState({visibleState:"closed"}),window.app.trigger("Myworks:Quests:setVisibility",{state:"closed"}),window.te.push("event","myworks","quests",null,"closed")};var n=a.props.trans;return a.currentQuests=(0,s.quests)(n),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"computeCompleteStatus",value:function(){var e=this;0===this.currentQuests.reduce(function(t,a){var n=a.tasks.taskItems.filter(function(t){return e.state[t.completeField]&&-1===e.state.completeTasks.indexOf(t.completeField)&&(e.setState({completeTasks:[].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(e.state.completeTasks),[t.completeField])}),e.sendTaskCompleteEvent(t.name,t.completeField)),!e.state[t.completeField]},e);return 0===n.length&&e.sendQuestCompleteEvent(a.name),t+n.length},0)&&(this.setState({complete:!0}),this.sendQuestsCompletedEvent())}},{key:"componentDidMount",value:function(){var e=this,t=window.wattpad.utils.currentUser().get("username"),a=$.get("/api/v3/users/"+t+"?fields=avatar_timestamp,description").then(function(t){e.setState({hasAvatar:"0000"!=t.avatar_timestamp.substr(0,4),hasDescription:0!=t.description.length},e.computeCompleteStatus)}),n=$.get("/v4/users/"+t+"/activity?fields=feed(id,type)&limit=100").then(function(t){var a=t.feed.filter(function(e){return"comment"===e.type}).length;e.setState({hasComments:a>=3},e.computeCompleteStatus)}).fail(function(){e.setState({hasComments:!1},e.computeCompleteStatus)}),r=$.get("/api/v3/users/"+t+"/lists?fields=lists%28numStories%29").then(function(t){var a=t.lists.reduce(function(e,t){return e+t.numStories},0);e.setState({hasReadingList:a>=5},e.computeCompleteStatus)}),o=$.get("/v4/users/"+t+"/stories/published").then(function(t){e.setState({hasPublished:!!t.stories.length,hasStoryDescription:!!t.stories.filter(function(e){return e.description.length>0}).length,hasStoryCover:!!t.stories.filter(function(e){return null!=e.cover_timestamp}).length},e.computeCompleteStatus)});Promise.all([a,n,r,o]).then(function(){e.setState({loaded:!0})}).catch(function(){e.setState({loaded:!0})})}},{key:"render",value:function(){var e=this,t=this.props.trans,a=this.state,r=a.complete,l=a.loaded,s=a.visibleState;return"closed"!=s?i.default.createElement("section",{className:(0,o.default)("quests-wrapper",{loaded:l,collapsed:"collapsed"===s})},!l&&i.default.createElement(u.Icon,{iconName:"fa-loading",className:"fa-spin",height:"24",color:"wp-neutral-1"}),l&&"collapsed"==s&&i.default.createElement("p",null,t("Let us help you set yourself up for success, it won't take long."),i.default.createElement("button",{className:"btn-no-style",onClick:this.expandVisibility},i.default.createElement(u.Icon,{iconName:"fa-down",className:"pull-right",height:"16",color:"wp-neutral-1"}))),l&&"open"==s&&i.default.createElement("div",null,i.default.createElement("h2",null,t(r?"Great job!":"Let's get to it"),r?i.default.createElement("button",{className:"btn-no-style",onClick:this.closeQuests},i.default.createElement(u.Icon,{iconName:"fa-remove",className:"pull-right",height:"16",color:"wp-neutral-1"})):i.default.createElement("button",{className:"btn-no-style",onClick:this.collapseVisibility},i.default.createElement(u.Icon,{iconName:"fa-up",className:"pull-right",height:"16",color:"wp-neutral-1"}))),i.default.createElement("p",null,t(r?"You're on your way to becoming a successful writer on Wattpad.":"Let us help you set yourself up for success, it won't take long.")),i.default.createElement("div",{className:"quests"},this.currentQuests.map(function(t){return i.default.createElement(d.default,n({key:t.id,progress:e.state},t))})))):null}},{key:"sendTaskCompleteEvent",value:function(e,t){window.te.push("event","myworks","quests",null,"task_complete",{quest_name:e,task_name:t})}},{key:"sendQuestCompleteEvent",value:function(e){window.te.push("event","myworks","quests",null,"complete",{quest_name:e})}},{key:"sendQuestsCompletedEvent",value:function(){window.te.push("event","myworks","quests",null,"complete")}}]),t}();p.propTypes={responses:l.default.string,trans:l.default.func.isRequired,questsState:l.default.string},t.default=(0,c.injectTrans)(p)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.quests=function(e){return[{id:1,name:"curate_profile",image:"/quests/profile.svg",title:e("Curate your profile"),subtext:e("Establish your credibility and brand as a writer by telling us who you are and what makes you special."),completeMessage:e("Thoughtfully curating your profile will give you a sense of credibility in the Wattpad community and help grow your readership. It's the first step to building your brand as a writer."),tasks:{taskItems:[{completeField:"hasAvatar",title:e("Add a profile picture"),subtext:e("Users with a profile picture get 8x more views.")},{completeField:"hasDescription",title:e("Add your writer bio"),subtext:e("Use the first person. Include your interests, what genres you write, and any other relevant information")}]}},{id:2,name:"connect_community",image:"/quests/community.svg",title:e("Connect with the community"),subtext:e("Grow your network to help your story get exposure and leverage other talented writers on Wattpad."),completeMessage:e("Wattpad is a social platform, so connecting with the community gives your story momentum  and amplifies your voice! "),tasks:{taskItems:[{completeField:"hasReadingList",title:e("Add 5 stories to your reading list"),subtext:e("It’s a great way to signal to other writers that you value their work, want to connect, and strike up a conversation.")},{completeField:"hasComments",title:e("Leave helpful comments on 3 stories"),subtext:e("Connect with other writers by leaving comments on their stories. Community engagement helps increase your visibility.")}]}},{id:3,name:"reach_readers",image:"/quests/readers.svg",title:e("Reach your readers"),subtext:e("Sharing your stories with the Wattpad community is the key to unlocking success as a writer."),completeMessage:e("Enticing your audience and standing out visually will help you make your mark as well as prevent your story from getting lost in a sea of stories."),tasks:{taskItems:[{completeField:"hasStoryCover",title:e("Upload an enticing cover"),subtext:e("Get your reader’s attention by creating a striking, click-worthy cover that reflects your story. Stories with covers get 23x more reads.")},{completeField:"hasStoryDescription",title:e("Add a story description with a great hook"),subtext:e("Create a description that covers the who, what, where, and why of your story to reel in your readers. Stories with descriptions get 100x more reads.")},{completeField:"hasPublished",title:e("Publish your first story part"),subtext:e("Sharing your first story part is no small feat. It’s the beginning of your journey to becoming a successful Wattpad writer.")}]}}]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FauxCheckBox=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=u(a(0)),o=u(a(1)),l=u(a(7)),i=u(a(188)),s=a(3);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={remainingCount:0,complete:!1,completeTasks:[]},c(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"sendEvent",value:function(e){window.te.push("event","myworks","quests",null,"hover",{quest_name:e.name})}},{key:"sendTaskCompleteEvent",value:function(e,t){window.te.push("event","myworks","quests",null,"task_complete",{quest_name:e,task_name:t})}},{key:"sendQuestCompleteEvent",value:function(e){window.te.push("event","myworks","quests",null,"complete",{quest_name:e})}},{key:"render",value:function(){var e=this.props,t=e.progress,a=e.tasks,n=e.completeMessage,o=e.title,u=e.subtext,c=e.id,d=this.props.tasks.taskItems.filter(function(e){return!t[e.completeField]},this).length,p=0==d;return r.default.createElement("div",{className:"quest","data-tip":!0,"data-for":"quest-"+this.props.id},r.default.createElement("div",{className:"quest-image"},r.default.createElement(s.ConnectImage,{name:this.props.image,className:"quest-logo"}),p&&r.default.createElement("span",{className:"complete-indicator"},r.default.createElement(s.Icon,{iconName:"fa-check",height:"16",color:"wp-neutral-5"}))),r.default.createElement("span",{className:"title"},o),r.default.createElement("p",null,u),r.default.createElement(i.default,{id:"quest-"+c,className:"quest-tasks-tooltip",place:"bottom",type:"light",effect:"solid",scrollHide:!1,afterShow:this.sendEvent.bind(null,this.props)},t.loaded&&r.default.createElement("div",{className:(0,l.default)("quest-tasks",{complete:p})},r.default.createElement("span",{className:"current-status"},p?"You did it!":"Keep going. "+d+" left to go"),r.default.createElement("div",{className:"body"},p?n:a.taskItems.map(function(e){return r.default.createElement("div",{key:e.title.replace(" ",""),className:(0,l.default)("task",{complete:t[e.completeField]})},r.default.createElement(f,{checked:t[e.completeField]},r.default.createElement(s.Icon,{iconName:"fa-check",height:"20",color:"wp-neutral-5"})),r.default.createElement("div",{className:"task-details"},r.default.createElement("strong",null,e.title),r.default.createElement("p",null,e.subtext)))})))))}}]),t}();d.propTypes={progress:o.default.object.isRequired,tasks:o.default.object.isRequired,completeMessage:o.default.string,title:o.default.string,subtext:o.default.string,id:o.default.number,image:o.default.string},t.default=d;var f=t.FauxCheckBox=function(e){var t=e.children,a=e.checked;return r.default.createElement("div",{className:(0,l.default)("faux-checkbox",{checked:e.checked})},t&&a&&t)};f.propTypes={children:o.default.node,checked:o.default.bool}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=u(a(0)),o=u(a(1)),l=a(3),i=a(5),s=u(a(65));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.removeMessaging=function(){var e=n.props,t=e.id,a=e.groupId,r=e.partId;s.default.unmountComponentAtNode(document.getElementById("component-bannedimagemessaging-"+t+"-/myworks/"+a+"/write/"+r)),n.props.cleanupBannedMessaging()},c(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this.props,t=e.src,a=e.trans;return r.default.createElement("div",{className:"banned-image-wrapper",contentEditable:"false",suppressContentEditableWarning:!0},r.default.createElement("div",{className:"banned-image-messaging","data-url":t},r.default.createElement(l.Icon,{iconName:"fa-image-warning",height:"16",color:"wp-warning-01"}),r.default.createElement("span",{className:"message"},a("This image has been deemed unsafe and will only be visible to you."),r.default.createElement("button",{role:"link",className:"on-learn-more btn-no-background",onClick:function(){window.open("https://support.wattpad.com/hc/en-us/articles/360020840731-Image-Moderation-on-Wattpad","_blank","noopener")}},a("Learn more.")))))}},{key:"componentDidMount",value:function(){window.app.currentView.listenTo(window.app,"works:editor:remove-banned-indicator",this.removeMessaging)}},{key:"componentWillUnmount",value:function(){window.app.currentView.stopListening(window.app,"works:editor:remove-banned-indicator")}}]),t}();d.propTypes={trans:o.default.func.isRequired,id:o.default.any.isRequired,src:o.default.string.isRequired,groupId:o.default.string.isRequired,partId:o.default.number.isRequired,cleanupBannedMessaging:o.default.func},t.default=(0,i.injectTrans)(d)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SuccessPage=t.AppealReasonForm=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=c(a(1)),o=a(0),l=c(o),i=a(3),s=a(6),u=c(a(7));function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){var e=(0,s.useTrans)().trans;return l.default.createElement("div",{className:"col-xs-12"},l.default.createElement(i.ConnectImage,{name:"/icons/spin/fa-loading.gif",className:"fa-spin spinner",alt:e("Spinner"),height:"48",width:"48"}))},f=function(e){var t=e.isAndroid,a=(0,s.useTrans)().trans,n=l.default.createElement("p",null,a("Thank you, we've received your appeal")),r=a("We ask that you leave your image in your story until we’ve processed your request."),o=t,c=o?"wattpad://home":"/inbox/Wattpad",d=(0,u.default)("btn btn-md btn-orange",{"on-navigate":o});return l.default.createElement("div",{className:"col-xs-12 submission-success"},l.default.createElement(i.ConnectImage,{name:"image-moderation/appeal-success.svg",className:"success-image"}),l.default.createElement("span",{className:"success-header"},n),l.default.createElement("span",{className:"success-info"},r),l.default.createElement("a",{href:c,className:d},a("OK, got it")))},p=function(e){var t=e.imageUrl,a=e.onSubmissionError,r=e.isIOS,i=e.isAndroid,u=(0,s.useTrans)().trans,c=(0,o.useState)(!1),p=n(c,2),h=p[0],g=p[1],y=(0,o.useState)(!1),v=n(y,2),b=v[0],w=v[1];return l.default.createElement("div",{className:"image-appeal-flow"},l.default.createElement("div",{className:"container"},l.default.createElement("div",{className:"row"},!h&&!b&&l.default.createElement("div",null,l.default.createElement("div",{className:"col-xs-12"},l.default.createElement("h1",null,u("Appeal form")),l.default.createElement("span",{className:"form-info",dangerouslySetInnerHTML:{__html:u('This image has been flagged because it appears to violate our <a href="https://policies.wattpad.com/content" target=_blank class="on-click">%s</a>. Your readers will not be able to see this image, and there will not be an image in its place.',"Content Guidelines")}}),l.default.createElement("span",{className:"form-info"},u("If you think your image was mistakenly flagged, please describe why in the space below."))),l.default.createElement(m,{handleSubmit:function(){return g(!0),Promise.resolve($.ajax({type:"POST",url:"/v5/image_moderation/appeal",dataType:"json",contentType:"application/json; charset=utf-8",data:JSON.stringify({image_url:t})})).then(function(){g(!1),w(!0)}).catch(function(e){g(!1),w(!1),function(e){var t=void 0;switch(e){case"submitted":t=u("This image has already been appealed. Once a decision has been made, we will notify you.");break;case"resolved":t=u("Sorry, this image has already been reviewed by our team and cannot be appealed again.");break;default:t=u("Sorry, an error has occurred and we’re unable to submit your appeal. Please try again later.")}a(t)}(e.responseJSON.status)})},imageUrl:t})),!h&&b&&l.default.createElement(f,{isIOS:r,isAndroid:i}),h&&l.default.createElement(d,null))))},m=function(e){var t=e.handleSubmit,a=e.imageUrl,r=(0,s.useTrans)().trans,i=(0,o.useState)(0),u=n(i,2),c=u[0],d=u[1];return l.default.createElement("form",{id:"image-appeal",name:"image-appeal",className:"col-xs-12",onSubmit:function(e){e.preventDefault(),t()}},l.default.createElement("div",{className:"row"},l.default.createElement("div",{className:"form-reason"},l.default.createElement("textarea",{name:"reason",id:"reason",rows:"7",placeholder:"Tell us why",maxLength:"435",onKeyUp:function(e){d(e.target.value.length)}}),l.default.createElement("span",{className:"image-info col-xs-12"},l.default.createElement("div",{className:"image-container"},l.default.createElement("img",{src:a,alt:a})),l.default.createElement("a",{href:a,className:"image-url"},a))),l.default.createElement("div",{className:"col-xs-12"},l.default.createElement("span",{className:"next-steps"},r("Once we’ve reviewed your appeal, we will notify you via your inbox. If your appeal is approved your image will be restored and made visible to your readers.")))),l.default.createElement("div",{className:"row submit"},l.default.createElement("button",{className:"btn btn-md btn-orange pull-right on-send",disabled:0===c},r("Send"))))};p.propTypes={imageUrl:r.default.string.isRequired,onSubmissionError:r.default.func.isRequired,isIOS:r.default.bool,isAndroid:r.default.bool},f.propTypes={isIOS:r.default.bool,isAndroid:r.default.bool},m.propTypes={imageUrl:r.default.string.isRequired,handleSubmit:r.default.func.isRequired},t.default=p,t.AppealReasonForm=m,t.SuccessPage=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriterDashboard=b;var n=a(11),r=v(a(1)),o=a(0),l=v(o),i=a(195),s=v(a(164)),u=v(a(499)),c=v(a(502)),d=v(a(503)),f=v(a(504)),p=v(a(505)),m=v(a(506)),h=v(a(507)),g=v(a(508)),y=v(a(196));function v(e){return e&&e.__esModule?e:{default:e}}function b(e){var t=e.storyId,a=e.storyParts,n=e.storyInsights,r=e.fetchStoryInsights,i=e.areInsights;return(0,o.useEffect)(function(){r(t)},[t,r]),l.default.createElement("div",{className:"writer-dashboard"},l.default.createElement(s.default,null),!(void 0===i)&&(i?l.default.createElement(l.default.Fragment,null,l.default.createElement(d.default,{dateUpdated:n.last_updated}),l.default.createElement(y.default,{writingScore:n.complexity}),l.default.createElement(p.default,{readabilityScore:n.readability}),l.default.createElement(m.default,{totalReadingTime:n.reading_time,readingTimeParts:n.reading_time_parts,storyParts:a,storyId:t}),l.default.createElement(h.default,{numLongSentences:n.total_long_sent_count,averageSentenceLength:n.average_sent_length,sentenceLengthParts:n.sent_length_parts,storyParts:a,storyId:t}),l.default.createElement(c.default,{adverbUsage:n.adverbs_parts,storyParts:a,storyId:t}),l.default.createElement(g.default,{sentenceStarters:n.leading_words_parts,storyParts:a,storyId:t}),l.default.createElement(f.default,{storyParts:a,storyId:t,overusedWords:n.overused_words_parts})):l.default.createElement(u.default,{storyId:t})))}b.propTypes={storyParts:r.default.array.isRequired,storyId:r.default.string.isRequired,storyInsights:r.default.object,fetchStoryInsights:r.default.func,areInsights:r.default.bool};t.default=(0,n.connect)(function(e){return{storyInsights:e.storyInsights.insights,areInsights:e.storyInsights.areInsights}},{fetchStoryInsights:i.fetchStoryInsights})(b)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),r=f(a(1)),o=a(0),l=f(o),i=a(3),s=a(27),u=a(195),c=f(a(500)),d=f(a(501));function f(e){return e&&e.__esModule?e:{default:e}}function p(e){var t=e.toggleModal;return l.default.createElement("div",{id:"insights-pending",className:"dashboard-cta"},l.default.createElement("h3",null,"Your Story Insights Report is currently being built."),l.default.createElement(i.ConnectImage,{name:"writer-insights/report-in-progress.png",id:"insights-pending-illustration",width:"375"}),l.default.createElement("h5",null,"Thank you for your purchase!"),l.default.createElement("p",null,"Thank you for your purchase. Hang tight - the scaffolding is up and our tiny little bots are labouring through your written work to construct some exciting insights on your story. Your report will be ready within 24-48 hours from the time you placed your order, and you will be notified via your Wattpad Inbox."),l.default.createElement("div",{className:"details"},l.default.createElement("div",null,"Your report will be ready within 24-48 hours from the time you placed your order."),l.default.createElement("div",null," ","Having trouble? Check out our"," ",l.default.createElement("button",{className:"btn-link",onClick:function(){t({component:function(){return l.default.createElement(d.default,null)},className:"insights-faq"})}},"FAQs")," ","or"," ",l.default.createElement("a",{href:"https://support.wattpad.com/hc/en-us/requests/new",target:"_blank",rel:"noopener noreferrer"}," ","submit a ticket."))))}p.propTypes={toggleModal:r.default.func.isRequired};var m=(0,n.connect)(null,{toggleModal:s.toggleModal})(p);function h(){return l.default.createElement("div",{className:"dashboard-cta"},"This is the insights purchase page")}function g(e){var t=e.fetchInsightsPendingStatus,a=e.isPending,n=e.storyId,r=window.wattpad.testGroups.PAID_WRITER_INSIGHTS;return(0,o.useEffect)(function(){r&&t(n)},[n,t,r]),r?a?l.default.createElement(m,null):l.default.createElement(h,null):l.default.createElement(c.default,null)}g.propTypes={fetchInsightsPendingStatus:r.default.func.isRequired,storyId:r.default.string.isRequired,isPending:r.default.bool.isRequired};t.default=(0,n.connect)(function(e){return{isPending:e.storyInsights.isPending}},{fetchInsightsPendingStatus:u.fetchInsightsPendingStatus})(g)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=s(a(7)),o=s(a(0)),l=a(28),i=a(3);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return o.default.createElement("div",{id:"indicate-interest",className:"dashboard-cta"},o.default.createElement(i.ConnectImage,{name:"desktop-web/story-report-cta.png",id:"story-report-image"}),o.default.createElement("div",{className:"header"},l.NO_INSIGHTS.header),o.default.createElement("div",{className:"paragraph"},o.default.createElement("div",{className:"description"},l.NO_INSIGHTS.para1," "),o.default.createElement("br",null),o.default.createElement("a",{id:"sample-story-report-link",className:"link",href:"https://www.wattpad.com/762623055-a-look-at-the-story-insights-report-a-look-at",target:"_blank"},l.NO_INSIGHTS.link)),o.default.createElement(u,null))};var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onClickedInterestButton=function(){window.te.push("event","story-report",null,null,"waitlist"),localStorage.setItem("insights-waitlist","true"),a.setState({clicked:!0})},a.state={clicked:"true"===localStorage.getItem("insights-waitlist")},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),n(t,[{key:"render",value:function(){var e=(0,r.default)("btn","btn-orange");return o.default.createElement("div",{className:"button-container"},this.state.clicked?o.default.createElement("button",{id:"dashboard-indicate-interest",disabled:!0,className:e},"Thanks for your interest"):o.default.createElement("button",{id:"dashboard-indicate-interest",disabled:!1,className:e,onClick:this.onClickedInterestButton.bind(this)},"Notify me of launch"))}}]),t}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(){var e=(0,r.useState)([]),t=n(e,2),a=t[0],s=t[1],u=function(e){var t=a.includes(e);if(t){var n=a.filter(function(t){return t!==e});s(n)}else s([].concat(function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(a),[e]))};return o.default.createElement(o.default.Fragment,null,o.default.createElement("h2",null,"Frequently Asked Questions"),i.FAQ_QUESTIONS.map(function(e){var t=e.question,n=e.answer,r=a.includes(t),i=r?"chevUp":"chevDown";return o.default.createElement(o.default.Fragment,{key:t},o.default.createElement("button",{className:"question btn-no-background",onClick:function(){return u(t)}},o.default.createElement("span",null,"Q: ",t," "),o.default.createElement(l.Icon,{name:i})),r&&o.default.createElement("p",{className:"answer"},"A: ",n))}))};var r=a(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),l=a(3),i=a(28)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(0)),o=a(28),l=i(a(68));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.adverbUsage,a=e.storyParts,n=e.storyId;return r.default.createElement("div",{id:"adverb-usage-section",className:"dashboard-section"},r.default.createElement("div",{className:"title"},o.ADVERB_USAGE.title),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.ADVERB_USAGE.aboutTitle),r.default.createElement("div",{className:"description"},o.ADVERB_USAGE.aboutDescription)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.ADVERB_USAGE.understandingTitle),r.default.createElement("div",{className:"description"},o.ADVERB_USAGE.understandingDescription),r.default.createElement("a",{className:"link",href:"https://www.wattpad.com/738076118-wattpad-story-insights-report-guide-adverbs",target:"_blank"}," ",o.CONSTANTS.link)),r.default.createElement("br",null),r.default.createElement(l.default,{parts:t||"None",storyParts:a,headers:o.ADVERB_USAGE.headers,formatter:[{field:"frequent_adverbs",format:u}],storyId:n}))};function u(e){return null===e?"None":(e.forEach(function(e,t,a){a[t]=e.charAt(0).toLocaleUpperCase()+e.slice(1)}),e.join(", "))}s.propTypes={adverbUsage:n.default.array.isRequired,storyParts:n.default.array.isRequired,storyId:n.default.string.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(1)),r=l(a(0)),o=a(28);function l(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.dateUpdated,a=new Date(t.split(" ")[0]);return r.default.createElement("div",{id:"intro",className:"dashboard-section"},r.default.createElement("div",null,r.default.createElement("div",{className:"intro-title"},o.INTRO.title),r.default.createElement("div",{className:"tagline"}," ",o.INTRO.date.replace("%s",a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))),r.default.createElement("br",null),r.default.createElement("br",null)),r.default.createElement("div",{className:"result"}," ",o.INTRO.welcome),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"description"},o.INTRO.intro,r.default.createElement("br",null),r.default.createElement("br",null),o.INTRO.aboutReport," ",r.default.createElement("strong",null,o.INTRO.strong),r.default.createElement("br",null),r.default.createElement("br",null),o.INTRO.feedback," ",r.default.createElement("a",{className:"link",href:"https://forms.gle/SKL1zJMuqx5BTgss6",target:"_blank"},"Submit Feedback"),o.INTRO.emailText," ",r.default.createElement("a",{href:"mailto:"+o.INTRO.email},o.INTRO.email))))};i.propTypes={dateUpdated:n.default.string},t.default=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=i(a(1)),o=i(a(68)),l=a(28);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.overusedWords,a=e.storyParts,r=e.storyId;return n.default.createElement("div",{id:"adverb-usage-section",className:"dashboard-section"},n.default.createElement("div",{className:"title"},l.OVERUSED_WORDS.title),n.default.createElement("br",null),n.default.createElement("div",{className:"paragraph"},n.default.createElement("div",{className:"subtitle"},l.OVERUSED_WORDS.aboutTitle),n.default.createElement("div",{className:"description"},l.OVERUSED_WORDS.aboutDescription)),n.default.createElement("br",null),n.default.createElement("div",{className:"paragraph"},n.default.createElement("div",{className:"subtitle"},l.OVERUSED_WORDS.understandingTitle),n.default.createElement("div",{className:"description"},l.OVERUSED_WORDS.understandingDescription)),n.default.createElement("br",null),n.default.createElement(o.default,{parts:t||"None",storyParts:a,headers:l.OVERUSED_WORDS.headers,formatter:[{field:"overused_words",format:u}],storyId:r}))};function u(e){return null===e?"None":(e.forEach(function(e,t,a){a[t]=e.charAt(0).toLocaleUpperCase()+e.slice(1)}),e.join(", "))}s.propTypes={overusedWords:r.default.array.isRequired,storyParts:r.default.array.isRequired,storyId:r.default.string.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(0)),o=a(28),l=a(196);function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=function(e){var t={};switch(e){case 6:t.group="Middle & Elementary School",t.age="Ages 14 and under";break;case 5:t.group="High School Freshman / Sophomore",t.age="Age 14 - 16";break;case 4:t.group="High School Junior / Senior",t.age="Age 16 - 18";break;case 3:t.group="College Freshman / Sophomore",t.age="Age 18 - 20";break;case 2:t.group="College Junior / Senior",t.age="Age 20 - 22";break;case 1:t.group="College Graduate",t.age="Ages 22+";break;default:t.group="Unavailable for your story",t.age=""}return t}(e.readabilityScore);return r.default.createElement("div",{id:"readability-score-section",className:"dashboard-section"},r.default.createElement("div",{className:"title"},o.READABILITY_SCORE.title),r.default.createElement("br",null),r.default.createElement("div",{className:"result"},r.default.createElement("div",null,t.group),r.default.createElement("div",null,t.age)),r.default.createElement("br",null),r.default.createElement("div",{className:"examples"},r.default.createElement("div",{className:"subtitle"},o.READABILITY_SCORE.exampleTitle),(0,l.insertExamples)(o.READABILITY_SCORE.examples)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.READABILITY_SCORE.aboutTitle),r.default.createElement("div",{className:"description"},o.READABILITY_SCORE.aboutDescription)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.READABILITY_SCORE.understandingTitle),r.default.createElement("div",{className:"description"},o.READABILITY_SCORE.understandingDescription),r.default.createElement("a",{className:"link",href:"https://www.wattpad.com/738075154-wattpad-story-insights-report-guide-readability",target:"_blank"}," ",o.CONSTANTS.link)))};s.propTypes={readabilityScore:n.default.number.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(0)),o=a(28),l=i(a(68));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.totalReadingTime,a=e.readingTimeParts,n=e.storyParts,i=e.storyId;return r.default.createElement("div",{className:"dashboard-section"},r.default.createElement("div",{className:"title"},o.READING_TIME.title),r.default.createElement("br",null),r.default.createElement("div",{className:"result"},r.default.createElement("div",null,u(t)),r.default.createElement("div",{className:"tagline"},o.READING_TIME.section),r.default.createElement("div",{className:"tagline-2"},o.READING_TIME.scale)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.READING_TIME.aboutTitle),r.default.createElement("div",{className:"description"},o.READING_TIME.aboutDescription)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.READING_TIME.understandingTitle),r.default.createElement("div",{className:"description"},o.READING_TIME.understandingDescription),r.default.createElement("a",{className:"link",href:"https://www.wattpad.com/738075454-wattpad-story-insights-report-guide-reading-time",target:"_blank"}," ",o.CONSTANTS.link)),r.default.createElement("br",null),r.default.createElement(l.default,{storyId:i,parts:a,storyParts:n,headers:o.READING_TIME.headers,formatter:[{field:"reading_time",format:u}]}))};function u(e){return e+" minutes"}s.propTypes={totalReadingTime:n.default.number.isRequired,readingTimeParts:n.default.array.isRequired,storyParts:n.default.array.isRequired,storyId:n.default.string.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(0)),o=a(28),l=i(a(68));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.averageSentenceLength,a=e.numLongSentences,n=e.sentenceLengthParts,i=e.storyParts,s=e.storyId;return r.default.createElement("div",{id:"sectence-length-section",className:"dashboard-section"},r.default.createElement("div",{className:"title"},o.SENTENCE_LENGTH.title),r.default.createElement("br",null),r.default.createElement("div",{className:"result"},r.default.createElement("div",null,u(t)," words"),r.default.createElement("div",null,o.SENTENCE_LENGTH.average," "),r.default.createElement("div",{className:"tagline"},o.SENTENCE_LENGTH.scaleAverage)),r.default.createElement("br",null),r.default.createElement("div",{className:"result"},r.default.createElement("div",null,a," ",o.SENTENCE_LENGTH.long),r.default.createElement("div",{className:"tagline"},o.SENTENCE_LENGTH.scaleLong)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.SENTENCE_LENGTH.aboutTitle),r.default.createElement("div",{className:"description"},o.SENTENCE_LENGTH.aboutDescription)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.SENTENCE_LENGTH.understandingTitle),r.default.createElement("div",{className:"description"},o.SENTENCE_LENGTH.understandingDescription),r.default.createElement("a",{className:"link",href:"https://www.wattpad.com/738075765-wattpad-story-insights-report-guide-sentence",target:"_blank"}," ",o.CONSTANTS.link)),r.default.createElement("br",null),r.default.createElement(l.default,{parts:n,storyParts:i,headers:o.SENTENCE_LENGTH.headers,formatter:[{field:"average_sent_length",format:u}],storyId:s}))};function u(e){return e.toFixed(1)}s.propTypes={averageSentenceLength:n.default.number.isRequired,numLongSentences:n.default.number.isRequired,sentenceLengthParts:n.default.array.isRequired,storyParts:n.default.array.isRequired,storyId:n.default.string.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(1)),r=i(a(0)),o=a(28),l=i(a(68));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.sentenceStarters,a=e.storyParts,n=e.storyId;return r.default.createElement("div",{id:"adverb-usage-section",className:"dashboard-section"},r.default.createElement("div",{className:"title"},o.SENTENCE_STARTERS.title),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.SENTENCE_STARTERS.aboutTitle),r.default.createElement("div",{className:"description"},o.SENTENCE_STARTERS.aboutDescription)),r.default.createElement("br",null),r.default.createElement("div",{className:"paragraph"},r.default.createElement("div",{className:"subtitle"},o.SENTENCE_STARTERS.understandingTitle),r.default.createElement("div",{className:"description"},o.SENTENCE_STARTERS.understandingDescription),r.default.createElement("a",{className:"link",href:"https://www.wattpad.com/738076519-wattpad-story-insights-report-guide-sentence",target:"_blank"}," ",o.CONSTANTS.link)),r.default.createElement("br",null),r.default.createElement(l.default,{parts:t,storyParts:a,headers:o.SENTENCE_STARTERS.headers,formatter:[{field:"frequent_leading_words",format:u}],storyId:n}))};function u(e){return null===e?"None":(e.forEach(function(e,t,a){a[t]=e.charAt(0).toLocaleUpperCase()+e.slice(1)}),e.join(", "))}s.propTypes={sentenceStarters:n.default.array.isRequired,storyParts:n.default.array.isRequired,storyId:n.default.string.isRequired},t.default=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriterAnalyticsNavBar=s;var n=i(a(0)),r=i(a(1)),o=a(3),l=a(5);function i(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.story,a=e.section,r=e.trans;return n.default.createElement("nav",{className:"pull-right",role:"navigation",id:"writer-analytics-nav-bar"},n.default.createElement("ul",null,n.default.createElement("li",{"data-section":"activities",className:"activities"===a?"active":"not-active"},n.default.createElement("a",{className:"on-nav-item",href:"/myworks/"+t.id+"/analytics/"},r("Overview"))),n.default.createElement("li",{"data-section":"interactions",className:"interactions"===a?"active":"not-active"},n.default.createElement("a",{className:"on-nav-item",href:"/myworks/"+t.id+"/analytics/interactions"},r("Engagement"))),n.default.createElement("li",{"data-section":"demographics",className:"demographics"===a?"active":"not-active"},n.default.createElement("a",{className:"on-nav-item",href:"/myworks/"+t.id+"/analytics/demographics"},r("Demographics"))),n.default.createElement(u,{section:a,storyId:t.id,trans:r})))}function u(e){var t=e.section,a=e.storyId,r=e.trans;return n.default.createElement("li",{"data-section":"insights",className:"insights"===t?"active":"not-active"},n.default.createElement("div",{id:"story-report-tab","data-section":"insights"},n.default.createElement(o.ConnectImage,{name:"desktop-web/beta-tag-2x.png",id:"story-report-beta-tag",height:"19px",width:"40px"})),n.default.createElement("a",{className:"on-nav-item",href:"/myworks/"+a+"/analytics/insights"},r("Story Report")))}s.propTypes={story:r.default.object.isRequired,section:r.default.string.isRequired,trans:r.default.func},t.default=(0,l.injectTrans)(s),u.propTypes={section:r.default.string.isRequired,storyId:r.default.string.isRequired,trans:r.default.func.isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriterInsightsCTA=i;var n=l(a(0)),r=l(a(1)),o=a(3);function l(e){return e&&e.__esModule?e:{default:e}}function i(e){var t="/myworks/"+e.story.id+"/analytics/insights";return n.default.createElement(o.SmallNavigation,{link:t,className:"writer-insights-cta",heading:"Get confidential feedback on this story.",subheading:n.default.createElement(n.default.Fragment,null,"Check out the Story Insights Report; a comprehensive solution to improve your writing using a multi-genre machine-learning algorithm, unique to Wattpad. ",n.default.createElement("span",{className:"fake-link"},"Learn More")),image:"errors/story-404.svg"})}i.propTypes={story:r.default.shape({id:r.default.string.isRequired}).isRequired}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=c(a(0)),o=c(a(1)),l=c(a(7)),i=a(3),s=a(5),u=c(a(512));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var f=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return a=n=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),n.state={done:!1,selectedStory:n.props.selectedStoryId,uploading:!1},n.selectStory=function(e){n.setState({selectedStory:e.id})},d(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"componentDidMount",value:function(){var e=this,t=window.wattpad.utils.currentUser().toJSON().username;this.setState({newCover:document.getElementById("newCover").getAttribute("src")}),$.get("/api/v3/users/"+t+"/stories").then(function(t){e.setState({works:t.stories.sort(function(t,a){return e.state.selectedStory&&t.id==e.state.selectedStory?-1:e.state.selectedStory&&a.id==e.state.selectedStory?1:0})})})}},{key:"detectCanvasSupport",value:function(){return!!document.createElement("canvas").getContext}},{key:"captureCover",value:function(e){if(this.detectCanvasSupport())return new Promise(function(t){var a=new Image;a.crossOrigin="Anonymous",a.onload=function(){var e=document.createElement("canvas");e.width=512,e.height=800,e.getContext("2d").drawImage(a,0,0,512,800),t(e.toDataURL())},a.src=e})}},{key:"uploadCover",value:function(e){var t=this;this.captureCover(this.state.newCover).then(function(a){if(a)return t.setState({uploading:!0}),Promise.resolve($.ajax({type:"POST",url:"/apiv2/updatestorycover",data:{id:e,image:a.match(/;base64,(.+)$/)[1]}})).then(function(){t.setState({done:!0}),window.te.push("event","writer","cover",null,"add",{storyid:e,source:"canva"})})})}},{key:"render",value:function(){var e=this,t=this.props.trans,a=this.state.works?this.state.works:this.props.works?this.props.works:[],n=(this.state.newCover?this.state:this.props).newCover,o=this.state,s=o.done,c=o.uploading;return r.default.createElement("div",{id:"creation-works-listing",className:"container"},s&&r.default.createElement("div",{className:(0,l.default)("cover-finished")},r.default.createElement("span",{className:"success-message",dangerouslySetInnerHTML:{__html:t("Cover uploaded to <strong>'%s'</strong>",this.state.works.find(function(t){return t.id==e.state.selectedStory}).title)}}),r.default.createElement("a",{href:"/myworks/"+this.state.selectedStory,className:"btn btn-md btn-orange"},t("Go to story"))),r.default.createElement("div",{className:"import-cover"},!s&&r.default.createElement("div",{className:"new-cover-block"},r.default.createElement("img",{width:"256",id:"newCover",src:n,alt:"new cover"})),!s&&r.default.createElement("div",{className:"user-story-list"},r.default.createElement("h3",null,t("Add cover to selected story")),c&&r.default.createElement(i.ConnectImage,{name:"/icons/spinner-black.svg",className:"progress-spinner fa-spin",alt:t("Spinner"),height:"48",width:"48"}),!c&&a.map(function(t){var a=!1;return e.state.selectedStory&&e.state.selectedStory==t.id&&(a=!0),r.default.createElement(u.default,{key:t.id,story:t,className:(0,l.default)({selected:a}),onSelectStory:e.selectStory})}))),!s&&r.default.createElement("div",{className:(0,l.default)("continue-nav",{hidden:s})},r.default.createElement("button",{onClick:this.uploadCover.bind(this,this.state.selectedStory),className:(0,l.default)("btn btn-md btn-orange",{disabled:!this.state.selectedStory})},t("Next"))))}}]),t}();f.propTypes={works:o.default.array,coverUri:o.default.string,selectedStoryId:o.default.string,trans:o.default.func.isRequired},t.default=(0,s.injectTrans)(f)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=u(a(0)),o=u(a(1)),l=a(5),i=a(3),s=u(a(7));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.story,n=t.trans;a.publishedPartsCount=a.parts.filter(function(e){return!e.draft}).length,a.draftPartsCount=a.parts.filter(function(e){return e.draft}).length;var o=n("%s Published part",a.publishedPartsCount);a.publishedPartsCount>1&&(o=n("%s Published parts",a.publishedPartsCount));var u=n("%s - draft",a.draftPartsCount);return a.draftPartsCount>1&&(u=n("%s - drafts",a.draftPartsCount)),r.default.createElement("div",{className:(0,s.default)("story-list-item",this.props.className),key:a.id,onClick:function(){return e.props.onSelectStory(a)},onKeyDown:function(){return e.props.onSelectStory(a)},role:"row",tabIndex:"0"},r.default.createElement("img",{className:"story-cover",src:a.cover,alt:a+" cover"}),r.default.createElement("div",{className:"story-item-details"},r.default.createElement("h4",{className:"story-title"},a.title),r.default.createElement("div",null,a.publishedPartsCount?r.default.createElement("span",{className:"publish-count"},o):"",a.draftPartsCount?r.default.createElement("span",{className:"draft-count"}," ",u):""),r.default.createElement("div",{className:"updated-date"},n("Updated %s",(0,l.fromNow)(a.modifyDate))),r.default.createElement("div",{className:"meta-wrapper"},r.default.createElement("span",{className:"story-meta"},r.default.createElement(i.Icon,{iconName:"fa-view",height:"12",color:"wp-neutral-3"}),(0,l.count)(a.readCount).toString()),r.default.createElement("span",{className:"story-meta"},r.default.createElement(i.Icon,{iconName:"fa-vote",height:"12",color:"wp-neutral-3"}),(0,l.count)(a.voteCount).toString()),r.default.createElement("span",{className:"story-meta"},r.default.createElement(i.Icon,{iconName:"fa-comment",height:"12",color:"wp-neutral-3"}),(0,l.count)(a.commentCount).toString()))))}}]),t}();c.propTypes={story:o.default.object.isRequired,className:o.default.string,trans:o.default.func.isRequired,onSelectStory:o.default.func},t.default=(0,l.injectTrans)(c)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(0),l=c(o),i=c(a(1)),s=c(a(114)),u=a(514);function c(e){return e&&e.__esModule?e:{default:e}}var d={sectionType:"swimlane",index:0,setPosition:function(){},windowWidth:1920,wasSeen:!1},f=function(e){var t=(0,o.useState)([]),a=r(t,2),i=a[0],c=a[1];(0,o.useEffect)(function(){(function(){var t=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,o){try{var l=t[r](o),i=l.value}catch(e){return void a(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:!i.length&&e.rootTopic&&$.get("/v4/paid_stories/tags/"+e.rootTopic.get("name")+"?fields=stories(id,title,tags,cover)").then(function(e){return e.stories.map(function(e){return e.isPaid=!0,e})}).then(function(e){return c(e)});case 1:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}})()()},[e.rootTopic,i.length]);var f=!(!i.length||!e.rootTopic);return l.default.createElement(l.default.Fragment,null,f&&l.default.createElement(s.default,n({},d,{page:"tags",wasSeen:!0,sectionType:"tags_paid_carousel",heading:"Hottest "+e.rootTopic.get("topic")+" Paid Stories",subheading:"Read the stories we love",stories:i.length?i:u.MultiStoryInfo.slice(0,7),isPromoted:!1,storiesToShow:7,storyWidth:112})))};f.propTypes={rootTopic:i.default.object},t.default=f},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.SingleStoryInfo={id:0,title:"The Ugly Barnacle",cover:"https://a.wattpad.com/cover/197712604-512-k40d0e0.jpg",isPaid:!0,tags:["shortstory","sad","tragedy"],sources:["a","b","c"],width:200,index:1};t.HeaderInfo={heading:"hello",subheading:"world",isPromoted:!0},t.MultiStoryInfo=Array(10).fill(n),t.GreetingInfo={sectionType:"greeting",greeting:"Welcome home, user!"}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CatalogHeader=t.Catalog=void 0;var n=a(516),r=a(197);t.Catalog=n.Catalog,t.CatalogHeader=r.CatalogHeader},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Catalog=void 0;var n=s(a(0)),r=s(a(1)),o=a(6),l=a(197),i=a(517);function s(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=e.catalog,a=(0,o.useTrans)().trans;return n.default.createElement("div",{className:"catalog-container"},n.default.createElement(l.CatalogHeader,{title:a("Paid Stories")}),"paidstories"===t&&n.default.createElement(i.PaidStoriesCatalog,null))}u.propTypes={catalog:r.default.string.isRequired},t.Catalog=u},function(e,t,a){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.PaidStoriesCatalog=void 0;var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),r=a(0),o=d(r),l=a(11),i=a(109),s=d(a(1)),u=a(6),c=d(a(114));function d(e){return e&&e.__esModule?e:{default:e}}var f=f||e;function p(e){var t=e.loadPaidStoriesList,a=e.paidStoriesListByTag,l=(0,r.useState)(f.innerWidth),i=n(l,2),s=i[0],d=i[1];(0,u.useEventListener)("resize",function(){d(f.innerWidth)}),(0,u.useScrollDetection)({direction:"down",threshold:200,onThreshold:function(){t()}}),(0,r.useEffect)(function(){t()},[t]);var p=(0,u.useTrans)().trans,m={action:p("Action"),adventure:p("Adventure"),diverselit:p("Diverse Lit"),fantasy:p("Fantasy"),historicalfiction:p("Historical Fiction"),horror:p("Horror"),humor:p("Humor"),lgbt:p("LGBT+"),mystery:p("Mystery"),newadult:p("New Adult"),paranormal:p("Paranormal"),romance:p("Romance"),sciencefiction:p("Science Fiction"),teenfiction:p("Teen Fiction"),thriller:p("Thriller"),werewolf:p("Werewolf")};return(0,u.useSetDocumentTitle)(p("Catalog")+" - "+p("Paid Stories")),o.default.createElement("div",{className:"catalog-content"},Object.keys(a).map(function(e){var t=m[e]||e;return o.default.createElement(c.default,{key:e,windowWidth:s,index:0,setPosition:function(){},page:"catalog",wasSeen:!0,sectionType:"paid_view_all_carousel",title:t,heading:t,stories:a[e],isPromoted:!1,withDivider:!1})}))}p.propTypes={loadPaidStoriesList:s.default.func,paidStoriesListByTag:s.default.object};var m=(0,l.connect)(function(e){return{paidStoriesListByTag:e.catalog.paidStoriesListByTag}},{loadPaidStoriesList:i.loadPaidStoriesList})(p);t.PaidStoriesCatalog=m}).call(this,a(21))}])});